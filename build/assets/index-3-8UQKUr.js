const __vite__fileDeps=["assets/index-CsvwqChe.js","assets/index-bcifMYEQ.js","assets/index-i_XtQaoV.css","assets/index-B5WIQYNX.js","assets/workspace-B7rzdioy.js","assets/index-BShxYbw6.js","assets/index-Bbbt0fU1.js","assets/index-BRemLqNi.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Lo=Object.defineProperty;var Io=(A,$,H)=>$ in A?Lo(A,$,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[$]=H;var Dn=(A,$,H)=>(Io(A,typeof $!="symbol"?$+"":$,H),H),vi=(A,$,H)=>{if(!$.has(A))throw TypeError("Cannot "+H)};var V=(A,$,H)=>(vi(A,$,"read from private field"),H?H.call(A):$.get(A)),$e=(A,$,H)=>{if($.has(A))throw TypeError("Cannot add the same private member more than once");$ instanceof WeakSet?$.add(A):$.set(A,H)},rt=(A,$,H,R)=>(vi(A,$,"write to private field"),R?R.call(A,H):$.set(A,H),H);var Tr=(A,$,H,R)=>({set _(O){rt(A,$,O,H)},get _(){return V(A,$,R)}}),ze=(A,$,H)=>(vi(A,$,"access private method"),H);import{ax as getAugmentedNamespace,r as reactExports,C as reactDomExports,ay as useQuery,t as tsmAxios,az as useParams,n as useSelector,j as jsxRuntimeExports,V as Loading,f as useRoutes,_ as __vitePreload,e as createRouters,aA as Navigate}from"./index-bcifMYEQ.js";var lib$h={exports:{}},core_min={};function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,H){module.exports=$.pdfjsLib=H()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,$)=>{var ln;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=nt,$.bytesToString=Re,$.createValidAbsoluteUrl=ht,$.getModificationDate=Ct,$.getUuid=rn,$.getVerbosityLevel=Te,$.info=He,$.isArrayBuffer=ct,$.isArrayEqual=At,$.isNodeJS=void 0,$.normalizeUnicode=Qt,$.objectFromMap=st,$.objectSize=tt,$.setVerbosityLevel=be,$.shadow=yt,$.string32=Ge,$.stringToBytes=Xe,$.stringToPDFString=ot,$.stringToUTF8String=We,$.unreachable=Fe,$.utf8StringToString=Ue,$.warn=Qe;const H=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=H;const R=[1,0,0,1,0,0];$.IDENTITY_MATRIX=R;const O=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=O;const B=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=B;const Y=1.35;$.LINE_FACTOR=Y;const ge=.35;$.LINE_DESCENT_FACTOR=ge;const fe=ge/Y;$.BASELINE_FACTOR=fe;const de={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=de;const K={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=K;const Ee="pdfjs_internal_editor_";$.AnnotationEditorPrefix=Ee;const le={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=le;const ne={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=ne;const re={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=re;const Q={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Q;const q={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=q;const oe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=oe;const se={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=se;const ue={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=ue;const pe={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=pe;const ee={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=ee;const ae={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=ae;const Ae={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=Ae;const ve={O:"PageOpen",C:"PageClose"};$.PageActionEventType=ve;const te={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=te;const _e={NONE:0,BINARY:1};$.CMapCompressionType=_e;const he={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=he;const Pe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=Pe;let De=te.WARNINGS;function be(lt){Number.isInteger(lt)&&(De=lt)}function Te(){return De}function He(lt){De>=te.INFOS&&console.log(`Info: ${lt}`)}function Qe(lt){De>=te.WARNINGS&&console.log(`Warning: ${lt}`)}function Fe(lt){throw new Error(lt)}function nt(lt,Ve){lt||Fe(Ve)}function at(lt){switch(lt==null?void 0:lt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ht(lt,Ve=null,Ne=null){if(!lt)return null;try{if(Ne&&typeof lt=="string"){if(Ne.addDefaultProtocol&&lt.startsWith("www.")){const dt=lt.match(/\./g);(dt==null?void 0:dt.length)>=2&&(lt=`http://${lt}`)}if(Ne.tryConvertEncoding)try{lt=We(lt)}catch{}}const St=Ve?new URL(lt,Ve):new URL(lt);if(at(St))return St}catch{}return null}function yt(lt,Ve,Ne,St=!1){return Object.defineProperty(lt,Ve,{value:Ne,enumerable:!St,configurable:!0,writable:!1}),Ne}const we=function(){function Ve(Ne,St){this.constructor===Ve&&Fe("Cannot initialize BaseException."),this.message=Ne,this.name=St}return Ve.prototype=new Error,Ve.constructor=Ve,Ve}();$.BaseException=we;class W extends we{constructor(Ve,Ne){super(Ve,"PasswordException"),this.code=Ne}}$.PasswordException=W;class J extends we{constructor(Ve,Ne){super(Ve,"UnknownErrorException"),this.details=Ne}}$.UnknownErrorException=J;class G extends we{constructor(Ve){super(Ve,"InvalidPDFException")}}$.InvalidPDFException=G;class ie extends we{constructor(Ve){super(Ve,"MissingPDFException")}}$.MissingPDFException=ie;class ce extends we{constructor(Ve,Ne){super(Ve,"UnexpectedResponseException"),this.status=Ne}}$.UnexpectedResponseException=ce;class ye extends we{constructor(Ve){super(Ve,"FormatError")}}$.FormatError=ye;class Ce extends we{constructor(Ve){super(Ve,"AbortException")}}$.AbortException=Ce;function Re(lt){(typeof lt!="object"||(lt==null?void 0:lt.length)===void 0)&&Fe("Invalid argument for bytesToString");const Ve=lt.length,Ne=8192;if(Ve<Ne)return String.fromCharCode.apply(null,lt);const St=[];for(let dt=0;dt<Ve;dt+=Ne){const mn=Math.min(dt+Ne,Ve),Pn=lt.subarray(dt,mn);St.push(String.fromCharCode.apply(null,Pn))}return St.join("")}function Xe(lt){typeof lt!="string"&&Fe("Invalid argument for stringToBytes");const Ve=lt.length,Ne=new Uint8Array(Ve);for(let St=0;St<Ve;++St)Ne[St]=lt.charCodeAt(St)&255;return Ne}function Ge(lt){return String.fromCharCode(lt>>24&255,lt>>16&255,lt>>8&255,lt&255)}function tt(lt){return Object.keys(lt).length}function st(lt){const Ve=Object.create(null);for(const[Ne,St]of lt)Ve[Ne]=St;return Ve}function vt(){const lt=new Uint8Array(4);return lt[0]=1,new Uint32Array(lt.buffer,0,1)[0]===1}function ut(){try{return new Function(""),!0}catch{return!1}}class ft{static get isLittleEndian(){return yt(this,"isLittleEndian",vt())}static get isEvalSupported(){return yt(this,"isEvalSupported",ut())}static get isOffscreenCanvasSupported(){return yt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?yt(this,"platform",{isWin:!1,isMac:!1}):yt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ve,Ne;return yt(this,"isCSSRoundSupported",(Ne=(Ve=globalThis.CSS)==null?void 0:Ve.supports)==null?void 0:Ne.call(Ve,"width: round(1.5px, 1px)"))}}$.FeatureTest=ft;const gt=[...Array(256).keys()].map(lt=>lt.toString(16).padStart(2,"0"));class pt{static makeHexColor(Ve,Ne,St){return`#${gt[Ve]}${gt[Ne]}${gt[St]}`}static scaleMinMax(Ve,Ne){let St;Ve[0]?(Ve[0]<0&&(St=Ne[0],Ne[0]=Ne[1],Ne[1]=St),Ne[0]*=Ve[0],Ne[1]*=Ve[0],Ve[3]<0&&(St=Ne[2],Ne[2]=Ne[3],Ne[3]=St),Ne[2]*=Ve[3],Ne[3]*=Ve[3]):(St=Ne[0],Ne[0]=Ne[2],Ne[2]=St,St=Ne[1],Ne[1]=Ne[3],Ne[3]=St,Ve[1]<0&&(St=Ne[2],Ne[2]=Ne[3],Ne[3]=St),Ne[2]*=Ve[1],Ne[3]*=Ve[1],Ve[2]<0&&(St=Ne[0],Ne[0]=Ne[1],Ne[1]=St),Ne[0]*=Ve[2],Ne[1]*=Ve[2]),Ne[0]+=Ve[4],Ne[1]+=Ve[4],Ne[2]+=Ve[5],Ne[3]+=Ve[5]}static transform(Ve,Ne){return[Ve[0]*Ne[0]+Ve[2]*Ne[1],Ve[1]*Ne[0]+Ve[3]*Ne[1],Ve[0]*Ne[2]+Ve[2]*Ne[3],Ve[1]*Ne[2]+Ve[3]*Ne[3],Ve[0]*Ne[4]+Ve[2]*Ne[5]+Ve[4],Ve[1]*Ne[4]+Ve[3]*Ne[5]+Ve[5]]}static applyTransform(Ve,Ne){const St=Ve[0]*Ne[0]+Ve[1]*Ne[2]+Ne[4],dt=Ve[0]*Ne[1]+Ve[1]*Ne[3]+Ne[5];return[St,dt]}static applyInverseTransform(Ve,Ne){const St=Ne[0]*Ne[3]-Ne[1]*Ne[2],dt=(Ve[0]*Ne[3]-Ve[1]*Ne[2]+Ne[2]*Ne[5]-Ne[4]*Ne[3])/St,mn=(-Ve[0]*Ne[1]+Ve[1]*Ne[0]+Ne[4]*Ne[1]-Ne[5]*Ne[0])/St;return[dt,mn]}static getAxialAlignedBoundingBox(Ve,Ne){const St=this.applyTransform(Ve,Ne),dt=this.applyTransform(Ve.slice(2,4),Ne),mn=this.applyTransform([Ve[0],Ve[3]],Ne),Pn=this.applyTransform([Ve[2],Ve[1]],Ne);return[Math.min(St[0],dt[0],mn[0],Pn[0]),Math.min(St[1],dt[1],mn[1],Pn[1]),Math.max(St[0],dt[0],mn[0],Pn[0]),Math.max(St[1],dt[1],mn[1],Pn[1])]}static inverseTransform(Ve){const Ne=Ve[0]*Ve[3]-Ve[1]*Ve[2];return[Ve[3]/Ne,-Ve[1]/Ne,-Ve[2]/Ne,Ve[0]/Ne,(Ve[2]*Ve[5]-Ve[4]*Ve[3])/Ne,(Ve[4]*Ve[1]-Ve[5]*Ve[0])/Ne]}static singularValueDecompose2dScale(Ve){const Ne=[Ve[0],Ve[2],Ve[1],Ve[3]],St=Ve[0]*Ne[0]+Ve[1]*Ne[2],dt=Ve[0]*Ne[1]+Ve[1]*Ne[3],mn=Ve[2]*Ne[0]+Ve[3]*Ne[2],Pn=Ve[2]*Ne[1]+Ve[3]*Ne[3],Ye=(St+Pn)/2,Pt=Math.sqrt((St+Pn)**2-4*(St*Pn-mn*dt))/2,Nt=Ye+Pt||1,xt=Ye-Pt||1;return[Math.sqrt(Nt),Math.sqrt(xt)]}static normalizeRect(Ve){const Ne=Ve.slice(0);return Ve[0]>Ve[2]&&(Ne[0]=Ve[2],Ne[2]=Ve[0]),Ve[1]>Ve[3]&&(Ne[1]=Ve[3],Ne[3]=Ve[1]),Ne}static intersect(Ve,Ne){const St=Math.max(Math.min(Ve[0],Ve[2]),Math.min(Ne[0],Ne[2])),dt=Math.min(Math.max(Ve[0],Ve[2]),Math.max(Ne[0],Ne[2]));if(St>dt)return null;const mn=Math.max(Math.min(Ve[1],Ve[3]),Math.min(Ne[1],Ne[3])),Pn=Math.min(Math.max(Ve[1],Ve[3]),Math.max(Ne[1],Ne[3]));return mn>Pn?null:[St,mn,dt,Pn]}static bezierBoundingBox(Ve,Ne,St,dt,mn,Pn,Ye,Pt){const Nt=[],xt=[[],[]];let Bt,zt,En,wt,fn,Ot,Me,U;for(let qe=0;qe<2;++qe){if(qe===0?(zt=6*Ve-12*St+6*mn,Bt=-3*Ve+9*St-9*mn+3*Ye,En=3*St-3*Ve):(zt=6*Ne-12*dt+6*Pn,Bt=-3*Ne+9*dt-9*Pn+3*Pt,En=3*dt-3*Ne),Math.abs(Bt)<1e-12){if(Math.abs(zt)<1e-12)continue;wt=-En/zt,0<wt&&wt<1&&Nt.push(wt);continue}Me=zt*zt-4*En*Bt,U=Math.sqrt(Me),!(Me<0)&&(fn=(-zt+U)/(2*Bt),0<fn&&fn<1&&Nt.push(fn),Ot=(-zt-U)/(2*Bt),0<Ot&&Ot<1&&Nt.push(Ot))}let Se=Nt.length,xe;const Be=Se;for(;Se--;)wt=Nt[Se],xe=1-wt,xt[0][Se]=xe*xe*xe*Ve+3*xe*xe*wt*St+3*xe*wt*wt*mn+wt*wt*wt*Ye,xt[1][Se]=xe*xe*xe*Ne+3*xe*xe*wt*dt+3*xe*wt*wt*Pn+wt*wt*wt*Pt;return xt[0][Be]=Ve,xt[1][Be]=Ne,xt[0][Be+1]=Ye,xt[1][Be+1]=Pt,xt[0].length=xt[1].length=Be+2,[Math.min(...xt[0]),Math.min(...xt[1]),Math.max(...xt[0]),Math.max(...xt[1])]}}$.Util=pt;const Ft=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ot(lt){if(lt[0]>="ï"){let Ne;if(lt[0]==="þ"&&lt[1]==="ÿ"?Ne="utf-16be":lt[0]==="ÿ"&&lt[1]==="þ"?Ne="utf-16le":lt[0]==="ï"&&lt[1]==="»"&&lt[2]==="¿"&&(Ne="utf-8"),Ne)try{const St=new TextDecoder(Ne,{fatal:!0}),dt=Xe(lt);return St.decode(dt)}catch(St){Qe(`stringToPDFString: "${St}".`)}}const Ve=[];for(let Ne=0,St=lt.length;Ne<St;Ne++){const dt=Ft[lt.charCodeAt(Ne)];Ve.push(dt?String.fromCharCode(dt):lt.charAt(Ne))}return Ve.join("")}function We(lt){return decodeURIComponent(escape(lt))}function Ue(lt){return unescape(encodeURIComponent(lt))}function ct(lt){return typeof lt=="object"&&(lt==null?void 0:lt.byteLength)!==void 0}function At(lt,Ve){if(lt.length!==Ve.length)return!1;for(let Ne=0,St=lt.length;Ne<St;Ne++)if(lt[Ne]!==Ve[Ne])return!1;return!0}function Ct(lt=new Date){return[lt.getUTCFullYear().toString(),(lt.getUTCMonth()+1).toString().padStart(2,"0"),lt.getUTCDate().toString().padStart(2,"0"),lt.getUTCHours().toString().padStart(2,"0"),lt.getUTCMinutes().toString().padStart(2,"0"),lt.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ht{constructor(){$e(this,ln,!1);this.promise=new Promise((Ve,Ne)=>{this.resolve=St=>{rt(this,ln,!0),Ve(St)},this.reject=St=>{rt(this,ln,!0),Ne(St)}})}get settled(){return V(this,ln)}}ln=new WeakMap,$.PromiseCapability=Ht;let Zt=null,qt=null;function Qt(lt){return Zt||(Zt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,qt=new Map([["ﬅ","ſt"]])),lt.replaceAll(Zt,(Ve,Ne,St)=>Ne?Ne.normalize("NFKC"):qt.get(St))}function rn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const lt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(lt);else for(let Ve=0;Ve<32;Ve++)lt[Ve]=Math.floor(Math.random()*255);return Re(lt)}const Vt="pdfjs_internal_id_";$.AnnotationPrefix=Vt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,H,R,O,wr,Y,Ur,fe,de,K,Ee,le,ne,re,Q,q,Gr,se,ue,bi,ee,ae;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ve){if(typeof ve=="string"||ve instanceof URL?ve={url:ve}:(0,_util.isArrayBuffer)(ve)&&(ve={data:ve}),typeof ve!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ve.url&&!ve.data&&!ve.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const te=new PDFDocumentLoadingTask,{docId:_e}=te,he=ve.url?getUrlProp(ve.url):null,Pe=ve.data?getDataProp(ve.data):null,De=ve.httpHeaders||null,be=ve.withCredentials===!0,Te=ve.password??null,He=ve.range instanceof PDFDataRangeTransport?ve.range:null,Qe=Number.isInteger(ve.rangeChunkSize)&&ve.rangeChunkSize>0?ve.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Fe=ve.worker instanceof PDFWorker?ve.worker:null;const nt=ve.verbosity,at=typeof ve.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ve.docBaseUrl)?ve.docBaseUrl:null,ht=typeof ve.cMapUrl=="string"?ve.cMapUrl:null,yt=ve.cMapPacked!==!1,we=ve.CMapReaderFactory||DefaultCMapReaderFactory,W=typeof ve.standardFontDataUrl=="string"?ve.standardFontDataUrl:null,J=ve.StandardFontDataFactory||DefaultStandardFontDataFactory,G=ve.stopAtErrors!==!0,ie=Number.isInteger(ve.maxImageSize)&&ve.maxImageSize>-1?ve.maxImageSize:-1,ce=ve.isEvalSupported!==!1,ye=typeof ve.isOffscreenCanvasSupported=="boolean"?ve.isOffscreenCanvasSupported:!_util.isNodeJS,Ce=Number.isInteger(ve.canvasMaxAreaInBytes)?ve.canvasMaxAreaInBytes:-1,Re=typeof ve.disableFontFace=="boolean"?ve.disableFontFace:_util.isNodeJS,Xe=ve.fontExtraProperties===!0,Ge=ve.enableXfa===!0,tt=ve.ownerDocument||globalThis.document,st=ve.disableRange===!0,vt=ve.disableStream===!0,ut=ve.disableAutoFetch===!0,ft=ve.pdfBug===!0,gt=He?He.length:ve.length??NaN,pt=typeof ve.useSystemFonts=="boolean"?ve.useSystemFonts:!_util.isNodeJS&&!Re,Ft=typeof ve.useWorkerFetch=="boolean"?ve.useWorkerFetch:we===_display_utils.DOMCMapReaderFactory&&J===_display_utils.DOMStandardFontDataFactory&&ht&&W&&(0,_display_utils.isValidFetchUrl)(ht,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(W,document.baseURI),ot=ve.canvasFactory||new DefaultCanvasFactory({ownerDocument:tt}),We=ve.filterFactory||new DefaultFilterFactory({docId:_e,ownerDocument:tt}),Ue=null;(0,_util.setVerbosityLevel)(nt);const ct={canvasFactory:ot,filterFactory:We};if(Ft||(ct.cMapReaderFactory=new we({baseUrl:ht,isCompressed:yt}),ct.standardFontDataFactory=new J({baseUrl:W})),!Fe){const Ht={verbosity:nt,port:_worker_options.GlobalWorkerOptions.workerPort};Fe=Ht.port?PDFWorker.fromPort(Ht):new PDFWorker(Ht),te._worker=Fe}const At={docId:_e,apiVersion:"3.11.174",data:Pe,password:Te,disableAutoFetch:ut,rangeChunkSize:Qe,length:gt,docBaseUrl:at,enableXfa:Ge,evaluatorOptions:{maxImageSize:ie,disableFontFace:Re,ignoreErrors:G,isEvalSupported:ce,isOffscreenCanvasSupported:ye,canvasMaxAreaInBytes:Ce,fontExtraProperties:Xe,useSystemFonts:pt,cMapUrl:Ft?ht:null,standardFontDataUrl:Ft?W:null}},Ct={ignoreErrors:G,isEvalSupported:ce,disableFontFace:Re,fontExtraProperties:Xe,enableXfa:Ge,ownerDocument:tt,disableAutoFetch:ut,pdfBug:ft,styleElement:Ue};return Fe.promise.then(function(){if(te.destroyed)throw new Error("Loading aborted");const Ht=_fetchDocument(Fe,At),Zt=new Promise(function(qt){let Qt;He?Qt=new _transport_stream.PDFDataTransportStream({length:gt,initialData:He.initialData,progressiveDone:He.progressiveDone,contentDispositionFilename:He.contentDispositionFilename,disableRange:st,disableStream:vt},He):Pe||(Qt=(Vt=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Vt):(0,_display_utils.isValidFetchUrl)(Vt.url)?new _displayFetch_stream.PDFFetchStream(Vt):new _displayNetwork.PDFNetworkStream(Vt))({url:he,length:gt,httpHeaders:De,withCredentials:be,rangeChunkSize:Qe,disableRange:st,disableStream:vt})),qt(Qt)});return Promise.all([Ht,Zt]).then(function([qt,Qt]){if(te.destroyed)throw new Error("Loading aborted");const rn=new _message_handler.MessageHandler(_e,qt,Fe.port),Vt=new WorkerTransport(rn,te,Qt,Ct,ct);te._transport=Vt,rn.send("Ready",null)})}).catch(te._capability.reject),te}async function _fetchDocument(ve,te){if(ve.destroyed)throw new Error("Worker was destroyed");const _e=await ve.messageHandler.sendWithPromise("GetDocRequest",te,te.data?[te.data.buffer]:null);if(ve.destroyed)throw new Error("Worker was destroyed");return _e}function getUrlProp(ve){if(ve instanceof URL)return ve.href;try{return new URL(ve,window.location).href}catch{if(_util.isNodeJS&&typeof ve=="string")return ve}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ve){if(_util.isNodeJS&&typeof Buffer<"u"&&ve instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ve instanceof Uint8Array&&ve.byteLength===ve.buffer.byteLength)return ve;if(typeof ve=="string")return(0,_util.stringToBytes)(ve);if(typeof ve=="object"&&!isNaN(ve==null?void 0:ve.length)||(0,_util.isArrayBuffer)(ve))return new Uint8Array(ve);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Tr($,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var te,_e,he;this.destroyed=!0;try{(te=this._worker)!=null&&te.port&&(this._worker._pendingDestroy=!0),await((_e=this._transport)==null?void 0:_e.destroy())}catch(Pe){throw(he=this._worker)!=null&&he.port&&delete this._worker._pendingDestroy,Pe}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,$e($,A,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(te,_e,he=!1,Pe=null){this.length=te,this.initialData=_e,this.progressiveDone=he,this.contentDispositionFilename=Pe,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(te){this._rangeListeners.push(te)}addProgressListener(te){this._progressListeners.push(te)}addProgressiveReadListener(te){this._progressiveReadListeners.push(te)}addProgressiveDoneListener(te){this._progressiveDoneListeners.push(te)}onDataRange(te,_e){for(const he of this._rangeListeners)he(te,_e)}onDataProgress(te,_e){this._readyCapability.promise.then(()=>{for(const he of this._progressListeners)he(te,_e)})}onDataProgressiveRead(te){this._readyCapability.promise.then(()=>{for(const _e of this._progressiveReadListeners)_e(te)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const te of this._progressiveDoneListeners)te()})}transportReady(){this._readyCapability.resolve()}requestDataRange(te,_e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(te,_e){this._pdfInfo=te,this._transport=_e,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(he=>{if(!he)return he;const Pe=[];for(const De in he)Pe.push(...he[De]);return Pe}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(te){return this._transport.getPage(te)}getPageIndex(te){return this._transport.getPageIndex(te)}getDestinations(){return this._transport.getDestinations()}getDestination(te){return this._transport.getDestination(te)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(te=!1){return this._transport.startCleanup(te||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(te,_e,he,Pe=!1){$e(this,O);$e(this,Y);$e(this,H,null);$e(this,R,!1);this._pageIndex=te,this._pageInfo=_e,this._transport=he,this._stats=Pe?new _display_utils.StatTimer:null,this._pdfBug=Pe,this.commonObjs=he.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:te,rotation:_e=this.rotate,offsetX:he=0,offsetY:Pe=0,dontFlip:De=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:te,rotation:_e,offsetX:he,offsetY:Pe,dontFlip:De})}getAnnotations({intent:te="display"}={}){const _e=this._transport.getRenderingIntent(te);return this._transport.getAnnotations(this._pageIndex,_e.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var te;return((te=this._transport._htmlForXfa)==null?void 0:te.children[this._pageIndex])||null}render({canvasContext:te,viewport:_e,intent:he="display",annotationMode:Pe=_util.AnnotationMode.ENABLE,transform:De=null,background:be=null,optionalContentConfigPromise:Te=null,annotationCanvasMap:He=null,pageColors:Qe=null,printAnnotationStorage:Fe=null}){var J,G;(J=this._stats)==null||J.time("Overall");const nt=this._transport.getRenderingIntent(he,Pe,Fe);rt(this,R,!1),ze(this,Y,Ur).call(this),Te||(Te=this._transport.getOptionalContentConfig());let at=this._intentStates.get(nt.cacheKey);at||(at=Object.create(null),this._intentStates.set(nt.cacheKey,at)),at.streamReaderCancelTimeout&&(clearTimeout(at.streamReaderCancelTimeout),at.streamReaderCancelTimeout=null);const ht=!!(nt.renderingIntent&_util.RenderingIntentFlag.PRINT);at.displayReadyCapability||(at.displayReadyCapability=new _util.PromiseCapability,at.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(G=this._stats)==null||G.time("Page Request"),this._pumpOperatorList(nt));const yt=ie=>{var ce,ye;at.renderTasks.delete(we),(this._maybeCleanupAfterRender||ht)&&rt(this,R,!0),ze(this,O,wr).call(this,!ht),ie?(we.capability.reject(ie),this._abortOperatorList({intentState:at,reason:ie instanceof Error?ie:new Error(ie)})):we.capability.resolve(),(ce=this._stats)==null||ce.timeEnd("Rendering"),(ye=this._stats)==null||ye.timeEnd("Overall")},we=new InternalRenderTask({callback:yt,params:{canvasContext:te,viewport:_e,transform:De,background:be},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:He,operatorList:at.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ht,pdfBug:this._pdfBug,pageColors:Qe});(at.renderTasks||(at.renderTasks=new Set)).add(we);const W=we.task;return Promise.all([at.displayReadyCapability.promise,Te]).then(([ie,ce])=>{var ye;if(this.destroyed){yt();return}(ye=this._stats)==null||ye.time("Rendering"),we.initializeGraphics({transparency:ie,optionalContentConfig:ce}),we.operatorListChanged()}).catch(yt),W}getOperatorList({intent:te="display",annotationMode:_e=_util.AnnotationMode.ENABLE,printAnnotationStorage:he=null}={}){var He;function Pe(){be.operatorList.lastChunk&&(be.opListReadCapability.resolve(be.operatorList),be.renderTasks.delete(Te))}const De=this._transport.getRenderingIntent(te,_e,he,!0);let be=this._intentStates.get(De.cacheKey);be||(be=Object.create(null),this._intentStates.set(De.cacheKey,be));let Te;return be.opListReadCapability||(Te=Object.create(null),Te.operatorListChanged=Pe,be.opListReadCapability=new _util.PromiseCapability,(be.renderTasks||(be.renderTasks=new Set)).add(Te),be.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(He=this._stats)==null||He.time("Page Request"),this._pumpOperatorList(De)),be.opListReadCapability.promise}streamTextContent({includeMarkedContent:te=!1,disableNormalization:_e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:te===!0,disableNormalization:_e===!0},{highWaterMark:100,size(Pe){return Pe.items.length}})}getTextContent(te={}){if(this._transport._htmlForXfa)return this.getXfa().then(he=>_xfa_text.XfaText.textContent(he));const _e=this.streamTextContent(te);return new Promise(function(he,Pe){function De(){be.read().then(function({value:He,done:Qe}){if(Qe){he(Te);return}Object.assign(Te.styles,He.styles),Te.items.push(...He.items),De()},Pe)}const be=_e.getReader(),Te={items:[],styles:Object.create(null)};De()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const te=[];for(const _e of this._intentStates.values())if(this._abortOperatorList({intentState:_e,reason:new Error("Page was destroyed."),force:!0}),!_e.opListReadCapability)for(const he of _e.renderTasks)te.push(he.completed),he.cancel();return this.objs.clear(),rt(this,R,!1),ze(this,Y,Ur).call(this),Promise.all(te)}cleanup(te=!1){rt(this,R,!0);const _e=ze(this,O,wr).call(this,!1);return te&&_e&&this._stats&&(this._stats=new _display_utils.StatTimer),_e}_startRenderPage(te,_e){var Pe,De;const he=this._intentStates.get(_e);he&&((Pe=this._stats)==null||Pe.timeEnd("Page Request"),(De=he.displayReadyCapability)==null||De.resolve(te))}_renderPageChunk(te,_e){for(let he=0,Pe=te.length;he<Pe;he++)_e.operatorList.fnArray.push(te.fnArray[he]),_e.operatorList.argsArray.push(te.argsArray[he]);_e.operatorList.lastChunk=te.lastChunk,_e.operatorList.separateAnnots=te.separateAnnots;for(const he of _e.renderTasks)he.operatorListChanged();te.lastChunk&&ze(this,O,wr).call(this,!0)}_pumpOperatorList({renderingIntent:te,cacheKey:_e,annotationStorageSerializable:he}){const{map:Pe,transfers:De}=he,Te=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:te,cacheKey:_e,annotationStorage:Pe},De).getReader(),He=this._intentStates.get(_e);He.streamReader=Te;const Qe=()=>{Te.read().then(({value:Fe,done:nt})=>{if(nt){He.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Fe,He),Qe())},Fe=>{if(He.streamReader=null,!this._transport.destroyed){if(He.operatorList){He.operatorList.lastChunk=!0;for(const nt of He.renderTasks)nt.operatorListChanged();ze(this,O,wr).call(this,!0)}if(He.displayReadyCapability)He.displayReadyCapability.reject(Fe);else if(He.opListReadCapability)He.opListReadCapability.reject(Fe);else throw Fe}})};Qe()}_abortOperatorList({intentState:te,reason:_e,force:he=!1}){if(te.streamReader){if(te.streamReaderCancelTimeout&&(clearTimeout(te.streamReaderCancelTimeout),te.streamReaderCancelTimeout=null),!he){if(te.renderTasks.size>0)return;if(_e instanceof _display_utils.RenderingCancelledException){let Pe=RENDERING_CANCELLED_TIMEOUT;_e.extraDelay>0&&_e.extraDelay<1e3&&(Pe+=_e.extraDelay),te.streamReaderCancelTimeout=setTimeout(()=>{te.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:te,reason:_e,force:!0})},Pe);return}}if(te.streamReader.cancel(new _util.AbortException(_e.message)).catch(()=>{}),te.streamReader=null,!this._transport.destroyed){for(const[Pe,De]of this._intentStates)if(De===te){this._intentStates.delete(Pe);break}this.cleanup()}}}get stats(){return this._stats}}H=new WeakMap,R=new WeakMap,O=new WeakSet,wr=function(te=!1){if(ze(this,Y,Ur).call(this),!V(this,R)||this.destroyed)return!1;if(te)return rt(this,H,setTimeout(()=>{rt(this,H,null),ze(this,O,wr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:_e,operatorList:he}of this._intentStates.values())if(_e.size>0||!he.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),rt(this,R,!1),!0},Y=new WeakSet,Ur=function(){V(this,H)&&(clearTimeout(V(this,H)),rt(this,H,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){$e(this,fe,new Set);$e(this,de,Promise.resolve())}postMessage(te,_e){const he={data:structuredClone(te,_e?{transfer:_e}:null)};V(this,de).then(()=>{for(const Pe of V(this,fe))Pe.call(this,he)})}addEventListener(te,_e){V(this,fe).add(_e)}removeEventListener(te,_e){V(this,fe).delete(_e)}terminate(){V(this,fe).clear()}}fe=new WeakMap,de=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ve=(K=document==null?void 0:document.currentScript)==null?void 0:K.src;ve&&(PDFWorkerUtil.fallbackWorkerSrc=ve.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ve,te){let _e;try{if(_e=new URL(ve),!_e.origin||_e.origin==="null")return!1}catch{return!1}const he=new URL(te,_e);return _e.origin===he.origin},PDFWorkerUtil.createCDNWrapper=function(ve){const te=`importScripts("${ve}");`;return URL.createObjectURL(new Blob([te]))}}const _PDFWorker=class _PDFWorker{constructor({name:ve=null,port:te=null,verbosity:_e=(0,_util.getVerbosityLevel)()}={}){var he;if(this.name=ve,this.destroyed=!1,this.verbosity=_e,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,te){if((he=V(_PDFWorker,Ee))!=null&&he.has(te))throw new Error("Cannot use more than one PDFWorker per port.");(V(_PDFWorker,Ee)||rt(_PDFWorker,Ee,new WeakMap)).set(te,this),this._initializeFromPort(te);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ve){this._port=ve,this._messageHandler=new _message_handler.MessageHandler("main","worker",ve),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ve}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ve)||(ve=PDFWorkerUtil.createCDNWrapper(new URL(ve,window.location).href));const te=new Worker(ve),_e=new _message_handler.MessageHandler("main","worker",te),he=()=>{te.removeEventListener("error",Pe),_e.destroy(),te.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Pe=()=>{this._webWorker||he()};te.addEventListener("error",Pe),_e.on("test",be=>{if(te.removeEventListener("error",Pe),this.destroyed){he();return}be?(this._messageHandler=_e,this._port=te,this._webWorker=te,this._readyCapability.resolve(),_e.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),_e.destroy(),te.terminate())}),_e.on("ready",be=>{if(te.removeEventListener("error",Pe),this.destroyed){he();return}try{De()}catch{this._setupFakeWorker()}});const De=()=>{const be=new Uint8Array;_e.send("test",be,[be.buffer])};De();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ve=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const te=new LoopbackPort;this._port=te;const _e=`fake${PDFWorkerUtil.fakeWorkerId++}`,he=new _message_handler.MessageHandler(_e+"_worker",_e,te);ve.setup(he,te);const Pe=new _message_handler.MessageHandler(_e,_e+"_worker",te);this._messageHandler=Pe,this._readyCapability.resolve(),Pe.send("configure",{verbosity:this.verbosity})}).catch(ve=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ve.message}".`))})}destroy(){var ve;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ve=V(_PDFWorker,Ee))==null||ve.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ve){var _e;if(!(ve!=null&&ve.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const te=(_e=V(this,Ee))==null?void 0:_e.get(ve.port);if(te){if(te._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return te}return new _PDFWorker(ve)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ve;try{return((ve=globalThis.pdfjsWorker)==null?void 0:ve.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};Ee=new WeakMap,$e(_PDFWorker,Ee,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(te,_e,he,Pe,De){$e(this,q);$e(this,le,new Map);$e(this,ne,new Map);$e(this,re,new Map);$e(this,Q,null);this.messageHandler=te,this.loadingTask=_e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Pe.ownerDocument,styleElement:Pe.styleElement}),this._params=Pe,this.canvasFactory=De.canvasFactory,this.filterFactory=De.filterFactory,this.cMapReaderFactory=De.cMapReaderFactory,this.standardFontDataFactory=De.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=he,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(te,_e=_util.AnnotationMode.ENABLE,he=null,Pe=!1){let De=_util.RenderingIntentFlag.DISPLAY,be=_annotation_storage.SerializableEmpty;switch(te){case"any":De=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":De=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${te}`)}switch(_e){case _util.AnnotationMode.DISABLE:De+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:De+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:De+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,be=(De&_util.RenderingIntentFlag.PRINT&&he instanceof _annotation_storage.PrintAnnotationStorage?he:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${_e}`)}return Pe&&(De+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:De,cacheKey:`${De}_${be.hash}`,annotationStorageSerializable:be}}destroy(){var he;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(he=V(this,Q))==null||he.reject(new Error("Worker was destroyed during onPassword callback"));const te=[];for(const Pe of V(this,ne).values())te.push(Pe._destroy());V(this,ne).clear(),V(this,re).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _e=this.messageHandler.sendWithPromise("Terminate",null);return te.push(_e),Promise.all(te).then(()=>{var Pe;this.commonObjs.clear(),this.fontLoader.clear(),V(this,le).clear(),this.filterFactory.destroy(),(Pe=this._networkStream)==null||Pe.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:te,loadingTask:_e}=this;te.on("GetReader",(he,Pe)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=De=>{this._lastProgress={loaded:De.loaded,total:De.total}},Pe.onPull=()=>{this._fullReader.read().then(function({value:De,done:be}){if(be){Pe.close();return}(0,_util.assert)(De instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Pe.enqueue(new Uint8Array(De),1,[De])}).catch(De=>{Pe.error(De)})},Pe.onCancel=De=>{this._fullReader.cancel(De),Pe.ready.catch(be=>{if(!this.destroyed)throw be})}}),te.on("ReaderHeadersReady",he=>{const Pe=new _util.PromiseCapability,De=this._fullReader;return De.headersReady.then(()=>{var be;(!De.isStreamingSupported||!De.isRangeSupported)&&(this._lastProgress&&((be=_e.onProgress)==null||be.call(_e,this._lastProgress)),De.onProgress=Te=>{var He;(He=_e.onProgress)==null||He.call(_e,{loaded:Te.loaded,total:Te.total})}),Pe.resolve({isStreamingSupported:De.isStreamingSupported,isRangeSupported:De.isRangeSupported,contentLength:De.contentLength})},Pe.reject),Pe.promise}),te.on("GetRangeReader",(he,Pe)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const De=this._networkStream.getRangeReader(he.begin,he.end);if(!De){Pe.close();return}Pe.onPull=()=>{De.read().then(function({value:be,done:Te}){if(Te){Pe.close();return}(0,_util.assert)(be instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Pe.enqueue(new Uint8Array(be),1,[be])}).catch(be=>{Pe.error(be)})},Pe.onCancel=be=>{De.cancel(be),Pe.ready.catch(Te=>{if(!this.destroyed)throw Te})}}),te.on("GetDoc",({pdfInfo:he})=>{this._numPages=he.numPages,this._htmlForXfa=he.htmlForXfa,delete he.htmlForXfa,_e._capability.resolve(new PDFDocumentProxy(he,this))}),te.on("DocException",function(he){let Pe;switch(he.name){case"PasswordException":Pe=new _util.PasswordException(he.message,he.code);break;case"InvalidPDFException":Pe=new _util.InvalidPDFException(he.message);break;case"MissingPDFException":Pe=new _util.MissingPDFException(he.message);break;case"UnexpectedResponseException":Pe=new _util.UnexpectedResponseException(he.message,he.status);break;case"UnknownErrorException":Pe=new _util.UnknownErrorException(he.message,he.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}_e._capability.reject(Pe)}),te.on("PasswordRequest",he=>{if(rt(this,Q,new _util.PromiseCapability),_e.onPassword){const Pe=De=>{De instanceof Error?V(this,Q).reject(De):V(this,Q).resolve({password:De})};try{_e.onPassword(Pe,he.code)}catch(De){V(this,Q).reject(De)}}else V(this,Q).reject(new _util.PasswordException(he.message,he.code));return V(this,Q).promise}),te.on("DataLoaded",he=>{var Pe;(Pe=_e.onProgress)==null||Pe.call(_e,{loaded:he.length,total:he.length}),this.downloadInfoCapability.resolve(he)}),te.on("StartRenderPage",he=>{if(this.destroyed)return;V(this,ne).get(he.pageIndex)._startRenderPage(he.transparency,he.cacheKey)}),te.on("commonobj",([he,Pe,De])=>{var be;if(!this.destroyed&&!this.commonObjs.has(he))switch(Pe){case"Font":const Te=this._params;if("error"in De){const Fe=De.error;(0,_util.warn)(`Error during font loading: ${Fe}`),this.commonObjs.resolve(he,Fe);break}const He=Te.pdfBug&&((be=globalThis.FontInspector)!=null&&be.enabled)?(Fe,nt)=>globalThis.FontInspector.fontAdded(Fe,nt):null,Qe=new _font_loader.FontFaceObject(De,{isEvalSupported:Te.isEvalSupported,disableFontFace:Te.disableFontFace,ignoreErrors:Te.ignoreErrors,inspectFont:He});this.fontLoader.bind(Qe).catch(Fe=>te.sendWithPromise("FontFallback",{id:he})).finally(()=>{!Te.fontExtraProperties&&Qe.data&&(Qe.data=null),this.commonObjs.resolve(he,Qe)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(he,De);break;default:throw new Error(`Got unknown common object type ${Pe}`)}}),te.on("obj",([he,Pe,De,be])=>{var He;if(this.destroyed)return;const Te=V(this,ne).get(Pe);if(!Te.objs.has(he))switch(De){case"Image":if(Te.objs.resolve(he,be),be){let Qe;if(be.bitmap){const{width:Fe,height:nt}=be;Qe=Fe*nt*4}else Qe=((He=be.data)==null?void 0:He.length)||0;Qe>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Te._maybeCleanupAfterRender=!0)}break;case"Pattern":Te.objs.resolve(he,be);break;default:throw new Error(`Got unknown object type ${De}`)}}),te.on("DocProgress",he=>{var Pe;this.destroyed||(Pe=_e.onProgress)==null||Pe.call(_e,{loaded:he.loaded,total:he.total})}),te.on("FetchBuiltInCMap",he=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(he):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),te.on("FetchStandardFontData",he=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(he):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var he;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:te,transfers:_e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:te,filename:((he=this._fullReader)==null?void 0:he.filename)??null},_e).finally(()=>{this.annotationStorage.resetModified()})}getPage(te){if(!Number.isInteger(te)||te<=0||te>this._numPages)return Promise.reject(new Error("Invalid page request."));const _e=te-1,he=V(this,re).get(_e);if(he)return he;const Pe=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_e}).then(De=>{if(this.destroyed)throw new Error("Transport destroyed");const be=new PDFPageProxy(_e,De,this,this._params.pdfBug);return V(this,ne).set(_e,be),be});return V(this,re).set(_e,Pe),Pe}getPageIndex(te){return typeof te!="object"||te===null||!Number.isInteger(te.num)||te.num<0||!Number.isInteger(te.gen)||te.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:te.num,gen:te.gen})}getAnnotations(te,_e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:te,intent:_e})}getFieldObjects(){return ze(this,q,Gr).call(this,"GetFieldObjects")}hasJSActions(){return ze(this,q,Gr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(te){return typeof te!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:te})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ze(this,q,Gr).call(this,"GetDocJSActions")}getPageJSActions(te){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:te})}getStructTree(te){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:te})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(te=>new _optional_content_config.OptionalContentConfig(te))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const te="GetMetadata",_e=V(this,le).get(te);if(_e)return _e;const he=this.messageHandler.sendWithPromise(te,null).then(Pe=>{var De,be;return{info:Pe[0],metadata:Pe[1]?new _metadata.Metadata(Pe[1]):null,contentDispositionFilename:((De=this._fullReader)==null?void 0:De.filename)??null,contentLength:((be=this._fullReader)==null?void 0:be.contentLength)??null}});return V(this,le).set(te,he),he}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(te=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const _e of V(this,ne).values())if(!_e.cleanup())throw new Error(`startCleanup: Page ${_e.pageNumber} is currently rendering.`);this.commonObjs.clear(),te||this.fontLoader.clear(),V(this,le).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:te,enableXfa:_e}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:te,enableXfa:_e})}}le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakSet,Gr=function(te,_e=null){const he=V(this,le).get(te);if(he)return he;const Pe=this.messageHandler.sendWithPromise(te,_e);return V(this,le).set(te,Pe),Pe};class PDFObjects{constructor(){$e(this,ue);$e(this,se,Object.create(null))}get(te,_e=null){if(_e){const Pe=ze(this,ue,bi).call(this,te);return Pe.capability.promise.then(()=>_e(Pe.data)),null}const he=V(this,se)[te];if(!(he!=null&&he.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${te}.`);return he.data}has(te){const _e=V(this,se)[te];return(_e==null?void 0:_e.capability.settled)||!1}resolve(te,_e=null){const he=ze(this,ue,bi).call(this,te);he.data=_e,he.capability.resolve()}clear(){var te;for(const _e in V(this,se)){const{data:he}=V(this,se)[_e];(te=he==null?void 0:he.bitmap)==null||te.close()}rt(this,se,Object.create(null))}}se=new WeakMap,ue=new WeakSet,bi=function(te){var _e;return(_e=V(this,se))[te]||(_e[te]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(te){$e(this,ee,null);rt(this,ee,te),this.onContinue=null}get promise(){return V(this,ee).capability.promise}cancel(te=0){V(this,ee).cancel(null,te)}get separateAnnots(){const{separateAnnots:te}=V(this,ee).operatorList;if(!te)return!1;const{annotationCanvasMap:_e}=V(this,ee);return te.form||te.canvas&&(_e==null?void 0:_e.size)>0}}ee=new WeakMap,exports.RenderTask=RenderTask;const Ae=class Ae{constructor({callback:te,params:_e,objs:he,commonObjs:Pe,annotationCanvasMap:De,operatorList:be,pageIndex:Te,canvasFactory:He,filterFactory:Qe,useRequestAnimationFrame:Fe=!1,pdfBug:nt=!1,pageColors:at=null}){this.callback=te,this.params=_e,this.objs=he,this.commonObjs=Pe,this.annotationCanvasMap=De,this.operatorListIdx=null,this.operatorList=be,this._pageIndex=Te,this.canvasFactory=He,this.filterFactory=Qe,this._pdfBug=nt,this.pageColors=at,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Fe===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:te=!1,optionalContentConfig:_e}){var Te,He;if(this.cancelled)return;if(this._canvas){if(V(Ae,ae).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");V(Ae,ae).add(this._canvas)}this._pdfBug&&((Te=globalThis.StepperManager)!=null&&Te.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:he,viewport:Pe,transform:De,background:be}=this.params;this.gfx=new _canvas.CanvasGraphics(he,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:_e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:De,viewport:Pe,transparency:te,background:be}),this.operatorListIdx=0,this.graphicsReady=!0,(He=this.graphicsReadyCallback)==null||He.call(this)}cancel(te=null,_e=0){var he;this.running=!1,this.cancelled=!0,(he=this.gfx)==null||he.endDrawing(),V(Ae,ae).delete(this._canvas),this.callback(te||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,_e))}operatorListChanged(){var te;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(te=this.stepper)==null||te.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),V(Ae,ae).delete(this._canvas),this.callback())))}};ae=new WeakMap,$e(Ae,ae,new WeakSet);let InternalRenderTask=Ae;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(A,$,H)=>{var de,K,Ee,ga,ne;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var R=H(1),O=H(4),B=H(8);const Y=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=Y;class ge{constructor(){$e(this,Ee);$e(this,de,!1);$e(this,K,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Q,q){const oe=V(this,K).get(Q);return oe===void 0?q:Object.assign(q,oe)}getRawValue(Q){return V(this,K).get(Q)}remove(Q){if(V(this,K).delete(Q),V(this,K).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const q of V(this,K).values())if(q instanceof O.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Q,q){const oe=V(this,K).get(Q);let se=!1;if(oe!==void 0)for(const[ue,pe]of Object.entries(q))oe[ue]!==pe&&(se=!0,oe[ue]=pe);else se=!0,V(this,K).set(Q,q);se&&ze(this,Ee,ga).call(this),q instanceof O.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(q.constructor._type)}has(Q){return V(this,K).has(Q)}getAll(){return V(this,K).size>0?(0,R.objectFromMap)(V(this,K)):null}setAll(Q){for(const[q,oe]of Object.entries(Q))this.setValue(q,oe)}get size(){return V(this,K).size}resetModified(){V(this,de)&&(rt(this,de,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fe(this)}get serializable(){if(V(this,K).size===0)return Y;const Q=new Map,q=new B.MurmurHash3_64,oe=[],se=Object.create(null);let ue=!1;for(const[pe,ee]of V(this,K)){const ae=ee instanceof O.AnnotationEditor?ee.serialize(!1,se):ee;ae&&(Q.set(pe,ae),q.update(`${pe}:${JSON.stringify(ae)}`),ue||(ue=!!ae.bitmap))}if(ue)for(const pe of Q.values())pe.bitmap&&oe.push(pe.bitmap);return Q.size>0?{map:Q,hash:q.hexdigest(),transfers:oe}:Y}}de=new WeakMap,K=new WeakMap,Ee=new WeakSet,ga=function(){V(this,de)||(rt(this,de,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=ge;class fe extends ge{constructor(q){super();$e(this,ne,void 0);const{map:oe,hash:se,transfers:ue}=q.serializable,pe=structuredClone(oe,ue?{transfer:ue}:null);rt(this,ne,{map:pe,hash:se,transfers:ue})}get print(){(0,R.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return V(this,ne)}}ne=new WeakMap,$.PrintAnnotationStorage=fe},(A,$,H)=>{var fe,de,K,Ee,le,ne,re,Q,q,oe,se,ue,pe,ee,ae,_i,ve,Ei,_e,yi,Pe,Si,be,va,He,ba,Fe,_a,at,wi,yt,Ea;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var R=H(5),O=H(1),B=H(6);const W=class W{constructor(G){$e(this,ae);$e(this,ve);$e(this,Pe);$e(this,be);$e(this,He);$e(this,Fe);$e(this,at);$e(this,yt);$e(this,fe,"");$e(this,de,!1);$e(this,K,null);$e(this,Ee,null);$e(this,le,null);$e(this,ne,!1);$e(this,re,null);$e(this,Q,this.focusin.bind(this));$e(this,q,this.focusout.bind(this));$e(this,oe,!1);$e(this,se,!1);$e(this,ue,!1);Dn(this,"_initialOptions",Object.create(null));Dn(this,"_uiManager",null);Dn(this,"_focusEventsAllowed",!0);Dn(this,"_l10nPromise",null);$e(this,pe,!1);$e(this,ee,W._zIndex++);this.constructor===W&&(0,O.unreachable)("Cannot initialize AnnotationEditor."),this.parent=G.parent,this.id=G.id,this.width=this.height=null,this.pageIndex=G.parent.pageIndex,this.name=G.name,this.div=null,this._uiManager=G.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=G.isCentered,this._structTreeParentId=null;const{rotation:ie,rawDims:{pageWidth:ce,pageHeight:ye,pageX:Ce,pageY:Re}}=this.parent.viewport;this.rotation=ie,this.pageRotation=(360+ie-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[ce,ye],this.pageTranslation=[Ce,Re];const[Xe,Ge]=this.parentDimensions;this.x=G.x/Xe,this.y=G.y/Ge,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,O.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(G){const ie=new ge({id:G.parent.getNextId(),parent:G.parent,uiManager:G._uiManager});ie.annotationElementId=G.annotationElementId,ie.deleted=!0,ie._uiManager.addToAnnotationStorage(ie)}static initialize(G,ie=null){if(W._l10nPromise||(W._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(ye=>[ye,G.get(ye)]))),ie!=null&&ie.strings)for(const ye of ie.strings)W._l10nPromise.set(ye,G.get(ye));if(W._borderLineWidth!==-1)return;const ce=getComputedStyle(document.documentElement);W._borderLineWidth=parseFloat(ce.getPropertyValue("--outline-width"))||0}static updateDefaultParams(G,ie){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(G){return!1}static paste(G,ie){(0,O.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return V(this,pe)}set _isDraggable(G){var ie;rt(this,pe,G),(ie=this.div)==null||ie.classList.toggle("draggable",G)}center(){const[G,ie]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*ie/(G*2),this.y+=this.width*G/(ie*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*ie/(G*2),this.y-=this.width*G/(ie*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(G){this._uiManager.addCommands(G)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=V(this,ee)}setParent(G){G!==null&&(this.pageIndex=G.pageIndex,this.pageDimensions=G.pageDimensions),this.parent=G}focusin(G){this._focusEventsAllowed&&(V(this,oe)?rt(this,oe,!1):this.parent.setSelected(this))}focusout(G){var ce;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ie=G.relatedTarget;ie!=null&&ie.closest(`#${this.id}`)||(G.preventDefault(),(ce=this.parent)!=null&&ce.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(G,ie,ce,ye){const[Ce,Re]=this.parentDimensions;[ce,ye]=this.screenToPageTranslation(ce,ye),this.x=(G+ce)/Ce,this.y=(ie+ye)/Re,this.fixAndSetPosition()}translate(G,ie){ze(this,ae,_i).call(this,this.parentDimensions,G,ie)}translateInPage(G,ie){ze(this,ae,_i).call(this,this.pageDimensions,G,ie),this.div.scrollIntoView({block:"nearest"})}drag(G,ie){const[ce,ye]=this.parentDimensions;if(this.x+=G/ce,this.y+=ie/ye,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:tt,y:st}=this.div.getBoundingClientRect();this.parent.findNewParent(this,tt,st)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Ce,y:Re}=this;const[Xe,Ge]=ze(this,ve,Ei).call(this);Ce+=Xe,Re+=Ge,this.div.style.left=`${(100*Ce).toFixed(2)}%`,this.div.style.top=`${(100*Re).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[G,ie]=this.pageDimensions;let{x:ce,y:ye,width:Ce,height:Re}=this;switch(Ce*=G,Re*=ie,ce*=G,ye*=ie,this.rotation){case 0:ce=Math.max(0,Math.min(G-Ce,ce)),ye=Math.max(0,Math.min(ie-Re,ye));break;case 90:ce=Math.max(0,Math.min(G-Re,ce)),ye=Math.min(ie,Math.max(Ce,ye));break;case 180:ce=Math.min(G,Math.max(Ce,ce)),ye=Math.min(ie,Math.max(Re,ye));break;case 270:ce=Math.min(G,Math.max(Re,ce)),ye=Math.max(0,Math.min(ie-Ce,ye));break}this.x=ce/=G,this.y=ye/=ie;const[Xe,Ge]=ze(this,ve,Ei).call(this);ce+=Xe,ye+=Ge;const{style:tt}=this.div;tt.left=`${(100*ce).toFixed(2)}%`,tt.top=`${(100*ye).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(G,ie){var ce;return ze(ce=W,_e,yi).call(ce,G,ie,this.parentRotation)}pageTranslationToScreen(G,ie){var ce;return ze(ce=W,_e,yi).call(ce,G,ie,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:G,pageDimensions:[ie,ce]}=this,ye=ie*G,Ce=ce*G;return O.FeatureTest.isCSSRoundSupported?[Math.round(ye),Math.round(Ce)]:[ye,Ce]}setDims(G,ie){var Ce;const[ce,ye]=this.parentDimensions;this.div.style.width=`${(100*G/ce).toFixed(2)}%`,V(this,ne)||(this.div.style.height=`${(100*ie/ye).toFixed(2)}%`),(Ce=V(this,K))==null||Ce.classList.toggle("small",G<W.SMALL_EDITOR_SIZE||ie<W.SMALL_EDITOR_SIZE)}fixDims(){const{style:G}=this.div,{height:ie,width:ce}=G,ye=ce.endsWith("%"),Ce=!V(this,ne)&&ie.endsWith("%");if(ye&&Ce)return;const[Re,Xe]=this.parentDimensions;ye||(G.width=`${(100*parseFloat(ce)/Re).toFixed(2)}%`),!V(this,ne)&&!Ce&&(G.height=`${(100*parseFloat(ie)/Xe).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(V(this,K))return;const G=rt(this,K,document.createElement("button"));G.className="altText";const ie=await W._l10nPromise.get("editor_alt_text_button_label");G.textContent=ie,G.setAttribute("aria-label",ie),G.tabIndex="0",G.addEventListener("contextmenu",B.noContextMenu),G.addEventListener("pointerdown",ce=>ce.stopPropagation()),G.addEventListener("click",ce=>{ce.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),G.addEventListener("keydown",ce=>{ce.target===G&&ce.key==="Enter"&&(ce.preventDefault(),this._uiManager.editAltText(this))}),ze(this,at,wi).call(this),this.div.append(G),W.SMALL_EDITOR_SIZE||(W.SMALL_EDITOR_SIZE=Math.min(128,Math.round(G.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:V(this,fe),decorative:V(this,de)}}set altTextData({altText:G,decorative:ie}){V(this,fe)===G&&V(this,de)===ie||(rt(this,fe,G),rt(this,de,ie),ze(this,at,wi).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",V(this,Q)),this.div.addEventListener("focusout",V(this,q));const[G,ie]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*ie/G).toFixed(2)}%`,this.div.style.maxHeight=`${(100*G/ie).toFixed(2)}%`);const[ce,ye]=this.getInitialTranslation();return this.translate(ce,ye),(0,R.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(G){const{isMac:ie}=O.FeatureTest.platform;if(G.button!==0||G.ctrlKey&&ie){G.preventDefault();return}rt(this,oe,!0),ze(this,yt,Ea).call(this,G)}moveInDOM(){var G;(G=this.parent)==null||G.moveEditorInDOM(this)}_setParentAndPosition(G,ie,ce){G.changeParent(this),this.x=ie,this.y=ce,this.fixAndSetPosition()}getRect(G,ie){const ce=this.parentScale,[ye,Ce]=this.pageDimensions,[Re,Xe]=this.pageTranslation,Ge=G/ce,tt=ie/ce,st=this.x*ye,vt=this.y*Ce,ut=this.width*ye,ft=this.height*Ce;switch(this.rotation){case 0:return[st+Ge+Re,Ce-vt-tt-ft+Xe,st+Ge+ut+Re,Ce-vt-tt+Xe];case 90:return[st+tt+Re,Ce-vt+Ge+Xe,st+tt+ft+Re,Ce-vt+Ge+ut+Xe];case 180:return[st-Ge-ut+Re,Ce-vt+tt+Xe,st-Ge+Re,Ce-vt+tt+ft+Xe];case 270:return[st-tt-ft+Re,Ce-vt-Ge-ut+Xe,st-tt+Re,Ce-vt-Ge+Xe];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(G,ie){const[ce,ye,Ce,Re]=G,Xe=Ce-ce,Ge=Re-ye;switch(this.rotation){case 0:return[ce,ie-Re,Xe,Ge];case 90:return[ce,ie-ye,Ge,Xe];case 180:return[Ce,ie-ye,Xe,Ge];case 270:return[Ce,ie-Re,Ge,Xe];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){rt(this,ue,!0)}disableEditMode(){rt(this,ue,!1)}isInEditMode(){return V(this,ue)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var G,ie;(G=this.div)==null||G.addEventListener("focusin",V(this,Q)),(ie=this.div)==null||ie.addEventListener("focusout",V(this,q))}serialize(G=!1,ie=null){(0,O.unreachable)("An editor must be serializable")}static deserialize(G,ie,ce){const ye=new this.prototype.constructor({parent:ie,id:ie.getNextId(),uiManager:ce});ye.rotation=G.rotation;const[Ce,Re]=ye.pageDimensions,[Xe,Ge,tt,st]=ye.getRectInCurrentCoords(G.rect,Re);return ye.x=Xe/Ce,ye.y=Ge/Re,ye.width=tt/Ce,ye.height=st/Re,ye}remove(){var G;this.div.removeEventListener("focusin",V(this,Q)),this.div.removeEventListener("focusout",V(this,q)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(G=V(this,K))==null||G.remove(),rt(this,K,null),rt(this,Ee,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ze(this,be,va).call(this),V(this,re).classList.remove("hidden"))}select(){var G;this.makeResizable(),(G=this.div)==null||G.classList.add("selectedEditor")}unselect(){var G,ie,ce;(G=V(this,re))==null||G.classList.add("hidden"),(ie=this.div)==null||ie.classList.remove("selectedEditor"),(ce=this.div)!=null&&ce.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(G,ie){}disableEditing(){V(this,K)&&(V(this,K).hidden=!0)}enableEditing(){V(this,K)&&(V(this,K).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return V(this,se)}set isEditing(G){rt(this,se,G),this.parent&&(G?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(G,ie){rt(this,ne,!0);const ce=G/ie,{style:ye}=this.div;ye.aspectRatio=ce,ye.height="auto"}static get MIN_SIZE(){return 16}};fe=new WeakMap,de=new WeakMap,K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakMap,se=new WeakMap,ue=new WeakMap,pe=new WeakMap,ee=new WeakMap,ae=new WeakSet,_i=function([G,ie],ce,ye){[ce,ye]=this.screenToPageTranslation(ce,ye),this.x+=ce/G,this.y+=ye/ie,this.fixAndSetPosition()},ve=new WeakSet,Ei=function(){const[G,ie]=this.parentDimensions,{_borderLineWidth:ce}=W,ye=ce/G,Ce=ce/ie;switch(this.rotation){case 90:return[-ye,Ce];case 180:return[ye,Ce];case 270:return[ye,-Ce];default:return[-ye,-Ce]}},_e=new WeakSet,yi=function(G,ie,ce){switch(ce){case 90:return[ie,-G];case 180:return[-G,-ie];case 270:return[-ie,G];default:return[G,ie]}},Pe=new WeakSet,Si=function(G){switch(G){case 90:{const[ie,ce]=this.pageDimensions;return[0,-ie/ce,ce/ie,0]}case 180:return[-1,0,0,-1];case 270:{const[ie,ce]=this.pageDimensions;return[0,ie/ce,-ce/ie,0]}default:return[1,0,0,1]}},be=new WeakSet,va=function(){if(V(this,re))return;rt(this,re,document.createElement("div")),V(this,re).classList.add("resizers");const G=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||G.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const ie of G){const ce=document.createElement("div");V(this,re).append(ce),ce.classList.add("resizer",ie),ce.addEventListener("pointerdown",ze(this,He,ba).bind(this,ie)),ce.addEventListener("contextmenu",B.noContextMenu)}this.div.prepend(V(this,re))},He=new WeakSet,ba=function(G,ie){ie.preventDefault();const{isMac:ce}=O.FeatureTest.platform;if(ie.button!==0||ie.ctrlKey&&ce)return;const ye=ze(this,Fe,_a).bind(this,G),Ce=this._isDraggable;this._isDraggable=!1;const Re={passive:!0,capture:!0};window.addEventListener("pointermove",ye,Re);const Xe=this.x,Ge=this.y,tt=this.width,st=this.height,vt=this.parent.div.style.cursor,ut=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(ie.target).cursor;const ft=()=>{this._isDraggable=Ce,window.removeEventListener("pointerup",ft),window.removeEventListener("blur",ft),window.removeEventListener("pointermove",ye,Re),this.parent.div.style.cursor=vt,this.div.style.cursor=ut;const gt=this.x,pt=this.y,Ft=this.width,ot=this.height;gt===Xe&&pt===Ge&&Ft===tt&&ot===st||this.addCommands({cmd:()=>{this.width=Ft,this.height=ot,this.x=gt,this.y=pt;const[We,Ue]=this.parentDimensions;this.setDims(We*Ft,Ue*ot),this.fixAndSetPosition()},undo:()=>{this.width=tt,this.height=st,this.x=Xe,this.y=Ge;const[We,Ue]=this.parentDimensions;this.setDims(We*tt,Ue*st),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",ft),window.addEventListener("blur",ft)},Fe=new WeakSet,_a=function(G,ie){const[ce,ye]=this.parentDimensions,Ce=this.x,Re=this.y,Xe=this.width,Ge=this.height,tt=W.MIN_SIZE/ce,st=W.MIN_SIZE/ye,vt=St=>Math.round(St*1e4)/1e4,ut=ze(this,Pe,Si).call(this,this.rotation),ft=(St,dt)=>[ut[0]*St+ut[2]*dt,ut[1]*St+ut[3]*dt],gt=ze(this,Pe,Si).call(this,360-this.rotation),pt=(St,dt)=>[gt[0]*St+gt[2]*dt,gt[1]*St+gt[3]*dt];let Ft,ot,We=!1,Ue=!1;switch(G){case"topLeft":We=!0,Ft=(St,dt)=>[0,0],ot=(St,dt)=>[St,dt];break;case"topMiddle":Ft=(St,dt)=>[St/2,0],ot=(St,dt)=>[St/2,dt];break;case"topRight":We=!0,Ft=(St,dt)=>[St,0],ot=(St,dt)=>[0,dt];break;case"middleRight":Ue=!0,Ft=(St,dt)=>[St,dt/2],ot=(St,dt)=>[0,dt/2];break;case"bottomRight":We=!0,Ft=(St,dt)=>[St,dt],ot=(St,dt)=>[0,0];break;case"bottomMiddle":Ft=(St,dt)=>[St/2,dt],ot=(St,dt)=>[St/2,0];break;case"bottomLeft":We=!0,Ft=(St,dt)=>[0,dt],ot=(St,dt)=>[St,0];break;case"middleLeft":Ue=!0,Ft=(St,dt)=>[0,dt/2],ot=(St,dt)=>[St,dt/2];break}const ct=Ft(Xe,Ge),At=ot(Xe,Ge);let Ct=ft(...At);const Ht=vt(Ce+Ct[0]),Zt=vt(Re+Ct[1]);let qt=1,Qt=1,[rn,Vt]=this.screenToPageTranslation(ie.movementX,ie.movementY);if([rn,Vt]=pt(rn/ce,Vt/ye),We){const St=Math.hypot(Xe,Ge);qt=Qt=Math.max(Math.min(Math.hypot(At[0]-ct[0]-rn,At[1]-ct[1]-Vt)/St,1/Xe,1/Ge),tt/Xe,st/Ge)}else Ue?qt=Math.max(tt,Math.min(1,Math.abs(At[0]-ct[0]-rn)))/Xe:Qt=Math.max(st,Math.min(1,Math.abs(At[1]-ct[1]-Vt)))/Ge;const ln=vt(Xe*qt),lt=vt(Ge*Qt);Ct=ft(...ot(ln,lt));const Ve=Ht-Ct[0],Ne=Zt-Ct[1];this.width=ln,this.height=lt,this.x=Ve,this.y=Ne,this.setDims(ce*ln,ye*lt),this.fixAndSetPosition()},at=new WeakSet,wi=async function(){var ce;const G=V(this,K);if(!G)return;if(!V(this,fe)&&!V(this,de)){G.classList.remove("done"),(ce=V(this,Ee))==null||ce.remove();return}W._l10nPromise.get("editor_alt_text_edit_button_label").then(ye=>{G.setAttribute("aria-label",ye)});let ie=V(this,Ee);if(!ie){rt(this,Ee,ie=document.createElement("span")),ie.className="tooltip",ie.setAttribute("role","tooltip");const ye=ie.id=`alt-text-tooltip-${this.id}`;G.setAttribute("aria-describedby",ye);const Ce=100;G.addEventListener("mouseenter",()=>{rt(this,le,setTimeout(()=>{rt(this,le,null),V(this,Ee).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Ce))}),G.addEventListener("mouseleave",()=>{var Re;clearTimeout(V(this,le)),rt(this,le,null),(Re=V(this,Ee))==null||Re.classList.remove("show")})}G.classList.add("done"),ie.innerText=V(this,de)?await W._l10nPromise.get("editor_alt_text_decorative_tooltip"):V(this,fe),ie.parentNode||G.append(ie)},yt=new WeakSet,Ea=function(G){if(!this._isDraggable)return;const ie=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let ce,ye;ie&&(ce={passive:!0,capture:!0},ye=Re=>{const[Xe,Ge]=this.screenToPageTranslation(Re.movementX,Re.movementY);this._uiManager.dragSelectedEditors(Xe,Ge)},window.addEventListener("pointermove",ye,ce));const Ce=()=>{if(window.removeEventListener("pointerup",Ce),window.removeEventListener("blur",Ce),ie&&window.removeEventListener("pointermove",ye,ce),rt(this,oe,!1),!this._uiManager.endDragSession()){const{isMac:Re}=O.FeatureTest.platform;G.ctrlKey&&!Re||G.shiftKey||G.metaKey&&Re?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Ce),window.addEventListener("blur",Ce)},$e(W,_e),Dn(W,"_borderLineWidth",-1),Dn(W,"_colorManager",new R.ColorManager),Dn(W,"_zIndex",1),Dn(W,"SMALL_EDITOR_SIZE",0);let Y=W;$.AnnotationEditor=Y;class ge extends Y{constructor(G){super(G),this.annotationElementId=G.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(A,$,H)=>{var ne,re,Q,q,oe,Ai,pe,ee,ae,Ae,ve,ya,he,Pe,De,be,Te,He,Qe,Fe,nt,at,ht,yt,we,W,J,G,ie,ce,ye,Ce,Re,Xe,Ge,tt,st,vt,ut,ft,gt,pt,Ft,ot,We,Ue,ct,Sa,Ct,Ci,Zt,Pi,Qt,qr,Vt,ki,lt,Mi,Ne,or,dt,$r,Pn,wa,Pt,Aa,xt,xi,zt,Rr,wt,Ti;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=B,$.opacityToHex=Y;var R=H(1),O=H(6);function B(Me,U,Se){for(const xe of Se)U.addEventListener(xe,Me[xe].bind(Me))}function Y(Me){return Math.round(Math.min(255,Math.max(1,255*Me))).toString(16).padStart(2,"0")}class ge{constructor(){$e(this,ne,0)}getId(){return`${R.AnnotationEditorPrefix}${Tr(this,ne)._++}`}}ne=new WeakMap;const ue=class ue{constructor(){$e(this,oe);$e(this,re,(0,R.getUuid)());$e(this,Q,0);$e(this,q,null)}static get _isSVGFittingCanvas(){const U='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',xe=new OffscreenCanvas(1,3).getContext("2d"),Be=new Image;Be.src=U;const qe=Be.decode().then(()=>(xe.drawImage(Be,0,0,1,1,0,0,1,3),new Uint32Array(xe.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,R.shadow)(this,"_isSVGFittingCanvas",qe)}async getFromFile(U){const{lastModified:Se,name:xe,size:Be,type:qe}=U;return ze(this,oe,Ai).call(this,`${Se}_${xe}_${Be}_${qe}`,U)}async getFromUrl(U){return ze(this,oe,Ai).call(this,U,U)}async getFromId(U){V(this,q)||rt(this,q,new Map);const Se=V(this,q).get(U);return Se?Se.bitmap?(Se.refCounter+=1,Se):Se.file?this.getFromFile(Se.file):this.getFromUrl(Se.url):null}getSvgUrl(U){const Se=V(this,q).get(U);return Se!=null&&Se.isSvg?Se.svgUrl:null}deleteId(U){V(this,q)||rt(this,q,new Map);const Se=V(this,q).get(U);Se&&(Se.refCounter-=1,Se.refCounter===0&&(Se.bitmap=null))}isValidId(U){return U.startsWith(`image_${V(this,re)}_`)}};re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakSet,Ai=async function(U,Se){V(this,q)||rt(this,q,new Map);let xe=V(this,q).get(U);if(xe===null)return null;if(xe!=null&&xe.bitmap)return xe.refCounter+=1,xe;try{xe||(xe={bitmap:null,id:`image_${V(this,re)}_${Tr(this,Q)._++}`,refCounter:0,isSvg:!1});let Be;if(typeof Se=="string"){xe.url=Se;const qe=await fetch(Se);if(!qe.ok)throw new Error(qe.statusText);Be=await qe.blob()}else Be=xe.file=Se;if(Be.type==="image/svg+xml"){const qe=ue._isSVGFittingCanvas,it=new FileReader,_t=new Image,Rt=new Promise((Tt,tn)=>{_t.onload=()=>{xe.bitmap=_t,xe.isSvg=!0,Tt()},it.onload=async()=>{const It=xe.svgUrl=it.result;_t.src=await qe?`${It}#svgView(preserveAspectRatio(none))`:It},_t.onerror=it.onerror=tn});it.readAsDataURL(Be),await Rt}else xe.bitmap=await createImageBitmap(Be);xe.refCounter=1}catch(Be){console.error(Be),xe=null}return V(this,q).set(U,xe),xe&&V(this,q).set(xe.id,xe),xe};let fe=ue;class de{constructor(U=128){$e(this,pe,[]);$e(this,ee,!1);$e(this,ae,void 0);$e(this,Ae,-1);rt(this,ae,U)}add({cmd:U,undo:Se,mustExec:xe,type:Be=NaN,overwriteIfSameType:qe=!1,keepUndo:it=!1}){if(xe&&U(),V(this,ee))return;const _t={cmd:U,undo:Se,type:Be};if(V(this,Ae)===-1){V(this,pe).length>0&&(V(this,pe).length=0),rt(this,Ae,0),V(this,pe).push(_t);return}if(qe&&V(this,pe)[V(this,Ae)].type===Be){it&&(_t.undo=V(this,pe)[V(this,Ae)].undo),V(this,pe)[V(this,Ae)]=_t;return}const Rt=V(this,Ae)+1;Rt===V(this,ae)?V(this,pe).splice(0,1):(rt(this,Ae,Rt),Rt<V(this,pe).length&&V(this,pe).splice(Rt)),V(this,pe).push(_t)}undo(){V(this,Ae)!==-1&&(rt(this,ee,!0),V(this,pe)[V(this,Ae)].undo(),rt(this,ee,!1),rt(this,Ae,V(this,Ae)-1))}redo(){V(this,Ae)<V(this,pe).length-1&&(rt(this,Ae,V(this,Ae)+1),rt(this,ee,!0),V(this,pe)[V(this,Ae)].cmd(),rt(this,ee,!1))}hasSomethingToUndo(){return V(this,Ae)!==-1}hasSomethingToRedo(){return V(this,Ae)<V(this,pe).length-1}destroy(){rt(this,pe,null)}}pe=new WeakMap,ee=new WeakMap,ae=new WeakMap,Ae=new WeakMap,$.CommandManager=de;class K{constructor(U){$e(this,ve);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Se}=R.FeatureTest.platform;for(const[xe,Be,qe={}]of U)for(const it of xe){const _t=it.startsWith("mac+");Se&&_t?(this.callbacks.set(it.slice(4),{callback:Be,options:qe}),this.allKeys.add(it.split("+").at(-1))):!Se&&!_t&&(this.callbacks.set(it,{callback:Be,options:qe}),this.allKeys.add(it.split("+").at(-1)))}}exec(U,Se){if(!this.allKeys.has(Se.key))return;const xe=this.callbacks.get(ze(this,ve,ya).call(this,Se));if(!xe)return;const{callback:Be,options:{bubbles:qe=!1,args:it=[],checker:_t=null}}=xe;_t&&!_t(U,Se)||(Be.bind(U,...it)(),qe||(Se.stopPropagation(),Se.preventDefault()))}}ve=new WeakSet,ya=function(U){U.altKey&&this.buffer.push("alt"),U.ctrlKey&&this.buffer.push("ctrl"),U.metaKey&&this.buffer.push("meta"),U.shiftKey&&this.buffer.push("shift"),this.buffer.push(U.key);const Se=this.buffer.join("+");return this.buffer.length=0,Se},$.KeyboardManager=K;const _e=class _e{get _colors(){const U=new Map([["CanvasText",null],["Canvas",null]]);return(0,O.getColorValues)(U),(0,R.shadow)(this,"_colors",U)}convert(U){const Se=(0,O.getRGB)(U);if(!window.matchMedia("(forced-colors: active)").matches)return Se;for(const[xe,Be]of this._colors)if(Be.every((qe,it)=>qe===Se[it]))return _e._colorsMapping.get(xe);return Se}getHexCode(U){const Se=this._colors.get(U);return Se?R.Util.makeHexColor(...Se):U}};Dn(_e,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Ee=_e;$.ColorManager=Ee;const Ot=class Ot{constructor(U,Se,xe,Be,qe,it){$e(this,ct);$e(this,Ct);$e(this,Zt);$e(this,Qt);$e(this,Vt);$e(this,lt);$e(this,Ne);$e(this,dt);$e(this,Pn);$e(this,Pt);$e(this,xt);$e(this,zt);$e(this,wt);$e(this,he,null);$e(this,Pe,new Map);$e(this,De,new Map);$e(this,be,null);$e(this,Te,null);$e(this,He,new de);$e(this,Qe,0);$e(this,Fe,new Set);$e(this,nt,null);$e(this,at,null);$e(this,ht,new Set);$e(this,yt,null);$e(this,we,new ge);$e(this,W,!1);$e(this,J,!1);$e(this,G,null);$e(this,ie,R.AnnotationEditorType.NONE);$e(this,ce,new Set);$e(this,ye,null);$e(this,Ce,this.blur.bind(this));$e(this,Re,this.focus.bind(this));$e(this,Xe,this.copy.bind(this));$e(this,Ge,this.cut.bind(this));$e(this,tt,this.paste.bind(this));$e(this,st,this.keydown.bind(this));$e(this,vt,this.onEditingAction.bind(this));$e(this,ut,this.onPageChanging.bind(this));$e(this,ft,this.onScaleChanging.bind(this));$e(this,gt,this.onRotationChanging.bind(this));$e(this,pt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});$e(this,Ft,[0,0]);$e(this,ot,null);$e(this,We,null);$e(this,Ue,null);rt(this,We,U),rt(this,Ue,Se),rt(this,be,xe),this._eventBus=Be,this._eventBus._on("editingaction",V(this,vt)),this._eventBus._on("pagechanging",V(this,ut)),this._eventBus._on("scalechanging",V(this,ft)),this._eventBus._on("rotationchanging",V(this,gt)),rt(this,Te,qe.annotationStorage),rt(this,yt,qe.filterFactory),rt(this,ye,it),this.viewParameters={realScale:O.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const U=Ot.prototype,Se=qe=>{const{activeElement:it}=document;return it&&V(qe,We).contains(it)&&qe.hasSomethingToControl()},xe=this.TRANSLATE_SMALL,Be=this.TRANSLATE_BIG;return(0,R.shadow)(this,"_keyboardManager",new K([[["ctrl+a","mac+meta+a"],U.selectAll],[["ctrl+z","mac+meta+z"],U.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],U.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],U.delete],[["Escape","mac+Escape"],U.unselectAll],[["ArrowLeft","mac+ArrowLeft"],U.translateSelectedEditors,{args:[-xe,0],checker:Se}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],U.translateSelectedEditors,{args:[-Be,0],checker:Se}],[["ArrowRight","mac+ArrowRight"],U.translateSelectedEditors,{args:[xe,0],checker:Se}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],U.translateSelectedEditors,{args:[Be,0],checker:Se}],[["ArrowUp","mac+ArrowUp"],U.translateSelectedEditors,{args:[0,-xe],checker:Se}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],U.translateSelectedEditors,{args:[0,-Be],checker:Se}],[["ArrowDown","mac+ArrowDown"],U.translateSelectedEditors,{args:[0,xe],checker:Se}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],U.translateSelectedEditors,{args:[0,Be],checker:Se}]]))}destroy(){ze(this,Qt,qr).call(this),ze(this,Ct,Ci).call(this),this._eventBus._off("editingaction",V(this,vt)),this._eventBus._off("pagechanging",V(this,ut)),this._eventBus._off("scalechanging",V(this,ft)),this._eventBus._off("rotationchanging",V(this,gt));for(const U of V(this,De).values())U.destroy();V(this,De).clear(),V(this,Pe).clear(),V(this,ht).clear(),rt(this,he,null),V(this,ce).clear(),V(this,He).destroy(),V(this,be).destroy()}get hcmFilter(){return(0,R.shadow)(this,"hcmFilter",V(this,ye)?V(this,yt).addHCMFilter(V(this,ye).foreground,V(this,ye).background):"none")}get direction(){return(0,R.shadow)(this,"direction",getComputedStyle(V(this,We)).direction)}editAltText(U){var Se;(Se=V(this,be))==null||Se.editAltText(this,U)}onPageChanging({pageNumber:U}){rt(this,Qe,U-1)}focusMainContainer(){V(this,We).focus()}findParent(U,Se){for(const xe of V(this,De).values()){const{x:Be,y:qe,width:it,height:_t}=xe.div.getBoundingClientRect();if(U>=Be&&U<=Be+it&&Se>=qe&&Se<=qe+_t)return xe}return null}disableUserSelect(U=!1){V(this,Ue).classList.toggle("noUserSelect",U)}addShouldRescale(U){V(this,ht).add(U)}removeShouldRescale(U){V(this,ht).delete(U)}onScaleChanging({scale:U}){this.commitOrRemove(),this.viewParameters.realScale=U*O.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Se of V(this,ht))Se.onScaleChanging()}onRotationChanging({pagesRotation:U}){this.commitOrRemove(),this.viewParameters.rotation=U}addToAnnotationStorage(U){!U.isEmpty()&&V(this,Te)&&!V(this,Te).has(U.id)&&V(this,Te).setValue(U.id,U)}blur(){if(!this.hasSelection)return;const{activeElement:U}=document;for(const Se of V(this,ce))if(Se.div.contains(U)){rt(this,G,[Se,U]),Se._focusEventsAllowed=!1;break}}focus(){if(!V(this,G))return;const[U,Se]=V(this,G);rt(this,G,null),Se.addEventListener("focusin",()=>{U._focusEventsAllowed=!0},{once:!0}),Se.focus()}addEditListeners(){ze(this,Zt,Pi).call(this),ze(this,Vt,ki).call(this)}removeEditListeners(){ze(this,Qt,qr).call(this),ze(this,lt,Mi).call(this)}copy(U){var xe;if(U.preventDefault(),(xe=V(this,he))==null||xe.commitOrRemove(),!this.hasSelection)return;const Se=[];for(const Be of V(this,ce)){const qe=Be.serialize(!0);qe&&Se.push(qe)}Se.length!==0&&U.clipboardData.setData("application/pdfjs",JSON.stringify(Se))}cut(U){this.copy(U),this.delete()}paste(U){U.preventDefault();const{clipboardData:Se}=U;for(const qe of Se.items)for(const it of V(this,at))if(it.isHandlingMimeForPasting(qe.type)){it.paste(qe,this.currentLayer);return}let xe=Se.getData("application/pdfjs");if(!xe)return;try{xe=JSON.parse(xe)}catch(qe){(0,R.warn)(`paste: "${qe.message}".`);return}if(!Array.isArray(xe))return;this.unselectAll();const Be=this.currentLayer;try{const qe=[];for(const Rt of xe){const Tt=Be.deserialize(Rt);if(!Tt)return;qe.push(Tt)}const it=()=>{for(const Rt of qe)ze(this,xt,xi).call(this,Rt);ze(this,wt,Ti).call(this,qe)},_t=()=>{for(const Rt of qe)Rt.remove()};this.addCommands({cmd:it,undo:_t,mustExec:!0})}catch(qe){(0,R.warn)(`paste: "${qe.message}".`)}}keydown(U){var Se;(Se=this.getActive())!=null&&Se.shouldGetKeyboardEvents()||Ot._keyboardManager.exec(this,U)}onEditingAction(U){["undo","redo","delete","selectAll"].includes(U.name)&&this[U.name]()}setEditingState(U){U?(ze(this,ct,Sa).call(this),ze(this,Zt,Pi).call(this),ze(this,Vt,ki).call(this),ze(this,Ne,or).call(this,{isEditing:V(this,ie)!==R.AnnotationEditorType.NONE,isEmpty:ze(this,zt,Rr).call(this),hasSomethingToUndo:V(this,He).hasSomethingToUndo(),hasSomethingToRedo:V(this,He).hasSomethingToRedo(),hasSelectedEditor:!1})):(ze(this,Ct,Ci).call(this),ze(this,Qt,qr).call(this),ze(this,lt,Mi).call(this),ze(this,Ne,or).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(U){if(!V(this,at)){rt(this,at,U);for(const Se of V(this,at))ze(this,dt,$r).call(this,Se.defaultPropertiesToUpdate)}}getId(){return V(this,we).getId()}get currentLayer(){return V(this,De).get(V(this,Qe))}getLayer(U){return V(this,De).get(U)}get currentPageIndex(){return V(this,Qe)}addLayer(U){V(this,De).set(U.pageIndex,U),V(this,W)?U.enable():U.disable()}removeLayer(U){V(this,De).delete(U.pageIndex)}updateMode(U,Se=null){if(V(this,ie)!==U){if(rt(this,ie,U),U===R.AnnotationEditorType.NONE){this.setEditingState(!1),ze(this,Pt,Aa).call(this);return}this.setEditingState(!0),ze(this,Pn,wa).call(this),this.unselectAll();for(const xe of V(this,De).values())xe.updateMode(U);if(Se){for(const xe of V(this,Pe).values())if(xe.annotationElementId===Se){this.setSelected(xe),xe.enterInEditMode();break}}}}updateToolbar(U){U!==V(this,ie)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:U})}updateParams(U,Se){if(V(this,at)){if(U===R.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(U);return}for(const xe of V(this,ce))xe.updateParams(U,Se);for(const xe of V(this,at))xe.updateDefaultParams(U,Se)}}enableWaiting(U=!1){if(V(this,J)!==U){rt(this,J,U);for(const Se of V(this,De).values())U?Se.disableClick():Se.enableClick(),Se.div.classList.toggle("waiting",U)}}getEditors(U){const Se=[];for(const xe of V(this,Pe).values())xe.pageIndex===U&&Se.push(xe);return Se}getEditor(U){return V(this,Pe).get(U)}addEditor(U){V(this,Pe).set(U.id,U)}removeEditor(U){var Se;V(this,Pe).delete(U.id),this.unselect(U),(!U.annotationElementId||!V(this,Fe).has(U.annotationElementId))&&((Se=V(this,Te))==null||Se.remove(U.id))}addDeletedAnnotationElement(U){V(this,Fe).add(U.annotationElementId),U.deleted=!0}isDeletedAnnotationElement(U){return V(this,Fe).has(U)}removeDeletedAnnotationElement(U){V(this,Fe).delete(U.annotationElementId),U.deleted=!1}setActiveEditor(U){V(this,he)!==U&&(rt(this,he,U),U&&ze(this,dt,$r).call(this,U.propertiesToUpdate))}toggleSelected(U){if(V(this,ce).has(U)){V(this,ce).delete(U),U.unselect(),ze(this,Ne,or).call(this,{hasSelectedEditor:this.hasSelection});return}V(this,ce).add(U),U.select(),ze(this,dt,$r).call(this,U.propertiesToUpdate),ze(this,Ne,or).call(this,{hasSelectedEditor:!0})}setSelected(U){for(const Se of V(this,ce))Se!==U&&Se.unselect();V(this,ce).clear(),V(this,ce).add(U),U.select(),ze(this,dt,$r).call(this,U.propertiesToUpdate),ze(this,Ne,or).call(this,{hasSelectedEditor:!0})}isSelected(U){return V(this,ce).has(U)}unselect(U){U.unselect(),V(this,ce).delete(U),ze(this,Ne,or).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return V(this,ce).size!==0}undo(){V(this,He).undo(),ze(this,Ne,or).call(this,{hasSomethingToUndo:V(this,He).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ze(this,zt,Rr).call(this)})}redo(){V(this,He).redo(),ze(this,Ne,or).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:V(this,He).hasSomethingToRedo(),isEmpty:ze(this,zt,Rr).call(this)})}addCommands(U){V(this,He).add(U),ze(this,Ne,or).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ze(this,zt,Rr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const U=[...V(this,ce)],Se=()=>{for(const Be of U)Be.remove()},xe=()=>{for(const Be of U)ze(this,xt,xi).call(this,Be)};this.addCommands({cmd:Se,undo:xe,mustExec:!0})}commitOrRemove(){var U;(U=V(this,he))==null||U.commitOrRemove()}hasSomethingToControl(){return V(this,he)||this.hasSelection}selectAll(){for(const U of V(this,ce))U.commit();ze(this,wt,Ti).call(this,V(this,Pe).values())}unselectAll(){if(V(this,he)){V(this,he).commitOrRemove();return}if(this.hasSelection){for(const U of V(this,ce))U.unselect();V(this,ce).clear(),ze(this,Ne,or).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(U,Se,xe=!1){if(xe||this.commitOrRemove(),!this.hasSelection)return;V(this,Ft)[0]+=U,V(this,Ft)[1]+=Se;const[Be,qe]=V(this,Ft),it=[...V(this,ce)],_t=1e3;V(this,ot)&&clearTimeout(V(this,ot)),rt(this,ot,setTimeout(()=>{rt(this,ot,null),V(this,Ft)[0]=V(this,Ft)[1]=0,this.addCommands({cmd:()=>{for(const Rt of it)V(this,Pe).has(Rt.id)&&Rt.translateInPage(Be,qe)},undo:()=>{for(const Rt of it)V(this,Pe).has(Rt.id)&&Rt.translateInPage(-Be,-qe)},mustExec:!1})},_t));for(const Rt of it)Rt.translateInPage(U,Se)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),rt(this,nt,new Map);for(const U of V(this,ce))V(this,nt).set(U,{savedX:U.x,savedY:U.y,savedPageIndex:U.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!V(this,nt))return!1;this.disableUserSelect(!1);const U=V(this,nt);rt(this,nt,null);let Se=!1;for(const[{x:Be,y:qe,pageIndex:it},_t]of U)_t.newX=Be,_t.newY=qe,_t.newPageIndex=it,Se||(Se=Be!==_t.savedX||qe!==_t.savedY||it!==_t.savedPageIndex);if(!Se)return!1;const xe=(Be,qe,it,_t)=>{if(V(this,Pe).has(Be.id)){const Rt=V(this,De).get(_t);Rt?Be._setParentAndPosition(Rt,qe,it):(Be.pageIndex=_t,Be.x=qe,Be.y=it)}};return this.addCommands({cmd:()=>{for(const[Be,{newX:qe,newY:it,newPageIndex:_t}]of U)xe(Be,qe,it,_t)},undo:()=>{for(const[Be,{savedX:qe,savedY:it,savedPageIndex:_t}]of U)xe(Be,qe,it,_t)},mustExec:!0}),!0}dragSelectedEditors(U,Se){if(V(this,nt))for(const xe of V(this,nt).keys())xe.drag(U,Se)}rebuild(U){if(U.parent===null){const Se=this.getLayer(U.pageIndex);Se?(Se.changeParent(U),Se.addOrRebuild(U)):(this.addEditor(U),this.addToAnnotationStorage(U),U.rebuild())}else U.parent.addOrRebuild(U)}isActive(U){return V(this,he)===U}getActive(){return V(this,he)}getMode(){return V(this,ie)}get imageManager(){return(0,R.shadow)(this,"imageManager",new fe)}};he=new WeakMap,Pe=new WeakMap,De=new WeakMap,be=new WeakMap,Te=new WeakMap,He=new WeakMap,Qe=new WeakMap,Fe=new WeakMap,nt=new WeakMap,at=new WeakMap,ht=new WeakMap,yt=new WeakMap,we=new WeakMap,W=new WeakMap,J=new WeakMap,G=new WeakMap,ie=new WeakMap,ce=new WeakMap,ye=new WeakMap,Ce=new WeakMap,Re=new WeakMap,Xe=new WeakMap,Ge=new WeakMap,tt=new WeakMap,st=new WeakMap,vt=new WeakMap,ut=new WeakMap,ft=new WeakMap,gt=new WeakMap,pt=new WeakMap,Ft=new WeakMap,ot=new WeakMap,We=new WeakMap,Ue=new WeakMap,ct=new WeakSet,Sa=function(){window.addEventListener("focus",V(this,Re)),window.addEventListener("blur",V(this,Ce))},Ct=new WeakSet,Ci=function(){window.removeEventListener("focus",V(this,Re)),window.removeEventListener("blur",V(this,Ce))},Zt=new WeakSet,Pi=function(){window.addEventListener("keydown",V(this,st),{capture:!0})},Qt=new WeakSet,qr=function(){window.removeEventListener("keydown",V(this,st),{capture:!0})},Vt=new WeakSet,ki=function(){document.addEventListener("copy",V(this,Xe)),document.addEventListener("cut",V(this,Ge)),document.addEventListener("paste",V(this,tt))},lt=new WeakSet,Mi=function(){document.removeEventListener("copy",V(this,Xe)),document.removeEventListener("cut",V(this,Ge)),document.removeEventListener("paste",V(this,tt))},Ne=new WeakSet,or=function(U){Object.entries(U).some(([xe,Be])=>V(this,pt)[xe]!==Be)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(V(this,pt),U)})},dt=new WeakSet,$r=function(U){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:U})},Pn=new WeakSet,wa=function(){if(!V(this,W)){rt(this,W,!0);for(const U of V(this,De).values())U.enable()}},Pt=new WeakSet,Aa=function(){if(this.unselectAll(),V(this,W)){rt(this,W,!1);for(const U of V(this,De).values())U.disable()}},xt=new WeakSet,xi=function(U){const Se=V(this,De).get(U.pageIndex);Se?Se.addOrRebuild(U):this.addEditor(U)},zt=new WeakSet,Rr=function(){if(V(this,Pe).size===0)return!0;if(V(this,Pe).size===1)for(const U of V(this,Pe).values())return U.isEmpty();return!1},wt=new WeakSet,Ti=function(U){V(this,ce).clear();for(const Se of U)Se.isEmpty()||(V(this,ce).add(Se),Se.select());ze(this,Ne,or).call(this,{hasSelectedEditor:!0})},Dn(Ot,"TRANSLATE_SMALL",1),Dn(Ot,"TRANSLATE_BIG",10);let le=Ot;$.AnnotationEditorUIManager=le},(A,$,H)=>{var Qe,Fe,nt,at,ht,yt,we,W,J,G,ie,ce,Ar,Ce,Cr,Xe,$i,tt,Xr,vt,Kr,ft,Fr,pt,Lr;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=Ae,$.getColorValues=Pe,$.getCurrentTransform=De,$.getCurrentTransformInverse=be,$.getFilenameFromUrl=oe,$.getPdfFilenameFromUrl=se,$.getRGB=he,$.getXfaPageViewport=_e,$.isDataScheme=Q,$.isPdfFile=q,$.isValidFetchUrl=pe,$.loadScript=ae,$.noContextMenu=ee,$.setLayerDimensions=Te;var R=H(7),O=H(1);const B="http://www.w3.org/2000/svg",He=class He{};Dn(He,"CSS",96),Dn(He,"PDF",72),Dn(He,"PDF_TO_CSS_UNITS",He.CSS/He.PDF);let Y=He;$.PixelsPerInch=Y;class ge extends R.BaseFilterFactory{constructor({docId:Ue,ownerDocument:ct=globalThis.document}={}){super();$e(this,ce);$e(this,Ce);$e(this,Xe);$e(this,tt);$e(this,vt);$e(this,ft);$e(this,pt);$e(this,Qe,void 0);$e(this,Fe,void 0);$e(this,nt,void 0);$e(this,at,void 0);$e(this,ht,void 0);$e(this,yt,void 0);$e(this,we,void 0);$e(this,W,void 0);$e(this,J,void 0);$e(this,G,void 0);$e(this,ie,0);rt(this,nt,Ue),rt(this,at,ct)}addFilter(Ue){if(!Ue)return"none";let ct=V(this,ce,Ar).get(Ue);if(ct)return ct;let At,Ct,Ht,Zt;if(Ue.length===1){const Vt=Ue[0],ln=new Array(256);for(let lt=0;lt<256;lt++)ln[lt]=Vt[lt]/255;Zt=At=Ct=Ht=ln.join(",")}else{const[Vt,ln,lt]=Ue,Ve=new Array(256),Ne=new Array(256),St=new Array(256);for(let dt=0;dt<256;dt++)Ve[dt]=Vt[dt]/255,Ne[dt]=ln[dt]/255,St[dt]=lt[dt]/255;At=Ve.join(","),Ct=Ne.join(","),Ht=St.join(","),Zt=`${At}${Ct}${Ht}`}if(ct=V(this,ce,Ar).get(Zt),ct)return V(this,ce,Ar).set(Ue,ct),ct;const qt=`g_${V(this,nt)}_transfer_map_${Tr(this,ie)._++}`,Qt=`url(#${qt})`;V(this,ce,Ar).set(Ue,Qt),V(this,ce,Ar).set(Zt,Qt);const rn=ze(this,tt,Xr).call(this,qt);return ze(this,ft,Fr).call(this,At,Ct,Ht,rn),Qt}addHCMFilter(Ue,ct){var ln;const At=`${Ue}-${ct}`;if(V(this,yt)===At)return V(this,we);if(rt(this,yt,At),rt(this,we,"none"),(ln=V(this,ht))==null||ln.remove(),!Ue||!ct)return V(this,we);const Ct=ze(this,pt,Lr).call(this,Ue);Ue=O.Util.makeHexColor(...Ct);const Ht=ze(this,pt,Lr).call(this,ct);if(ct=O.Util.makeHexColor(...Ht),V(this,Ce,Cr).style.color="",Ue==="#000000"&&ct==="#ffffff"||Ue===ct)return V(this,we);const Zt=new Array(256);for(let lt=0;lt<=255;lt++){const Ve=lt/255;Zt[lt]=Ve<=.03928?Ve/12.92:((Ve+.055)/1.055)**2.4}const qt=Zt.join(","),Qt=`g_${V(this,nt)}_hcm_filter`,rn=rt(this,W,ze(this,tt,Xr).call(this,Qt));ze(this,ft,Fr).call(this,qt,qt,qt,rn),ze(this,Xe,$i).call(this,rn);const Vt=(lt,Ve)=>{const Ne=Ct[lt]/255,St=Ht[lt]/255,dt=new Array(Ve+1);for(let mn=0;mn<=Ve;mn++)dt[mn]=Ne+mn/Ve*(St-Ne);return dt.join(",")};return ze(this,ft,Fr).call(this,Vt(0,5),Vt(1,5),Vt(2,5),rn),rt(this,we,`url(#${Qt})`),V(this,we)}addHighlightHCMFilter(Ue,ct,At,Ct){var St;const Ht=`${Ue}-${ct}-${At}-${Ct}`;if(V(this,J)===Ht)return V(this,G);if(rt(this,J,Ht),rt(this,G,"none"),(St=V(this,W))==null||St.remove(),!Ue||!ct)return V(this,G);const[Zt,qt]=[Ue,ct].map(ze(this,pt,Lr).bind(this));let Qt=Math.round(.2126*Zt[0]+.7152*Zt[1]+.0722*Zt[2]),rn=Math.round(.2126*qt[0]+.7152*qt[1]+.0722*qt[2]),[Vt,ln]=[At,Ct].map(ze(this,pt,Lr).bind(this));rn<Qt&&([Qt,rn,Vt,ln]=[rn,Qt,ln,Vt]),V(this,Ce,Cr).style.color="";const lt=(dt,mn,Pn)=>{const Ye=new Array(256),Pt=(rn-Qt)/Pn,Nt=dt/255,xt=(mn-dt)/(255*Pn);let Bt=0;for(let zt=0;zt<=Pn;zt++){const En=Math.round(Qt+zt*Pt),wt=Nt+zt*xt;for(let fn=Bt;fn<=En;fn++)Ye[fn]=wt;Bt=En+1}for(let zt=Bt;zt<256;zt++)Ye[zt]=Ye[Bt-1];return Ye.join(",")},Ve=`g_${V(this,nt)}_hcm_highlight_filter`,Ne=rt(this,W,ze(this,tt,Xr).call(this,Ve));return ze(this,Xe,$i).call(this,Ne),ze(this,ft,Fr).call(this,lt(Vt[0],ln[0],5),lt(Vt[1],ln[1],5),lt(Vt[2],ln[2],5),Ne),rt(this,G,`url(#${Ve})`),V(this,G)}destroy(Ue=!1){Ue&&(V(this,we)||V(this,G))||(V(this,Fe)&&(V(this,Fe).parentNode.parentNode.remove(),rt(this,Fe,null)),V(this,Qe)&&(V(this,Qe).clear(),rt(this,Qe,null)),rt(this,ie,0))}}Qe=new WeakMap,Fe=new WeakMap,nt=new WeakMap,at=new WeakMap,ht=new WeakMap,yt=new WeakMap,we=new WeakMap,W=new WeakMap,J=new WeakMap,G=new WeakMap,ie=new WeakMap,ce=new WeakSet,Ar=function(){return V(this,Qe)||rt(this,Qe,new Map)},Ce=new WeakSet,Cr=function(){if(!V(this,Fe)){const Ue=V(this,at).createElement("div"),{style:ct}=Ue;ct.visibility="hidden",ct.contain="strict",ct.width=ct.height=0,ct.position="absolute",ct.top=ct.left=0,ct.zIndex=-1;const At=V(this,at).createElementNS(B,"svg");At.setAttribute("width",0),At.setAttribute("height",0),rt(this,Fe,V(this,at).createElementNS(B,"defs")),Ue.append(At),At.append(V(this,Fe)),V(this,at).body.append(Ue)}return V(this,Fe)},Xe=new WeakSet,$i=function(Ue){const ct=V(this,at).createElementNS(B,"feColorMatrix");ct.setAttribute("type","matrix"),ct.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Ue.append(ct)},tt=new WeakSet,Xr=function(Ue){const ct=V(this,at).createElementNS(B,"filter");return ct.setAttribute("color-interpolation-filters","sRGB"),ct.setAttribute("id",Ue),V(this,Ce,Cr).append(ct),ct},vt=new WeakSet,Kr=function(Ue,ct,At){const Ct=V(this,at).createElementNS(B,ct);Ct.setAttribute("type","discrete"),Ct.setAttribute("tableValues",At),Ue.append(Ct)},ft=new WeakSet,Fr=function(Ue,ct,At,Ct){const Ht=V(this,at).createElementNS(B,"feComponentTransfer");Ct.append(Ht),ze(this,vt,Kr).call(this,Ht,"feFuncR",Ue),ze(this,vt,Kr).call(this,Ht,"feFuncG",ct),ze(this,vt,Kr).call(this,Ht,"feFuncB",At)},pt=new WeakSet,Lr=function(Ue){return V(this,Ce,Cr).style.color=Ue,he(getComputedStyle(V(this,Ce,Cr)).getPropertyValue("color"))},$.DOMFilterFactory=ge;class fe extends R.BaseCanvasFactory{constructor({ownerDocument:We=globalThis.document}={}){super(),this._document=We}_createCanvas(We,Ue){const ct=this._document.createElement("canvas");return ct.width=We,ct.height=Ue,ct}}$.DOMCanvasFactory=fe;async function de(ot,We=!1){if(pe(ot,document.baseURI)){const Ue=await fetch(ot);if(!Ue.ok)throw new Error(Ue.statusText);return We?new Uint8Array(await Ue.arrayBuffer()):(0,O.stringToBytes)(await Ue.text())}return new Promise((Ue,ct)=>{const At=new XMLHttpRequest;At.open("GET",ot,!0),We&&(At.responseType="arraybuffer"),At.onreadystatechange=()=>{if(At.readyState===XMLHttpRequest.DONE){if(At.status===200||At.status===0){let Ct;if(We&&At.response?Ct=new Uint8Array(At.response):!We&&At.responseText&&(Ct=(0,O.stringToBytes)(At.responseText)),Ct){Ue(Ct);return}}ct(new Error(At.statusText))}},At.send(null)})}class K extends R.BaseCMapReaderFactory{_fetchData(We,Ue){return de(We,this.isCompressed).then(ct=>({cMapData:ct,compressionType:Ue}))}}$.DOMCMapReaderFactory=K;class Ee extends R.BaseStandardFontDataFactory{_fetchData(We){return de(We,!0)}}$.DOMStandardFontDataFactory=Ee;class le extends R.BaseSVGFactory{_createSVG(We){return document.createElementNS(B,We)}}$.DOMSVGFactory=le;class ne{constructor({viewBox:We,scale:Ue,rotation:ct,offsetX:At=0,offsetY:Ct=0,dontFlip:Ht=!1}){this.viewBox=We,this.scale=Ue,this.rotation=ct,this.offsetX=At,this.offsetY=Ct;const Zt=(We[2]+We[0])/2,qt=(We[3]+We[1])/2;let Qt,rn,Vt,ln;switch(ct%=360,ct<0&&(ct+=360),ct){case 180:Qt=-1,rn=0,Vt=0,ln=1;break;case 90:Qt=0,rn=1,Vt=1,ln=0;break;case 270:Qt=0,rn=-1,Vt=-1,ln=0;break;case 0:Qt=1,rn=0,Vt=0,ln=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ht&&(Vt=-Vt,ln=-ln);let lt,Ve,Ne,St;Qt===0?(lt=Math.abs(qt-We[1])*Ue+At,Ve=Math.abs(Zt-We[0])*Ue+Ct,Ne=(We[3]-We[1])*Ue,St=(We[2]-We[0])*Ue):(lt=Math.abs(Zt-We[0])*Ue+At,Ve=Math.abs(qt-We[1])*Ue+Ct,Ne=(We[2]-We[0])*Ue,St=(We[3]-We[1])*Ue),this.transform=[Qt*Ue,rn*Ue,Vt*Ue,ln*Ue,lt-Qt*Ue*Zt-Vt*Ue*qt,Ve-rn*Ue*Zt-ln*Ue*qt],this.width=Ne,this.height=St}get rawDims(){const{viewBox:We}=this;return(0,O.shadow)(this,"rawDims",{pageWidth:We[2]-We[0],pageHeight:We[3]-We[1],pageX:We[0],pageY:We[1]})}clone({scale:We=this.scale,rotation:Ue=this.rotation,offsetX:ct=this.offsetX,offsetY:At=this.offsetY,dontFlip:Ct=!1}={}){return new ne({viewBox:this.viewBox.slice(),scale:We,rotation:Ue,offsetX:ct,offsetY:At,dontFlip:Ct})}convertToViewportPoint(We,Ue){return O.Util.applyTransform([We,Ue],this.transform)}convertToViewportRectangle(We){const Ue=O.Util.applyTransform([We[0],We[1]],this.transform),ct=O.Util.applyTransform([We[2],We[3]],this.transform);return[Ue[0],Ue[1],ct[0],ct[1]]}convertToPdfPoint(We,Ue){return O.Util.applyInverseTransform([We,Ue],this.transform)}}$.PageViewport=ne;class re extends O.BaseException{constructor(We,Ue=0){super(We,"RenderingCancelledException"),this.extraDelay=Ue}}$.RenderingCancelledException=re;function Q(ot){const We=ot.length;let Ue=0;for(;Ue<We&&ot[Ue].trim()==="";)Ue++;return ot.substring(Ue,Ue+5).toLowerCase()==="data:"}function q(ot){return typeof ot=="string"&&/\.pdf$/i.test(ot)}function oe(ot,We=!1){return We||([ot]=ot.split(/[#?]/,1)),ot.substring(ot.lastIndexOf("/")+1)}function se(ot,We="document.pdf"){if(typeof ot!="string")return We;if(Q(ot))return(0,O.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),We;const Ue=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ct=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,At=Ue.exec(ot);let Ct=ct.exec(At[1])||ct.exec(At[2])||ct.exec(At[3]);if(Ct&&(Ct=Ct[0],Ct.includes("%")))try{Ct=ct.exec(decodeURIComponent(Ct))[0]}catch{}return Ct||We}class ue{constructor(){Dn(this,"started",Object.create(null));Dn(this,"times",[])}time(We){We in this.started&&(0,O.warn)(`Timer is already running for ${We}`),this.started[We]=Date.now()}timeEnd(We){We in this.started||(0,O.warn)(`Timer has not been started for ${We}`),this.times.push({name:We,start:this.started[We],end:Date.now()}),delete this.started[We]}toString(){const We=[];let Ue=0;for(const{name:ct}of this.times)Ue=Math.max(ct.length,Ue);for(const{name:ct,start:At,end:Ct}of this.times)We.push(`${ct.padEnd(Ue)} ${Ct-At}ms
`);return We.join("")}}$.StatTimer=ue;function pe(ot,We){try{const{protocol:Ue}=We?new URL(ot,We):new URL(ot);return Ue==="http:"||Ue==="https:"}catch{return!1}}function ee(ot){ot.preventDefault()}function ae(ot,We=!1){return new Promise((Ue,ct)=>{const At=document.createElement("script");At.src=ot,At.onload=function(Ct){We&&At.remove(),Ue(Ct)},At.onerror=function(){ct(new Error(`Cannot load script at: ${At.src}`))},(document.head||document.documentElement).append(At)})}function Ae(ot){console.log("Deprecated API usage: "+ot)}let ve;class te{static toDateObject(We){if(!We||typeof We!="string")return null;ve||(ve=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Ue=ve.exec(We);if(!Ue)return null;const ct=parseInt(Ue[1],10);let At=parseInt(Ue[2],10);At=At>=1&&At<=12?At-1:0;let Ct=parseInt(Ue[3],10);Ct=Ct>=1&&Ct<=31?Ct:1;let Ht=parseInt(Ue[4],10);Ht=Ht>=0&&Ht<=23?Ht:0;let Zt=parseInt(Ue[5],10);Zt=Zt>=0&&Zt<=59?Zt:0;let qt=parseInt(Ue[6],10);qt=qt>=0&&qt<=59?qt:0;const Qt=Ue[7]||"Z";let rn=parseInt(Ue[8],10);rn=rn>=0&&rn<=23?rn:0;let Vt=parseInt(Ue[9],10)||0;return Vt=Vt>=0&&Vt<=59?Vt:0,Qt==="-"?(Ht+=rn,Zt+=Vt):Qt==="+"&&(Ht-=rn,Zt-=Vt),new Date(Date.UTC(ct,At,Ct,Ht,Zt,qt))}}$.PDFDateString=te;function _e(ot,{scale:We=1,rotation:Ue=0}){const{width:ct,height:At}=ot.attributes.style,Ct=[0,0,parseInt(ct),parseInt(At)];return new ne({viewBox:Ct,scale:We,rotation:Ue})}function he(ot){if(ot.startsWith("#")){const We=parseInt(ot.slice(1),16);return[(We&16711680)>>16,(We&65280)>>8,We&255]}return ot.startsWith("rgb(")?ot.slice(4,-1).split(",").map(We=>parseInt(We)):ot.startsWith("rgba(")?ot.slice(5,-1).split(",").map(We=>parseInt(We)).slice(0,3):((0,O.warn)(`Not a valid color format: "${ot}"`),[0,0,0])}function Pe(ot){const We=document.createElement("span");We.style.visibility="hidden",document.body.append(We);for(const Ue of ot.keys()){We.style.color=Ue;const ct=window.getComputedStyle(We).color;ot.set(Ue,he(ct))}We.remove()}function De(ot){const{a:We,b:Ue,c:ct,d:At,e:Ct,f:Ht}=ot.getTransform();return[We,Ue,ct,At,Ct,Ht]}function be(ot){const{a:We,b:Ue,c:ct,d:At,e:Ct,f:Ht}=ot.getTransform().invertSelf();return[We,Ue,ct,At,Ct,Ht]}function Te(ot,We,Ue=!1,ct=!0){if(We instanceof ne){const{pageWidth:At,pageHeight:Ct}=We.rawDims,{style:Ht}=ot,Zt=O.FeatureTest.isCSSRoundSupported,qt=`var(--scale-factor) * ${At}px`,Qt=`var(--scale-factor) * ${Ct}px`,rn=Zt?`round(${qt}, 1px)`:`calc(${qt})`,Vt=Zt?`round(${Qt}, 1px)`:`calc(${Qt})`;!Ue||We.rotation%180===0?(Ht.width=rn,Ht.height=Vt):(Ht.width=Vt,Ht.height=rn)}ct&&ot.setAttribute("data-main-rotation",We.rotation)}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var R=H(1);class O{constructor(){this.constructor===O&&(0,R.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(K){return"none"}addHCMFilter(K,Ee){return"none"}addHighlightHCMFilter(K,Ee,le,ne){return"none"}destroy(K=!1){}}$.BaseFilterFactory=O;class B{constructor(){this.constructor===B&&(0,R.unreachable)("Cannot initialize BaseCanvasFactory.")}create(K,Ee){if(K<=0||Ee<=0)throw new Error("Invalid canvas size");const le=this._createCanvas(K,Ee);return{canvas:le,context:le.getContext("2d")}}reset(K,Ee,le){if(!K.canvas)throw new Error("Canvas is not specified");if(Ee<=0||le<=0)throw new Error("Invalid canvas size");K.canvas.width=Ee,K.canvas.height=le}destroy(K){if(!K.canvas)throw new Error("Canvas is not specified");K.canvas.width=0,K.canvas.height=0,K.canvas=null,K.context=null}_createCanvas(K,Ee){(0,R.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=B;class Y{constructor({baseUrl:K=null,isCompressed:Ee=!0}){this.constructor===Y&&(0,R.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=K,this.isCompressed=Ee}async fetch({name:K}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!K)throw new Error("CMap name must be specified.");const Ee=this.baseUrl+K+(this.isCompressed?".bcmap":""),le=this.isCompressed?R.CMapCompressionType.BINARY:R.CMapCompressionType.NONE;return this._fetchData(Ee,le).catch(ne=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Ee}`)})}_fetchData(K,Ee){(0,R.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=Y;class ge{constructor({baseUrl:K=null}){this.constructor===ge&&(0,R.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=K}async fetch({filename:K}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!K)throw new Error("Font filename must be specified.");const Ee=`${this.baseUrl}${K}`;return this._fetchData(Ee).catch(le=>{throw new Error(`Unable to load font data at: ${Ee}`)})}_fetchData(K){(0,R.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=ge;class fe{constructor(){this.constructor===fe&&(0,R.unreachable)("Cannot initialize BaseSVGFactory.")}create(K,Ee,le=!1){if(K<=0||Ee<=0)throw new Error("Invalid SVG dimensions");const ne=this._createSVG("svg:svg");return ne.setAttribute("version","1.1"),le||(ne.setAttribute("width",`${K}px`),ne.setAttribute("height",`${Ee}px`)),ne.setAttribute("preserveAspectRatio","none"),ne.setAttribute("viewBox",`0 0 ${K} ${Ee}`),ne}createElement(K){if(typeof K!="string")throw new Error("Invalid SVG element type");return this._createSVG(K)}_createSVG(K){(0,R.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=fe},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var R=H(1);const O=3285377520,B=4294901760,Y=65535;class ge{constructor(de){this.h1=de?de&4294967295:O,this.h2=de?de&4294967295:O}update(de){let K,Ee;if(typeof de=="string"){K=new Uint8Array(de.length*2),Ee=0;for(let Ae=0,ve=de.length;Ae<ve;Ae++){const te=de.charCodeAt(Ae);te<=255?K[Ee++]=te:(K[Ee++]=te>>>8,K[Ee++]=te&255)}}else if((0,R.isArrayBuffer)(de))K=de.slice(),Ee=K.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const le=Ee>>2,ne=Ee-le*4,re=new Uint32Array(K.buffer,0,le);let Q=0,q=0,oe=this.h1,se=this.h2;const ue=3432918353,pe=461845907,ee=ue&Y,ae=pe&Y;for(let Ae=0;Ae<le;Ae++)Ae&1?(Q=re[Ae],Q=Q*ue&B|Q*ee&Y,Q=Q<<15|Q>>>17,Q=Q*pe&B|Q*ae&Y,oe^=Q,oe=oe<<13|oe>>>19,oe=oe*5+3864292196):(q=re[Ae],q=q*ue&B|q*ee&Y,q=q<<15|q>>>17,q=q*pe&B|q*ae&Y,se^=q,se=se<<13|se>>>19,se=se*5+3864292196);switch(Q=0,ne){case 3:Q^=K[le*4+2]<<16;case 2:Q^=K[le*4+1]<<8;case 1:Q^=K[le*4],Q=Q*ue&B|Q*ee&Y,Q=Q<<15|Q>>>17,Q=Q*pe&B|Q*ae&Y,le&1?oe^=Q:se^=Q}this.h1=oe,this.h2=se}hexdigest(){let de=this.h1,K=this.h2;return de^=K>>>1,de=de*3981806797&B|de*36045&Y,K=K*4283543511&B|((K<<16|de>>>16)*2950163797&B)>>>16,de^=K>>>1,de=de*444984403&B|de*60499&Y,K=K*3301882366&B|((K<<16|de>>>16)*3120437893&B)>>>16,de^=K>>>1,(de>>>0).toString(16).padStart(8,"0")+(K>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=ge},(A,$,H)=>{var Y;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var R=H(1);class O{constructor({ownerDocument:fe=globalThis.document,styleElement:de=null}){$e(this,Y,new Set);this._document=fe,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(fe){this.nativeFontFaces.add(fe),this._document.fonts.add(fe)}removeNativeFontFace(fe){this.nativeFontFaces.delete(fe),this._document.fonts.delete(fe)}insertRule(fe){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const de=this.styleElement.sheet;de.insertRule(fe,de.cssRules.length)}clear(){for(const fe of this.nativeFontFaces)this._document.fonts.delete(fe);this.nativeFontFaces.clear(),V(this,Y).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(fe){if(!(!fe||V(this,Y).has(fe.loadedName))){if((0,R.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:de,src:K,style:Ee}=fe,le=new FontFace(de,K,Ee);this.addNativeFontFace(le);try{await le.load(),V(this,Y).add(de)}catch{(0,R.warn)(`Cannot load system font: ${fe.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(le)}return}(0,R.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(fe){if(fe.attached||fe.missingFile&&!fe.systemFontInfo)return;if(fe.attached=!0,fe.systemFontInfo){await this.loadSystemFont(fe.systemFontInfo);return}if(this.isFontLoadingAPISupported){const K=fe.createNativeFontFace();if(K){this.addNativeFontFace(K);try{await K.loaded}catch(Ee){throw(0,R.warn)(`Failed to load font '${K.family}': '${Ee}'.`),fe.disableFontFace=!0,Ee}}return}const de=fe.createFontFaceRule();if(de){if(this.insertRule(de),this.isSyncFontLoadingSupported)return;await new Promise(K=>{const Ee=this._queueLoadingCallback(K);this._prepareFontLoadEvent(fe,Ee)})}}get isFontLoadingAPISupported(){var de;const fe=!!((de=this._document)!=null&&de.fonts);return(0,R.shadow)(this,"isFontLoadingAPISupported",fe)}get isSyncFontLoadingSupported(){let fe=!1;return(R.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(fe=!0),(0,R.shadow)(this,"isSyncFontLoadingSupported",fe)}_queueLoadingCallback(fe){function de(){for((0,R.assert)(!Ee.done,"completeRequest() cannot be called twice."),Ee.done=!0;K.length>0&&K[0].done;){const le=K.shift();setTimeout(le.callback,0)}}const{loadingRequests:K}=this,Ee={done:!1,complete:de,callback:fe};return K.push(Ee),Ee}get _loadTestFont(){const fe=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,R.shadow)(this,"_loadTestFont",fe)}_prepareFontLoadEvent(fe,de){function K(he,Pe){return he.charCodeAt(Pe)<<24|he.charCodeAt(Pe+1)<<16|he.charCodeAt(Pe+2)<<8|he.charCodeAt(Pe+3)&255}function Ee(he,Pe,De,be){const Te=he.substring(0,Pe),He=he.substring(Pe+De);return Te+be+He}let le,ne;const re=this._document.createElement("canvas");re.width=1,re.height=1;const Q=re.getContext("2d");let q=0;function oe(he,Pe){if(++q>30){(0,R.warn)("Load test font never loaded."),Pe();return}if(Q.font="30px "+he,Q.fillText(".",0,20),Q.getImageData(0,0,1,1).data[3]>0){Pe();return}setTimeout(oe.bind(null,he,Pe))}const se=`lt${Date.now()}${this.loadTestFontId++}`;let ue=this._loadTestFont;ue=Ee(ue,976,se.length,se);const ee=16,ae=1482184792;let Ae=K(ue,ee);for(le=0,ne=se.length-3;le<ne;le+=4)Ae=Ae-ae+K(se,le)|0;le<se.length&&(Ae=Ae-ae+K(se+"XXX",le)|0),ue=Ee(ue,ee,4,(0,R.string32)(Ae));const ve=`url(data:font/opentype;base64,${btoa(ue)});`,te=`@font-face {font-family:"${se}";src:${ve}}`;this.insertRule(te);const _e=this._document.createElement("div");_e.style.visibility="hidden",_e.style.width=_e.style.height="10px",_e.style.position="absolute",_e.style.top=_e.style.left="0px";for(const he of[fe.loadedName,se]){const Pe=this._document.createElement("span");Pe.textContent="Hi",Pe.style.fontFamily=he,_e.append(Pe)}this._document.body.append(_e),oe(se,()=>{_e.remove(),de.complete()})}}Y=new WeakMap,$.FontLoader=O;class B{constructor(fe,{isEvalSupported:de=!0,disableFontFace:K=!1,ignoreErrors:Ee=!1,inspectFont:le=null}){this.compiledGlyphs=Object.create(null);for(const ne in fe)this[ne]=fe[ne];this.isEvalSupported=de!==!1,this.disableFontFace=K===!0,this.ignoreErrors=Ee===!0,this._inspectFont=le}createNativeFontFace(){var de;if(!this.data||this.disableFontFace)return null;let fe;if(!this.cssFontInfo)fe=new FontFace(this.loadedName,this.data,{});else{const K={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(K.style=`oblique ${this.cssFontInfo.italicAngle}deg`),fe=new FontFace(this.cssFontInfo.fontFamily,this.data,K)}return(de=this._inspectFont)==null||de.call(this,this),fe}createFontFaceRule(){var Ee;if(!this.data||this.disableFontFace)return null;const fe=(0,R.bytesToString)(this.data),de=`url(data:${this.mimetype};base64,${btoa(fe)});`;let K;if(!this.cssFontInfo)K=`@font-face {font-family:"${this.loadedName}";src:${de}}`;else{let le=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(le+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),K=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${le}src:${de}}`}return(Ee=this._inspectFont)==null||Ee.call(this,this,de),K}getPathGenerator(fe,de){if(this.compiledGlyphs[de]!==void 0)return this.compiledGlyphs[de];let K;try{K=fe.get(this.loadedName+"_path_"+de)}catch(Ee){if(!this.ignoreErrors)throw Ee;return(0,R.warn)(`getPathGenerator - ignoring character: "${Ee}".`),this.compiledGlyphs[de]=function(le,ne){}}if(this.isEvalSupported&&R.FeatureTest.isEvalSupported){const Ee=[];for(const le of K){const ne=le.args!==void 0?le.args.join(","):"";Ee.push("c.",le.cmd,"(",ne,`);
`)}return this.compiledGlyphs[de]=new Function("c","size",Ee.join(""))}return this.compiledGlyphs[de]=function(Ee,le){for(const ne of K)ne.cmd==="scale"&&(ne.args=[le,-le]),Ee[ne.cmd].apply(Ee,ne.args)}}}$.FontFaceObject=B},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var R=H(7);H(1);const O=function(de){return new Promise((K,Ee)=>{require$$5.readFile(de,(ne,re)=>{if(ne||!re){Ee(new Error(ne));return}K(new Uint8Array(re))})})};class B extends R.BaseFilterFactory{}$.NodeFilterFactory=B;class Y extends R.BaseCanvasFactory{_createCanvas(K,Ee){return require$$5.createCanvas(K,Ee)}}$.NodeCanvasFactory=Y;class ge extends R.BaseCMapReaderFactory{_fetchData(K,Ee){return O(K).then(le=>({cMapData:le,compressionType:Ee}))}}$.NodeCMapReaderFactory=ge;class fe extends R.BaseStandardFontDataFactory{_fetchData(K){return O(K)}}$.NodeStandardFontDataFactory=fe},(A,$,H)=>{var Fe,Ri,at,Fi;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var R=H(1),O=H(6),B=H(12),Y=H(13);const ge=16,fe=100,de=4096,K=15,Ee=10,le=1e3,ne=16;function re(we,W){if(we._removeMirroring)throw new Error("Context is already forwarding operations.");we.__originalSave=we.save,we.__originalRestore=we.restore,we.__originalRotate=we.rotate,we.__originalScale=we.scale,we.__originalTranslate=we.translate,we.__originalTransform=we.transform,we.__originalSetTransform=we.setTransform,we.__originalResetTransform=we.resetTransform,we.__originalClip=we.clip,we.__originalMoveTo=we.moveTo,we.__originalLineTo=we.lineTo,we.__originalBezierCurveTo=we.bezierCurveTo,we.__originalRect=we.rect,we.__originalClosePath=we.closePath,we.__originalBeginPath=we.beginPath,we._removeMirroring=()=>{we.save=we.__originalSave,we.restore=we.__originalRestore,we.rotate=we.__originalRotate,we.scale=we.__originalScale,we.translate=we.__originalTranslate,we.transform=we.__originalTransform,we.setTransform=we.__originalSetTransform,we.resetTransform=we.__originalResetTransform,we.clip=we.__originalClip,we.moveTo=we.__originalMoveTo,we.lineTo=we.__originalLineTo,we.bezierCurveTo=we.__originalBezierCurveTo,we.rect=we.__originalRect,we.closePath=we.__originalClosePath,we.beginPath=we.__originalBeginPath,delete we._removeMirroring},we.save=function(){W.save(),this.__originalSave()},we.restore=function(){W.restore(),this.__originalRestore()},we.translate=function(G,ie){W.translate(G,ie),this.__originalTranslate(G,ie)},we.scale=function(G,ie){W.scale(G,ie),this.__originalScale(G,ie)},we.transform=function(G,ie,ce,ye,Ce,Re){W.transform(G,ie,ce,ye,Ce,Re),this.__originalTransform(G,ie,ce,ye,Ce,Re)},we.setTransform=function(G,ie,ce,ye,Ce,Re){W.setTransform(G,ie,ce,ye,Ce,Re),this.__originalSetTransform(G,ie,ce,ye,Ce,Re)},we.resetTransform=function(){W.resetTransform(),this.__originalResetTransform()},we.rotate=function(G){W.rotate(G),this.__originalRotate(G)},we.clip=function(G){W.clip(G),this.__originalClip(G)},we.moveTo=function(J,G){W.moveTo(J,G),this.__originalMoveTo(J,G)},we.lineTo=function(J,G){W.lineTo(J,G),this.__originalLineTo(J,G)},we.bezierCurveTo=function(J,G,ie,ce,ye,Ce){W.bezierCurveTo(J,G,ie,ce,ye,Ce),this.__originalBezierCurveTo(J,G,ie,ce,ye,Ce)},we.rect=function(J,G,ie,ce){W.rect(J,G,ie,ce),this.__originalRect(J,G,ie,ce)},we.closePath=function(){W.closePath(),this.__originalClosePath()},we.beginPath=function(){W.beginPath(),this.__originalBeginPath()}}class Q{constructor(W){this.canvasFactory=W,this.cache=Object.create(null)}getCanvas(W,J,G){let ie;return this.cache[W]!==void 0?(ie=this.cache[W],this.canvasFactory.reset(ie,J,G)):(ie=this.canvasFactory.create(J,G),this.cache[W]=ie),ie}delete(W){delete this.cache[W]}clear(){for(const W in this.cache){const J=this.cache[W];this.canvasFactory.destroy(J),delete this.cache[W]}}}function q(we,W,J,G,ie,ce,ye,Ce,Re,Xe){const[Ge,tt,st,vt,ut,ft]=(0,O.getCurrentTransform)(we);if(tt===0&&st===0){const Ft=ye*Ge+ut,ot=Math.round(Ft),We=Ce*vt+ft,Ue=Math.round(We),ct=(ye+Re)*Ge+ut,At=Math.abs(Math.round(ct)-ot)||1,Ct=(Ce+Xe)*vt+ft,Ht=Math.abs(Math.round(Ct)-Ue)||1;return we.setTransform(Math.sign(Ge),0,0,Math.sign(vt),ot,Ue),we.drawImage(W,J,G,ie,ce,0,0,At,Ht),we.setTransform(Ge,tt,st,vt,ut,ft),[At,Ht]}if(Ge===0&&vt===0){const Ft=Ce*st+ut,ot=Math.round(Ft),We=ye*tt+ft,Ue=Math.round(We),ct=(Ce+Xe)*st+ut,At=Math.abs(Math.round(ct)-ot)||1,Ct=(ye+Re)*tt+ft,Ht=Math.abs(Math.round(Ct)-Ue)||1;return we.setTransform(0,Math.sign(tt),Math.sign(st),0,ot,Ue),we.drawImage(W,J,G,ie,ce,0,0,Ht,At),we.setTransform(Ge,tt,st,vt,ut,ft),[Ht,At]}we.drawImage(W,J,G,ie,ce,ye,Ce,Re,Xe);const gt=Math.hypot(Ge,tt),pt=Math.hypot(st,vt);return[gt*Re,pt*Xe]}function oe(we){const{width:W,height:J}=we;if(W>le||J>le)return null;const G=1e3,ie=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ce=W+1;let ye=new Uint8Array(ce*(J+1)),Ce,Re,Xe;const Ge=W+7&-8;let tt=new Uint8Array(Ge*J),st=0;for(const pt of we.data){let Ft=128;for(;Ft>0;)tt[st++]=pt&Ft?0:255,Ft>>=1}let vt=0;for(st=0,tt[st]!==0&&(ye[0]=1,++vt),Re=1;Re<W;Re++)tt[st]!==tt[st+1]&&(ye[Re]=tt[st]?2:1,++vt),st++;for(tt[st]!==0&&(ye[Re]=2,++vt),Ce=1;Ce<J;Ce++){st=Ce*Ge,Xe=Ce*ce,tt[st-Ge]!==tt[st]&&(ye[Xe]=tt[st]?1:8,++vt);let pt=(tt[st]?4:0)+(tt[st-Ge]?8:0);for(Re=1;Re<W;Re++)pt=(pt>>2)+(tt[st+1]?4:0)+(tt[st-Ge+1]?8:0),ie[pt]&&(ye[Xe+Re]=ie[pt],++vt),st++;if(tt[st-Ge]!==tt[st]&&(ye[Xe+Re]=tt[st]?2:4,++vt),vt>G)return null}for(st=Ge*(J-1),Xe=Ce*ce,tt[st]!==0&&(ye[Xe]=8,++vt),Re=1;Re<W;Re++)tt[st]!==tt[st+1]&&(ye[Xe+Re]=tt[st]?4:8,++vt),st++;if(tt[st]!==0&&(ye[Xe+Re]=4,++vt),vt>G)return null;const ut=new Int32Array([0,ce,-1,0,-ce,0,0,0,1]),ft=new Path2D;for(Ce=0;vt&&Ce<=J;Ce++){let pt=Ce*ce;const Ft=pt+W;for(;pt<Ft&&!ye[pt];)pt++;if(pt===Ft)continue;ft.moveTo(pt%ce,Ce);const ot=pt;let We=ye[pt];do{const Ue=ut[We];do pt+=Ue;while(!ye[pt]);const ct=ye[pt];ct!==5&&ct!==10?(We=ct,ye[pt]=0):(We=ct&51*We>>4,ye[pt]&=We>>2|We<<2),ft.lineTo(pt%ce,pt/ce|0),ye[pt]||--vt}while(ot!==pt);--Ce}return tt=null,ye=null,function(pt){pt.save(),pt.scale(1/W,-1/J),pt.translate(0,-J),pt.fill(ft),pt.beginPath(),pt.restore()}}class se{constructor(W,J){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=R.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=R.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,W,J])}clone(){const W=Object.create(this);return W.clipBox=this.clipBox.slice(),W}setCurrentPoint(W,J){this.x=W,this.y=J}updatePathMinMax(W,J,G){[J,G]=R.Util.applyTransform([J,G],W),this.minX=Math.min(this.minX,J),this.minY=Math.min(this.minY,G),this.maxX=Math.max(this.maxX,J),this.maxY=Math.max(this.maxY,G)}updateRectMinMax(W,J){const G=R.Util.applyTransform(J,W),ie=R.Util.applyTransform(J.slice(2),W);this.minX=Math.min(this.minX,G[0],ie[0]),this.minY=Math.min(this.minY,G[1],ie[1]),this.maxX=Math.max(this.maxX,G[0],ie[0]),this.maxY=Math.max(this.maxY,G[1],ie[1])}updateScalingPathMinMax(W,J){R.Util.scaleMinMax(W,J),this.minX=Math.min(this.minX,J[0]),this.maxX=Math.max(this.maxX,J[1]),this.minY=Math.min(this.minY,J[2]),this.maxY=Math.max(this.maxY,J[3])}updateCurvePathMinMax(W,J,G,ie,ce,ye,Ce,Re,Xe,Ge){const tt=R.Util.bezierBoundingBox(J,G,ie,ce,ye,Ce,Re,Xe);if(Ge){Ge[0]=Math.min(Ge[0],tt[0],tt[2]),Ge[1]=Math.max(Ge[1],tt[0],tt[2]),Ge[2]=Math.min(Ge[2],tt[1],tt[3]),Ge[3]=Math.max(Ge[3],tt[1],tt[3]);return}this.updateRectMinMax(W,tt)}getPathBoundingBox(W=B.PathType.FILL,J=null){const G=[this.minX,this.minY,this.maxX,this.maxY];if(W===B.PathType.STROKE){J||(0,R.unreachable)("Stroke bounding box must include transform.");const ie=R.Util.singularValueDecompose2dScale(J),ce=ie[0]*this.lineWidth/2,ye=ie[1]*this.lineWidth/2;G[0]-=ce,G[1]-=ye,G[2]+=ce,G[3]+=ye}return G}updateClipFromPath(){const W=R.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(W||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(W){this.clipBox=W,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(W=B.PathType.FILL,J=null){return R.Util.intersect(this.clipBox,this.getPathBoundingBox(W,J))}}function ue(we,W){if(typeof ImageData<"u"&&W instanceof ImageData){we.putImageData(W,0,0);return}const J=W.height,G=W.width,ie=J%ne,ce=(J-ie)/ne,ye=ie===0?ce:ce+1,Ce=we.createImageData(G,ne);let Re=0,Xe;const Ge=W.data,tt=Ce.data;let st,vt,ut,ft;if(W.kind===R.ImageKind.GRAYSCALE_1BPP){const gt=Ge.byteLength,pt=new Uint32Array(tt.buffer,0,tt.byteLength>>2),Ft=pt.length,ot=G+7>>3,We=4294967295,Ue=R.FeatureTest.isLittleEndian?4278190080:255;for(st=0;st<ye;st++){for(ut=st<ce?ne:ie,Xe=0,vt=0;vt<ut;vt++){const ct=gt-Re;let At=0;const Ct=ct>ot?G:ct*8-7,Ht=Ct&-8;let Zt=0,qt=0;for(;At<Ht;At+=8)qt=Ge[Re++],pt[Xe++]=qt&128?We:Ue,pt[Xe++]=qt&64?We:Ue,pt[Xe++]=qt&32?We:Ue,pt[Xe++]=qt&16?We:Ue,pt[Xe++]=qt&8?We:Ue,pt[Xe++]=qt&4?We:Ue,pt[Xe++]=qt&2?We:Ue,pt[Xe++]=qt&1?We:Ue;for(;At<Ct;At++)Zt===0&&(qt=Ge[Re++],Zt=128),pt[Xe++]=qt&Zt?We:Ue,Zt>>=1}for(;Xe<Ft;)pt[Xe++]=0;we.putImageData(Ce,0,st*ne)}}else if(W.kind===R.ImageKind.RGBA_32BPP){for(vt=0,ft=G*ne*4,st=0;st<ce;st++)tt.set(Ge.subarray(Re,Re+ft)),Re+=ft,we.putImageData(Ce,0,vt),vt+=ne;st<ye&&(ft=G*ie*4,tt.set(Ge.subarray(Re,Re+ft)),we.putImageData(Ce,0,vt))}else if(W.kind===R.ImageKind.RGB_24BPP)for(ut=ne,ft=G*ut,st=0;st<ye;st++){for(st>=ce&&(ut=ie,ft=G*ut),Xe=0,vt=ft;vt--;)tt[Xe++]=Ge[Re++],tt[Xe++]=Ge[Re++],tt[Xe++]=Ge[Re++],tt[Xe++]=255;we.putImageData(Ce,0,st*ne)}else throw new Error(`bad image kind: ${W.kind}`)}function pe(we,W){if(W.bitmap){we.drawImage(W.bitmap,0,0);return}const J=W.height,G=W.width,ie=J%ne,ce=(J-ie)/ne,ye=ie===0?ce:ce+1,Ce=we.createImageData(G,ne);let Re=0;const Xe=W.data,Ge=Ce.data;for(let tt=0;tt<ye;tt++){const st=tt<ce?ne:ie;({srcPos:Re}=(0,Y.convertBlackAndWhiteToRGBA)({src:Xe,srcPos:Re,dest:Ge,width:G,height:st,nonBlackColor:0})),we.putImageData(Ce,0,tt*ne)}}function ee(we,W){const J=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const G of J)we[G]!==void 0&&(W[G]=we[G]);we.setLineDash!==void 0&&(W.setLineDash(we.getLineDash()),W.lineDashOffset=we.lineDashOffset)}function ae(we){if(we.strokeStyle=we.fillStyle="#000000",we.fillRule="nonzero",we.globalAlpha=1,we.lineWidth=1,we.lineCap="butt",we.lineJoin="miter",we.miterLimit=10,we.globalCompositeOperation="source-over",we.font="10px sans-serif",we.setLineDash!==void 0&&(we.setLineDash([]),we.lineDashOffset=0),!R.isNodeJS){const{filter:W}=we;W!=="none"&&W!==""&&(we.filter="none")}}function Ae(we,W,J,G){const ie=we.length;for(let ce=3;ce<ie;ce+=4){const ye=we[ce];if(ye===0)we[ce-3]=W,we[ce-2]=J,we[ce-1]=G;else if(ye<255){const Ce=255-ye;we[ce-3]=we[ce-3]*ye+W*Ce>>8,we[ce-2]=we[ce-2]*ye+J*Ce>>8,we[ce-1]=we[ce-1]*ye+G*Ce>>8}}}function ve(we,W,J){const G=we.length,ie=1/255;for(let ce=3;ce<G;ce+=4){const ye=J?J[we[ce]]:we[ce];W[ce]=W[ce]*ye*ie|0}}function te(we,W,J){const G=we.length;for(let ie=3;ie<G;ie+=4){const ce=we[ie-3]*77+we[ie-2]*152+we[ie-1]*28;W[ie]=J?W[ie]*J[ce>>8]>>8:W[ie]*ce>>16}}function _e(we,W,J,G,ie,ce,ye,Ce,Re,Xe,Ge){const tt=!!ce,st=tt?ce[0]:0,vt=tt?ce[1]:0,ut=tt?ce[2]:0,ft=ie==="Luminosity"?te:ve,pt=Math.min(G,Math.ceil(1048576/J));for(let Ft=0;Ft<G;Ft+=pt){const ot=Math.min(pt,G-Ft),We=we.getImageData(Ce-Xe,Ft+(Re-Ge),J,ot),Ue=W.getImageData(Ce,Ft+Re,J,ot);tt&&Ae(We.data,st,vt,ut),ft(We.data,Ue.data,ye),W.putImageData(Ue,Ce,Ft+Re)}}function he(we,W,J,G){const ie=G[0],ce=G[1],ye=G[2]-ie,Ce=G[3]-ce;ye===0||Ce===0||(_e(W.context,J,ye,Ce,W.subtype,W.backdrop,W.transferMap,ie,ce,W.offsetX,W.offsetY),we.save(),we.globalAlpha=1,we.globalCompositeOperation="source-over",we.setTransform(1,0,0,1,0,0),we.drawImage(J.canvas,0,0),we.restore())}function Pe(we,W){const J=R.Util.singularValueDecompose2dScale(we);J[0]=Math.fround(J[0]),J[1]=Math.fround(J[1]);const G=Math.fround((globalThis.devicePixelRatio||1)*O.PixelsPerInch.PDF_TO_CSS_UNITS);return W!==void 0?W:J[0]<=G||J[1]<=G}const De=["butt","round","square"],be=["miter","round","bevel"],Te={},He={},yt=class yt{constructor(W,J,G,ie,ce,{optionalContentConfig:ye,markedContentStack:Ce=null},Re,Xe){$e(this,Fe);$e(this,at);this.ctx=W,this.current=new se(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=J,this.objs=G,this.canvasFactory=ie,this.filterFactory=ce,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ce||[],this.optionalContentConfig=ye,this.cachedCanvases=new Q(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Re,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Xe,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(W,J=null){return typeof W=="string"?W.startsWith("g_")?this.commonObjs.get(W):this.objs.get(W):J}beginDrawing({transform:W,viewport:J,transparency:G=!1,background:ie=null}){const ce=this.ctx.canvas.width,ye=this.ctx.canvas.height,Ce=this.ctx.fillStyle;if(this.ctx.fillStyle=ie||"#ffffff",this.ctx.fillRect(0,0,ce,ye),this.ctx.fillStyle=Ce,G){const Re=this.cachedCanvases.getCanvas("transparent",ce,ye);this.compositeCtx=this.ctx,this.transparentCanvas=Re.canvas,this.ctx=Re.context,this.ctx.save(),this.ctx.transform(...(0,O.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ae(this.ctx),W&&(this.ctx.transform(...W),this.outputScaleX=W[0],this.outputScaleY=W[0]),this.ctx.transform(...J.transform),this.viewportScale=J.scale,this.baseTransform=(0,O.getCurrentTransform)(this.ctx)}executeOperatorList(W,J,G,ie){const ce=W.argsArray,ye=W.fnArray;let Ce=J||0;const Re=ce.length;if(Re===Ce)return Ce;const Xe=Re-Ce>Ee&&typeof G=="function",Ge=Xe?Date.now()+K:0;let tt=0;const st=this.commonObjs,vt=this.objs;let ut;for(;;){if(ie!==void 0&&Ce===ie.nextBreakPoint)return ie.breakIt(Ce,G),Ce;if(ut=ye[Ce],ut!==R.OPS.dependency)this[ut].apply(this,ce[Ce]);else for(const ft of ce[Ce]){const gt=ft.startsWith("g_")?st:vt;if(!gt.has(ft))return gt.get(ft,G),Ce}if(Ce++,Ce===Re)return Ce;if(Xe&&++tt>Ee){if(Date.now()>Ge)return G(),Ce;tt=0}}}endDrawing(){ze(this,Fe,Ri).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const W of this._cachedBitmapsMap.values()){for(const J of W.values())typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement&&(J.width=J.height=0);W.clear()}this._cachedBitmapsMap.clear(),ze(this,at,Fi).call(this)}_scaleImage(W,J){const G=W.width,ie=W.height;let ce=Math.max(Math.hypot(J[0],J[1]),1),ye=Math.max(Math.hypot(J[2],J[3]),1),Ce=G,Re=ie,Xe="prescale1",Ge,tt;for(;ce>2&&Ce>1||ye>2&&Re>1;){let st=Ce,vt=Re;ce>2&&Ce>1&&(st=Ce>=16384?Math.floor(Ce/2)-1||1:Math.ceil(Ce/2),ce/=Ce/st),ye>2&&Re>1&&(vt=Re>=16384?Math.floor(Re/2)-1||1:Math.ceil(Re)/2,ye/=Re/vt),Ge=this.cachedCanvases.getCanvas(Xe,st,vt),tt=Ge.context,tt.clearRect(0,0,st,vt),tt.drawImage(W,0,0,Ce,Re,0,0,st,vt),W=Ge.canvas,Ce=st,Re=vt,Xe=Xe==="prescale1"?"prescale2":"prescale1"}return{img:W,paintWidth:Ce,paintHeight:Re}}_createMaskCanvas(W){const J=this.ctx,{width:G,height:ie}=W,ce=this.current.fillColor,ye=this.current.patternFill,Ce=(0,O.getCurrentTransform)(J);let Re,Xe,Ge,tt;if((W.bitmap||W.data)&&W.count>1){const At=W.bitmap||W.data.buffer;Xe=JSON.stringify(ye?Ce:[Ce.slice(0,4),ce]),Re=this._cachedBitmapsMap.get(At),Re||(Re=new Map,this._cachedBitmapsMap.set(At,Re));const Ct=Re.get(Xe);if(Ct&&!ye){const Ht=Math.round(Math.min(Ce[0],Ce[2])+Ce[4]),Zt=Math.round(Math.min(Ce[1],Ce[3])+Ce[5]);return{canvas:Ct,offsetX:Ht,offsetY:Zt}}Ge=Ct}Ge||(tt=this.cachedCanvases.getCanvas("maskCanvas",G,ie),pe(tt.context,W));let st=R.Util.transform(Ce,[1/G,0,0,-1/ie,0,0]);st=R.Util.transform(st,[1,0,0,1,0,-ie]);const vt=R.Util.applyTransform([0,0],st),ut=R.Util.applyTransform([G,ie],st),ft=R.Util.normalizeRect([vt[0],vt[1],ut[0],ut[1]]),gt=Math.round(ft[2]-ft[0])||1,pt=Math.round(ft[3]-ft[1])||1,Ft=this.cachedCanvases.getCanvas("fillCanvas",gt,pt),ot=Ft.context,We=Math.min(vt[0],ut[0]),Ue=Math.min(vt[1],ut[1]);ot.translate(-We,-Ue),ot.transform(...st),Ge||(Ge=this._scaleImage(tt.canvas,(0,O.getCurrentTransformInverse)(ot)),Ge=Ge.img,Re&&ye&&Re.set(Xe,Ge)),ot.imageSmoothingEnabled=Pe((0,O.getCurrentTransform)(ot),W.interpolate),q(ot,Ge,0,0,Ge.width,Ge.height,0,0,G,ie),ot.globalCompositeOperation="source-in";const ct=R.Util.transform((0,O.getCurrentTransformInverse)(ot),[1,0,0,1,-We,-Ue]);return ot.fillStyle=ye?ce.getPattern(J,this,ct,B.PathType.FILL):ce,ot.fillRect(0,0,G,ie),Re&&!ye&&(this.cachedCanvases.delete("fillCanvas"),Re.set(Xe,Ft.canvas)),{canvas:Ft.canvas,offsetX:Math.round(We),offsetY:Math.round(Ue)}}setLineWidth(W){W!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=W,this.ctx.lineWidth=W}setLineCap(W){this.ctx.lineCap=De[W]}setLineJoin(W){this.ctx.lineJoin=be[W]}setMiterLimit(W){this.ctx.miterLimit=W}setDash(W,J){const G=this.ctx;G.setLineDash!==void 0&&(G.setLineDash(W),G.lineDashOffset=J)}setRenderingIntent(W){}setFlatness(W){}setGState(W){for(const[J,G]of W)switch(J){case"LW":this.setLineWidth(G);break;case"LC":this.setLineCap(G);break;case"LJ":this.setLineJoin(G);break;case"ML":this.setMiterLimit(G);break;case"D":this.setDash(G[0],G[1]);break;case"RI":this.setRenderingIntent(G);break;case"FL":this.setFlatness(G);break;case"Font":this.setFont(G[0],G[1]);break;case"CA":this.current.strokeAlpha=G;break;case"ca":this.current.fillAlpha=G,this.ctx.globalAlpha=G;break;case"BM":this.ctx.globalCompositeOperation=G;break;case"SMask":this.current.activeSMask=G?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(G);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const W=this.inSMaskMode;this.current.activeSMask&&!W?this.beginSMaskMode():!this.current.activeSMask&&W&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const W=this.ctx.canvas.width,J=this.ctx.canvas.height,G="smaskGroupAt"+this.groupLevel,ie=this.cachedCanvases.getCanvas(G,W,J);this.suspendedCtx=this.ctx,this.ctx=ie.context;const ce=this.ctx;ce.setTransform(...(0,O.getCurrentTransform)(this.suspendedCtx)),ee(this.suspendedCtx,ce),re(ce,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ee(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(W){if(!this.current.activeSMask)return;W?(W[0]=Math.floor(W[0]),W[1]=Math.floor(W[1]),W[2]=Math.ceil(W[2]),W[3]=Math.ceil(W[3])):W=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const J=this.current.activeSMask,G=this.suspendedCtx;he(G,J,this.ctx,W),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ee(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const W=this.current;this.stateStack.push(W),this.current=W.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ee(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(W,J,G,ie,ce,ye){this.ctx.transform(W,J,G,ie,ce,ye),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(W,J,G){const ie=this.ctx,ce=this.current;let ye=ce.x,Ce=ce.y,Re,Xe;const Ge=(0,O.getCurrentTransform)(ie),tt=Ge[0]===0&&Ge[3]===0||Ge[1]===0&&Ge[2]===0,st=tt?G.slice(0):null;for(let vt=0,ut=0,ft=W.length;vt<ft;vt++)switch(W[vt]|0){case R.OPS.rectangle:ye=J[ut++],Ce=J[ut++];const gt=J[ut++],pt=J[ut++],Ft=ye+gt,ot=Ce+pt;ie.moveTo(ye,Ce),gt===0||pt===0?ie.lineTo(Ft,ot):(ie.lineTo(Ft,Ce),ie.lineTo(Ft,ot),ie.lineTo(ye,ot)),tt||ce.updateRectMinMax(Ge,[ye,Ce,Ft,ot]),ie.closePath();break;case R.OPS.moveTo:ye=J[ut++],Ce=J[ut++],ie.moveTo(ye,Ce),tt||ce.updatePathMinMax(Ge,ye,Ce);break;case R.OPS.lineTo:ye=J[ut++],Ce=J[ut++],ie.lineTo(ye,Ce),tt||ce.updatePathMinMax(Ge,ye,Ce);break;case R.OPS.curveTo:Re=ye,Xe=Ce,ye=J[ut+4],Ce=J[ut+5],ie.bezierCurveTo(J[ut],J[ut+1],J[ut+2],J[ut+3],ye,Ce),ce.updateCurvePathMinMax(Ge,Re,Xe,J[ut],J[ut+1],J[ut+2],J[ut+3],ye,Ce,st),ut+=6;break;case R.OPS.curveTo2:Re=ye,Xe=Ce,ie.bezierCurveTo(ye,Ce,J[ut],J[ut+1],J[ut+2],J[ut+3]),ce.updateCurvePathMinMax(Ge,Re,Xe,ye,Ce,J[ut],J[ut+1],J[ut+2],J[ut+3],st),ye=J[ut+2],Ce=J[ut+3],ut+=4;break;case R.OPS.curveTo3:Re=ye,Xe=Ce,ye=J[ut+2],Ce=J[ut+3],ie.bezierCurveTo(J[ut],J[ut+1],ye,Ce,ye,Ce),ce.updateCurvePathMinMax(Ge,Re,Xe,J[ut],J[ut+1],ye,Ce,ye,Ce,st),ut+=4;break;case R.OPS.closePath:ie.closePath();break}tt&&ce.updateScalingPathMinMax(Ge,st),ce.setCurrentPoint(ye,Ce)}closePath(){this.ctx.closePath()}stroke(W=!0){const J=this.ctx,G=this.current.strokeColor;J.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof G=="object"&&(G!=null&&G.getPattern)?(J.save(),J.strokeStyle=G.getPattern(J,this,(0,O.getCurrentTransformInverse)(J),B.PathType.STROKE),this.rescaleAndStroke(!1),J.restore()):this.rescaleAndStroke(!0)),W&&this.consumePath(this.current.getClippedPathBoundingBox()),J.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(W=!0){const J=this.ctx,G=this.current.fillColor,ie=this.current.patternFill;let ce=!1;ie&&(J.save(),J.fillStyle=G.getPattern(J,this,(0,O.getCurrentTransformInverse)(J),B.PathType.FILL),ce=!0);const ye=this.current.getClippedPathBoundingBox();this.contentVisible&&ye!==null&&(this.pendingEOFill?(J.fill("evenodd"),this.pendingEOFill=!1):J.fill()),ce&&J.restore(),W&&this.consumePath(ye)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Te}eoClip(){this.pendingClip=He}beginText(){this.current.textMatrix=R.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const W=this.pendingTextPaths,J=this.ctx;if(W===void 0){J.beginPath();return}J.save(),J.beginPath();for(const G of W)J.setTransform(...G.transform),J.translate(G.x,G.y),G.addToPath(J,G.fontSize);J.restore(),J.clip(),J.beginPath(),delete this.pendingTextPaths}setCharSpacing(W){this.current.charSpacing=W}setWordSpacing(W){this.current.wordSpacing=W}setHScale(W){this.current.textHScale=W/100}setLeading(W){this.current.leading=-W}setFont(W,J){var Ge;const G=this.commonObjs.get(W),ie=this.current;if(!G)throw new Error(`Can't find font for ${W}`);if(ie.fontMatrix=G.fontMatrix||R.FONT_IDENTITY_MATRIX,(ie.fontMatrix[0]===0||ie.fontMatrix[3]===0)&&(0,R.warn)("Invalid font matrix for font "+W),J<0?(J=-J,ie.fontDirection=-1):ie.fontDirection=1,this.current.font=G,this.current.fontSize=J,G.isType3Font)return;const ce=G.loadedName||"sans-serif",ye=((Ge=G.systemFontInfo)==null?void 0:Ge.css)||`"${ce}", ${G.fallbackName}`;let Ce="normal";G.black?Ce="900":G.bold&&(Ce="bold");const Re=G.italic?"italic":"normal";let Xe=J;J<ge?Xe=ge:J>fe&&(Xe=fe),this.current.fontSizeScale=J/Xe,this.ctx.font=`${Re} ${Ce} ${Xe}px ${ye}`}setTextRenderingMode(W){this.current.textRenderingMode=W}setTextRise(W){this.current.textRise=W}moveText(W,J){this.current.x=this.current.lineX+=W,this.current.y=this.current.lineY+=J}setLeadingMoveText(W,J){this.setLeading(-J),this.moveText(W,J)}setTextMatrix(W,J,G,ie,ce,ye){this.current.textMatrix=[W,J,G,ie,ce,ye],this.current.textMatrixScale=Math.hypot(W,J),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(W,J,G,ie){const ce=this.ctx,ye=this.current,Ce=ye.font,Re=ye.textRenderingMode,Xe=ye.fontSize/ye.fontSizeScale,Ge=Re&R.TextRenderingMode.FILL_STROKE_MASK,tt=!!(Re&R.TextRenderingMode.ADD_TO_PATH_FLAG),st=ye.patternFill&&!Ce.missingFile;let vt;(Ce.disableFontFace||tt||st)&&(vt=Ce.getPathGenerator(this.commonObjs,W)),Ce.disableFontFace||st?(ce.save(),ce.translate(J,G),ce.beginPath(),vt(ce,Xe),ie&&ce.setTransform(...ie),(Ge===R.TextRenderingMode.FILL||Ge===R.TextRenderingMode.FILL_STROKE)&&ce.fill(),(Ge===R.TextRenderingMode.STROKE||Ge===R.TextRenderingMode.FILL_STROKE)&&ce.stroke(),ce.restore()):((Ge===R.TextRenderingMode.FILL||Ge===R.TextRenderingMode.FILL_STROKE)&&ce.fillText(W,J,G),(Ge===R.TextRenderingMode.STROKE||Ge===R.TextRenderingMode.FILL_STROKE)&&ce.strokeText(W,J,G)),tt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,O.getCurrentTransform)(ce),x:J,y:G,fontSize:Xe,addToPath:vt})}get isFontSubpixelAAEnabled(){const{context:W}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);W.scale(1.5,1),W.fillText("I",0,10);const J=W.getImageData(0,0,10,10).data;let G=!1;for(let ie=3;ie<J.length;ie+=4)if(J[ie]>0&&J[ie]<255){G=!0;break}return(0,R.shadow)(this,"isFontSubpixelAAEnabled",G)}showText(W){const J=this.current,G=J.font;if(G.isType3Font)return this.showType3Text(W);const ie=J.fontSize;if(ie===0)return;const ce=this.ctx,ye=J.fontSizeScale,Ce=J.charSpacing,Re=J.wordSpacing,Xe=J.fontDirection,Ge=J.textHScale*Xe,tt=W.length,st=G.vertical,vt=st?1:-1,ut=G.defaultVMetrics,ft=ie*J.fontMatrix[0],gt=J.textRenderingMode===R.TextRenderingMode.FILL&&!G.disableFontFace&&!J.patternFill;ce.save(),ce.transform(...J.textMatrix),ce.translate(J.x,J.y+J.textRise),Xe>0?ce.scale(Ge,-1):ce.scale(Ge,1);let pt;if(J.patternFill){ce.save();const ct=J.fillColor.getPattern(ce,this,(0,O.getCurrentTransformInverse)(ce),B.PathType.FILL);pt=(0,O.getCurrentTransform)(ce),ce.restore(),ce.fillStyle=ct}let Ft=J.lineWidth;const ot=J.textMatrixScale;if(ot===0||Ft===0){const ct=J.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;(ct===R.TextRenderingMode.STROKE||ct===R.TextRenderingMode.FILL_STROKE)&&(Ft=this.getSinglePixelWidth())}else Ft/=ot;if(ye!==1&&(ce.scale(ye,ye),Ft/=ye),ce.lineWidth=Ft,G.isInvalidPDFjsFont){const ct=[];let At=0;for(const Ct of W)ct.push(Ct.unicode),At+=Ct.width;ce.fillText(ct.join(""),0,0),J.x+=At*ft*Ge,ce.restore(),this.compose();return}let We=0,Ue;for(Ue=0;Ue<tt;++Ue){const ct=W[Ue];if(typeof ct=="number"){We+=vt*ct*ie/1e3;continue}let At=!1;const Ct=(ct.isSpace?Re:0)+Ce,Ht=ct.fontChar,Zt=ct.accent;let qt,Qt,rn=ct.width;if(st){const ln=ct.vmetric||ut,lt=-(ct.vmetric?ln[1]:rn*.5)*ft,Ve=ln[2]*ft;rn=ln?-ln[0]:rn,qt=lt/ye,Qt=(We+Ve)/ye}else qt=We/ye,Qt=0;if(G.remeasure&&rn>0){const ln=ce.measureText(Ht).width*1e3/ie*ye;if(rn<ln&&this.isFontSubpixelAAEnabled){const lt=rn/ln;At=!0,ce.save(),ce.scale(lt,1),qt/=lt}else rn!==ln&&(qt+=(rn-ln)/2e3*ie/ye)}if(this.contentVisible&&(ct.isInFont||G.missingFile)){if(gt&&!Zt)ce.fillText(Ht,qt,Qt);else if(this.paintChar(Ht,qt,Qt,pt),Zt){const ln=qt+ie*Zt.offset.x/ye,lt=Qt-ie*Zt.offset.y/ye;this.paintChar(Zt.fontChar,ln,lt,pt)}}const Vt=st?rn*ft-Ct*Xe:rn*ft+Ct*Xe;We+=Vt,At&&ce.restore()}st?J.y-=We:J.x+=We*Ge,ce.restore(),this.compose()}showType3Text(W){const J=this.ctx,G=this.current,ie=G.font,ce=G.fontSize,ye=G.fontDirection,Ce=ie.vertical?1:-1,Re=G.charSpacing,Xe=G.wordSpacing,Ge=G.textHScale*ye,tt=G.fontMatrix||R.FONT_IDENTITY_MATRIX,st=W.length,vt=G.textRenderingMode===R.TextRenderingMode.INVISIBLE;let ut,ft,gt,pt;if(!(vt||ce===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,J.save(),J.transform(...G.textMatrix),J.translate(G.x,G.y),J.scale(Ge,ye),ut=0;ut<st;++ut){if(ft=W[ut],typeof ft=="number"){pt=Ce*ft*ce/1e3,this.ctx.translate(pt,0),G.x+=pt*Ge;continue}const Ft=(ft.isSpace?Xe:0)+Re,ot=ie.charProcOperatorList[ft.operatorListId];if(!ot){(0,R.warn)(`Type3 character "${ft.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ft,this.save(),J.scale(ce,ce),J.transform(...tt),this.executeOperatorList(ot),this.restore()),gt=R.Util.applyTransform([ft.width,0],tt)[0]*ce+Ft,J.translate(gt,0),G.x+=gt*Ge}J.restore(),this.processingType3=null}}setCharWidth(W,J){}setCharWidthAndBounds(W,J,G,ie,ce,ye){this.ctx.rect(G,ie,ce-G,ye-ie),this.ctx.clip(),this.endPath()}getColorN_Pattern(W){let J;if(W[0]==="TilingPattern"){const G=W[1],ie=this.baseTransform||(0,O.getCurrentTransform)(this.ctx),ce={createCanvasGraphics:ye=>new yt(ye,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};J=new B.TilingPattern(W,G,this.ctx,ce,ie)}else J=this._getPattern(W[1],W[2]);return J}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(W,J,G){const ie=R.Util.makeHexColor(W,J,G);this.ctx.strokeStyle=ie,this.current.strokeColor=ie}setFillRGBColor(W,J,G){const ie=R.Util.makeHexColor(W,J,G);this.ctx.fillStyle=ie,this.current.fillColor=ie,this.current.patternFill=!1}_getPattern(W,J=null){let G;return this.cachedPatterns.has(W)?G=this.cachedPatterns.get(W):(G=(0,B.getShadingPattern)(this.getObject(W)),this.cachedPatterns.set(W,G)),J&&(G.matrix=J),G}shadingFill(W){if(!this.contentVisible)return;const J=this.ctx;this.save();const G=this._getPattern(W);J.fillStyle=G.getPattern(J,this,(0,O.getCurrentTransformInverse)(J),B.PathType.SHADING);const ie=(0,O.getCurrentTransformInverse)(J);if(ie){const{width:ce,height:ye}=J.canvas,[Ce,Re,Xe,Ge]=R.Util.getAxialAlignedBoundingBox([0,0,ce,ye],ie);this.ctx.fillRect(Ce,Re,Xe-Ce,Ge-Re)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,R.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,R.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(W,J){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(W)&&W.length===6&&this.transform(...W),this.baseTransform=(0,O.getCurrentTransform)(this.ctx),J)){const G=J[2]-J[0],ie=J[3]-J[1];this.ctx.rect(J[0],J[1],G,ie),this.current.updateRectMinMax((0,O.getCurrentTransform)(this.ctx),J),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(W){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const J=this.ctx;W.isolated||(0,R.info)("TODO: Support non-isolated groups."),W.knockout&&(0,R.warn)("Knockout groups not supported.");const G=(0,O.getCurrentTransform)(J);if(W.matrix&&J.transform(...W.matrix),!W.bbox)throw new Error("Bounding box is required.");let ie=R.Util.getAxialAlignedBoundingBox(W.bbox,(0,O.getCurrentTransform)(J));const ce=[0,0,J.canvas.width,J.canvas.height];ie=R.Util.intersect(ie,ce)||[0,0,0,0];const ye=Math.floor(ie[0]),Ce=Math.floor(ie[1]);let Re=Math.max(Math.ceil(ie[2])-ye,1),Xe=Math.max(Math.ceil(ie[3])-Ce,1),Ge=1,tt=1;Re>de&&(Ge=Re/de,Re=de),Xe>de&&(tt=Xe/de,Xe=de),this.current.startNewPathAndClipBox([0,0,Re,Xe]);let st="groupAt"+this.groupLevel;W.smask&&(st+="_smask_"+this.smaskCounter++%2);const vt=this.cachedCanvases.getCanvas(st,Re,Xe),ut=vt.context;ut.scale(1/Ge,1/tt),ut.translate(-ye,-Ce),ut.transform(...G),W.smask?this.smaskStack.push({canvas:vt.canvas,context:ut,offsetX:ye,offsetY:Ce,scaleX:Ge,scaleY:tt,subtype:W.smask.subtype,backdrop:W.smask.backdrop,transferMap:W.smask.transferMap||null,startTransformInverse:null}):(J.setTransform(1,0,0,1,0,0),J.translate(ye,Ce),J.scale(Ge,tt),J.save()),ee(J,ut),this.ctx=ut,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(J),this.groupLevel++}endGroup(W){if(!this.contentVisible)return;this.groupLevel--;const J=this.ctx,G=this.groupStack.pop();if(this.ctx=G,this.ctx.imageSmoothingEnabled=!1,W.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ie=(0,O.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ie);const ce=R.Util.getAxialAlignedBoundingBox([0,0,J.canvas.width,J.canvas.height],ie);this.ctx.drawImage(J.canvas,0,0),this.ctx.restore(),this.compose(ce)}}beginAnnotation(W,J,G,ie,ce){if(ze(this,Fe,Ri).call(this),ae(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(J)&&J.length===4){const ye=J[2]-J[0],Ce=J[3]-J[1];if(ce&&this.annotationCanvasMap){G=G.slice(),G[4]-=J[0],G[5]-=J[1],J=J.slice(),J[0]=J[1]=0,J[2]=ye,J[3]=Ce;const[Re,Xe]=R.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(this.ctx)),{viewportScale:Ge}=this,tt=Math.ceil(ye*this.outputScaleX*Ge),st=Math.ceil(Ce*this.outputScaleY*Ge);this.annotationCanvas=this.canvasFactory.create(tt,st);const{canvas:vt,context:ut}=this.annotationCanvas;this.annotationCanvasMap.set(W,vt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ut,this.ctx.save(),this.ctx.setTransform(Re,0,0,-Xe,0,Ce*Xe),ae(this.ctx)}else ae(this.ctx),this.ctx.rect(J[0],J[1],ye,Ce),this.ctx.clip(),this.endPath()}this.current=new se(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...G),this.transform(...ie)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ze(this,at,Fi).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(W){if(!this.contentVisible)return;const J=W.count;W=this.getObject(W.data,W),W.count=J;const G=this.ctx,ie=this.processingType3;if(ie&&(ie.compiled===void 0&&(ie.compiled=oe(W)),ie.compiled)){ie.compiled(G);return}const ce=this._createMaskCanvas(W),ye=ce.canvas;G.save(),G.setTransform(1,0,0,1,0,0),G.drawImage(ye,ce.offsetX,ce.offsetY),G.restore(),this.compose()}paintImageMaskXObjectRepeat(W,J,G=0,ie=0,ce,ye){if(!this.contentVisible)return;W=this.getObject(W.data,W);const Ce=this.ctx;Ce.save();const Re=(0,O.getCurrentTransform)(Ce);Ce.transform(J,G,ie,ce,0,0);const Xe=this._createMaskCanvas(W);Ce.setTransform(1,0,0,1,Xe.offsetX-Re[4],Xe.offsetY-Re[5]);for(let Ge=0,tt=ye.length;Ge<tt;Ge+=2){const st=R.Util.transform(Re,[J,G,ie,ce,ye[Ge],ye[Ge+1]]),[vt,ut]=R.Util.applyTransform([0,0],st);Ce.drawImage(Xe.canvas,vt,ut)}Ce.restore(),this.compose()}paintImageMaskXObjectGroup(W){if(!this.contentVisible)return;const J=this.ctx,G=this.current.fillColor,ie=this.current.patternFill;for(const ce of W){const{data:ye,width:Ce,height:Re,transform:Xe}=ce,Ge=this.cachedCanvases.getCanvas("maskCanvas",Ce,Re),tt=Ge.context;tt.save();const st=this.getObject(ye,ce);pe(tt,st),tt.globalCompositeOperation="source-in",tt.fillStyle=ie?G.getPattern(tt,this,(0,O.getCurrentTransformInverse)(J),B.PathType.FILL):G,tt.fillRect(0,0,Ce,Re),tt.restore(),J.save(),J.transform(...Xe),J.scale(1,-1),q(J,Ge.canvas,0,0,Ce,Re,0,-1,1,1),J.restore()}this.compose()}paintImageXObject(W){if(!this.contentVisible)return;const J=this.getObject(W);if(!J){(0,R.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(J)}paintImageXObjectRepeat(W,J,G,ie){if(!this.contentVisible)return;const ce=this.getObject(W);if(!ce){(0,R.warn)("Dependent image isn't ready yet");return}const ye=ce.width,Ce=ce.height,Re=[];for(let Xe=0,Ge=ie.length;Xe<Ge;Xe+=2)Re.push({transform:[J,0,0,G,ie[Xe],ie[Xe+1]],x:0,y:0,w:ye,h:Ce});this.paintInlineImageXObjectGroup(ce,Re)}applyTransferMapsToCanvas(W){return this.current.transferMaps!=="none"&&(W.filter=this.current.transferMaps,W.drawImage(W.canvas,0,0),W.filter="none"),W.canvas}applyTransferMapsToBitmap(W){if(this.current.transferMaps==="none")return W.bitmap;const{bitmap:J,width:G,height:ie}=W,ce=this.cachedCanvases.getCanvas("inlineImage",G,ie),ye=ce.context;return ye.filter=this.current.transferMaps,ye.drawImage(J,0,0),ye.filter="none",ce.canvas}paintInlineImageXObject(W){if(!this.contentVisible)return;const J=W.width,G=W.height,ie=this.ctx;if(this.save(),!R.isNodeJS){const{filter:Ce}=ie;Ce!=="none"&&Ce!==""&&(ie.filter="none")}ie.scale(1/J,-1/G);let ce;if(W.bitmap)ce=this.applyTransferMapsToBitmap(W);else if(typeof HTMLElement=="function"&&W instanceof HTMLElement||!W.data)ce=W;else{const Re=this.cachedCanvases.getCanvas("inlineImage",J,G).context;ue(Re,W),ce=this.applyTransferMapsToCanvas(Re)}const ye=this._scaleImage(ce,(0,O.getCurrentTransformInverse)(ie));ie.imageSmoothingEnabled=Pe((0,O.getCurrentTransform)(ie),W.interpolate),q(ie,ye.img,0,0,ye.paintWidth,ye.paintHeight,0,-G,J,G),this.compose(),this.restore()}paintInlineImageXObjectGroup(W,J){if(!this.contentVisible)return;const G=this.ctx;let ie;if(W.bitmap)ie=W.bitmap;else{const ce=W.width,ye=W.height,Re=this.cachedCanvases.getCanvas("inlineImage",ce,ye).context;ue(Re,W),ie=this.applyTransferMapsToCanvas(Re)}for(const ce of J)G.save(),G.transform(...ce.transform),G.scale(1,-1),q(G,ie,ce.x,ce.y,ce.w,ce.h,0,-1,1,1),G.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(W){}markPointProps(W,J){}beginMarkedContent(W){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(W,J){W==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(J)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(W){const J=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(W);const G=this.ctx;this.pendingClip&&(J||(this.pendingClip===He?G.clip("evenodd"):G.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),G.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const W=(0,O.getCurrentTransform)(this.ctx);if(W[1]===0&&W[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(W[0]),Math.abs(W[3]));else{const J=Math.abs(W[0]*W[3]-W[2]*W[1]),G=Math.hypot(W[0],W[2]),ie=Math.hypot(W[1],W[3]);this._cachedGetSinglePixelWidth=Math.max(G,ie)/J}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:W}=this.current,{a:J,b:G,c:ie,d:ce}=this.ctx.getTransform();let ye,Ce;if(G===0&&ie===0){const Re=Math.abs(J),Xe=Math.abs(ce);if(Re===Xe)if(W===0)ye=Ce=1/Re;else{const Ge=Re*W;ye=Ce=Ge<1?1/Ge:1}else if(W===0)ye=1/Re,Ce=1/Xe;else{const Ge=Re*W,tt=Xe*W;ye=Ge<1?1/Ge:1,Ce=tt<1?1/tt:1}}else{const Re=Math.abs(J*ce-G*ie),Xe=Math.hypot(J,G),Ge=Math.hypot(ie,ce);if(W===0)ye=Ge/Re,Ce=Xe/Re;else{const tt=W*Re;ye=Ge>tt?Ge/tt:1,Ce=Xe>tt?Xe/tt:1}}this._cachedScaleForStroking[0]=ye,this._cachedScaleForStroking[1]=Ce}return this._cachedScaleForStroking}rescaleAndStroke(W){const{ctx:J}=this,{lineWidth:G}=this.current,[ie,ce]=this.getScaleForStroking();if(J.lineWidth=G||1,ie===1&&ce===1){J.stroke();return}const ye=J.getLineDash();if(W&&J.save(),J.scale(ie,ce),ye.length>0){const Ce=Math.max(ie,ce);J.setLineDash(ye.map(Re=>Re/Ce)),J.lineDashOffset/=Ce}J.stroke(),W&&J.restore()}isContentVisible(){for(let W=this.markedContentStack.length-1;W>=0;W--)if(!this.markedContentStack[W].visible)return!1;return!0}};Fe=new WeakSet,Ri=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},at=new WeakSet,Fi=function(){if(this.pageColors){const W=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(W!=="none"){const J=this.ctx.filter;this.ctx.filter=W,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=J}}};let Qe=yt;$.CanvasGraphics=Qe;for(const we in R.OPS)Qe.prototype[we]!==void 0&&(Qe.prototype[R.OPS[we]]=Qe.prototype[we])},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=ne;var R=H(1),O=H(6);const B={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=B;function Y(oe,se){if(!se)return;const ue=se[2]-se[0],pe=se[3]-se[1],ee=new Path2D;ee.rect(se[0],se[1],ue,pe),oe.clip(ee)}class ge{constructor(){this.constructor===ge&&(0,R.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,R.unreachable)("Abstract method `getPattern` called.")}}class fe extends ge{constructor(se){super(),this._type=se[1],this._bbox=se[2],this._colorStops=se[3],this._p0=se[4],this._p1=se[5],this._r0=se[6],this._r1=se[7],this.matrix=null}_createGradient(se){let ue;this._type==="axial"?ue=se.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ue=se.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const pe of this._colorStops)ue.addColorStop(pe[0],pe[1]);return ue}getPattern(se,ue,pe,ee){let ae;if(ee===B.STROKE||ee===B.FILL){const Ae=ue.current.getClippedPathBoundingBox(ee,(0,O.getCurrentTransform)(se))||[0,0,0,0],ve=Math.ceil(Ae[2]-Ae[0])||1,te=Math.ceil(Ae[3]-Ae[1])||1,_e=ue.cachedCanvases.getCanvas("pattern",ve,te,!0),he=_e.context;he.clearRect(0,0,he.canvas.width,he.canvas.height),he.beginPath(),he.rect(0,0,he.canvas.width,he.canvas.height),he.translate(-Ae[0],-Ae[1]),pe=R.Util.transform(pe,[1,0,0,1,Ae[0],Ae[1]]),he.transform(...ue.baseTransform),this.matrix&&he.transform(...this.matrix),Y(he,this._bbox),he.fillStyle=this._createGradient(he),he.fill(),ae=se.createPattern(_e.canvas,"no-repeat");const Pe=new DOMMatrix(pe);ae.setTransform(Pe)}else Y(se,this._bbox),ae=this._createGradient(se);return ae}}function de(oe,se,ue,pe,ee,ae,Ae,ve){const te=se.coords,_e=se.colors,he=oe.data,Pe=oe.width*4;let De;te[ue+1]>te[pe+1]&&(De=ue,ue=pe,pe=De,De=ae,ae=Ae,Ae=De),te[pe+1]>te[ee+1]&&(De=pe,pe=ee,ee=De,De=Ae,Ae=ve,ve=De),te[ue+1]>te[pe+1]&&(De=ue,ue=pe,pe=De,De=ae,ae=Ae,Ae=De);const be=(te[ue]+se.offsetX)*se.scaleX,Te=(te[ue+1]+se.offsetY)*se.scaleY,He=(te[pe]+se.offsetX)*se.scaleX,Qe=(te[pe+1]+se.offsetY)*se.scaleY,Fe=(te[ee]+se.offsetX)*se.scaleX,nt=(te[ee+1]+se.offsetY)*se.scaleY;if(Te>=nt)return;const at=_e[ae],ht=_e[ae+1],yt=_e[ae+2],we=_e[Ae],W=_e[Ae+1],J=_e[Ae+2],G=_e[ve],ie=_e[ve+1],ce=_e[ve+2],ye=Math.round(Te),Ce=Math.round(nt);let Re,Xe,Ge,tt,st,vt,ut,ft;for(let gt=ye;gt<=Ce;gt++){if(gt<Qe){const Ue=gt<Te?0:(Te-gt)/(Te-Qe);Re=be-(be-He)*Ue,Xe=at-(at-we)*Ue,Ge=ht-(ht-W)*Ue,tt=yt-(yt-J)*Ue}else{let Ue;gt>nt?Ue=1:Qe===nt?Ue=0:Ue=(Qe-gt)/(Qe-nt),Re=He-(He-Fe)*Ue,Xe=we-(we-G)*Ue,Ge=W-(W-ie)*Ue,tt=J-(J-ce)*Ue}let pt;gt<Te?pt=0:gt>nt?pt=1:pt=(Te-gt)/(Te-nt),st=be-(be-Fe)*pt,vt=at-(at-G)*pt,ut=ht-(ht-ie)*pt,ft=yt-(yt-ce)*pt;const Ft=Math.round(Math.min(Re,st)),ot=Math.round(Math.max(Re,st));let We=Pe*gt+Ft*4;for(let Ue=Ft;Ue<=ot;Ue++)pt=(Re-Ue)/(Re-st),pt<0?pt=0:pt>1&&(pt=1),he[We++]=Xe-(Xe-vt)*pt|0,he[We++]=Ge-(Ge-ut)*pt|0,he[We++]=tt-(tt-ft)*pt|0,he[We++]=255}}function K(oe,se,ue){const pe=se.coords,ee=se.colors;let ae,Ae;switch(se.type){case"lattice":const ve=se.verticesPerRow,te=Math.floor(pe.length/ve)-1,_e=ve-1;for(ae=0;ae<te;ae++){let he=ae*ve;for(let Pe=0;Pe<_e;Pe++,he++)de(oe,ue,pe[he],pe[he+1],pe[he+ve],ee[he],ee[he+1],ee[he+ve]),de(oe,ue,pe[he+ve+1],pe[he+1],pe[he+ve],ee[he+ve+1],ee[he+1],ee[he+ve])}break;case"triangles":for(ae=0,Ae=pe.length;ae<Ae;ae+=3)de(oe,ue,pe[ae],pe[ae+1],pe[ae+2],ee[ae],ee[ae+1],ee[ae+2]);break;default:throw new Error("illegal figure")}}class Ee extends ge{constructor(se){super(),this._coords=se[2],this._colors=se[3],this._figures=se[4],this._bounds=se[5],this._bbox=se[7],this._background=se[8],this.matrix=null}_createMeshCanvas(se,ue,pe){const ve=Math.floor(this._bounds[0]),te=Math.floor(this._bounds[1]),_e=Math.ceil(this._bounds[2])-ve,he=Math.ceil(this._bounds[3])-te,Pe=Math.min(Math.ceil(Math.abs(_e*se[0]*1.1)),3e3),De=Math.min(Math.ceil(Math.abs(he*se[1]*1.1)),3e3),be=_e/Pe,Te=he/De,He={coords:this._coords,colors:this._colors,offsetX:-ve,offsetY:-te,scaleX:1/be,scaleY:1/Te},Qe=Pe+2*2,Fe=De+2*2,nt=pe.getCanvas("mesh",Qe,Fe,!1),at=nt.context,ht=at.createImageData(Pe,De);if(ue){const we=ht.data;for(let W=0,J=we.length;W<J;W+=4)we[W]=ue[0],we[W+1]=ue[1],we[W+2]=ue[2],we[W+3]=255}for(const we of this._figures)K(ht,we,He);return at.putImageData(ht,2,2),{canvas:nt.canvas,offsetX:ve-2*be,offsetY:te-2*Te,scaleX:be,scaleY:Te}}getPattern(se,ue,pe,ee){Y(se,this._bbox);let ae;if(ee===B.SHADING)ae=R.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(se));else if(ae=R.Util.singularValueDecompose2dScale(ue.baseTransform),this.matrix){const ve=R.Util.singularValueDecompose2dScale(this.matrix);ae=[ae[0]*ve[0],ae[1]*ve[1]]}const Ae=this._createMeshCanvas(ae,ee===B.SHADING?null:this._background,ue.cachedCanvases);return ee!==B.SHADING&&(se.setTransform(...ue.baseTransform),this.matrix&&se.transform(...this.matrix)),se.translate(Ae.offsetX,Ae.offsetY),se.scale(Ae.scaleX,Ae.scaleY),se.createPattern(Ae.canvas,"no-repeat")}}class le extends ge{getPattern(){return"hotpink"}}function ne(oe){switch(oe[0]){case"RadialAxial":return new fe(oe);case"Mesh":return new Ee(oe);case"Dummy":return new le}throw new Error(`Unknown IR type: ${oe[0]}`)}const re={COLORED:1,UNCOLORED:2},q=class q{constructor(se,ue,pe,ee,ae){this.operatorList=se[2],this.matrix=se[3]||[1,0,0,1,0,0],this.bbox=se[4],this.xstep=se[5],this.ystep=se[6],this.paintType=se[7],this.tilingType=se[8],this.color=ue,this.ctx=pe,this.canvasGraphicsFactory=ee,this.baseTransform=ae}createPatternCanvas(se){const ue=this.operatorList,pe=this.bbox,ee=this.xstep,ae=this.ystep,Ae=this.paintType,ve=this.tilingType,te=this.color,_e=this.canvasGraphicsFactory;(0,R.info)("TilingType: "+ve);const he=pe[0],Pe=pe[1],De=pe[2],be=pe[3],Te=R.Util.singularValueDecompose2dScale(this.matrix),He=R.Util.singularValueDecompose2dScale(this.baseTransform),Qe=[Te[0]*He[0],Te[1]*He[1]],Fe=this.getSizeAndScale(ee,this.ctx.canvas.width,Qe[0]),nt=this.getSizeAndScale(ae,this.ctx.canvas.height,Qe[1]),at=se.cachedCanvases.getCanvas("pattern",Fe.size,nt.size,!0),ht=at.context,yt=_e.createCanvasGraphics(ht);yt.groupLevel=se.groupLevel,this.setFillAndStrokeStyleToContext(yt,Ae,te);let we=he,W=Pe,J=De,G=be;return he<0&&(we=0,J+=Math.abs(he)),Pe<0&&(W=0,G+=Math.abs(Pe)),ht.translate(-(Fe.scale*we),-(nt.scale*W)),yt.transform(Fe.scale,0,0,nt.scale,0,0),ht.save(),this.clipBbox(yt,we,W,J,G),yt.baseTransform=(0,O.getCurrentTransform)(yt.ctx),yt.executeOperatorList(ue),yt.endDrawing(),{canvas:at.canvas,scaleX:Fe.scale,scaleY:nt.scale,offsetX:we,offsetY:W}}getSizeAndScale(se,ue,pe){se=Math.abs(se);const ee=Math.max(q.MAX_PATTERN_SIZE,ue);let ae=Math.ceil(se*pe);return ae>=ee?ae=ee:pe=ae/se,{scale:pe,size:ae}}clipBbox(se,ue,pe,ee,ae){const Ae=ee-ue,ve=ae-pe;se.ctx.rect(ue,pe,Ae,ve),se.current.updateRectMinMax((0,O.getCurrentTransform)(se.ctx),[ue,pe,ee,ae]),se.clip(),se.endPath()}setFillAndStrokeStyleToContext(se,ue,pe){const ee=se.ctx,ae=se.current;switch(ue){case re.COLORED:const Ae=this.ctx;ee.fillStyle=Ae.fillStyle,ee.strokeStyle=Ae.strokeStyle,ae.fillColor=Ae.fillStyle,ae.strokeColor=Ae.strokeStyle;break;case re.UNCOLORED:const ve=R.Util.makeHexColor(pe[0],pe[1],pe[2]);ee.fillStyle=ve,ee.strokeStyle=ve,ae.fillColor=ve,ae.strokeColor=ve;break;default:throw new R.FormatError(`Unsupported paint type: ${ue}`)}}getPattern(se,ue,pe,ee){let ae=pe;ee!==B.SHADING&&(ae=R.Util.transform(ae,ue.baseTransform),this.matrix&&(ae=R.Util.transform(ae,this.matrix)));const Ae=this.createPatternCanvas(ue);let ve=new DOMMatrix(ae);ve=ve.translate(Ae.offsetX,Ae.offsetY),ve=ve.scale(1/Ae.scaleX,1/Ae.scaleY);const te=se.createPattern(Ae.canvas,"repeat");return te.setTransform(ve),te}};Dn(q,"MAX_PATTERN_SIZE",3e3);let Q=q;$.TilingPattern=Q},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=B,$.convertToRGBA=O,$.grayToRGBA=ge;var R=H(1);function O(fe){switch(fe.kind){case R.ImageKind.GRAYSCALE_1BPP:return B(fe);case R.ImageKind.RGB_24BPP:return Y(fe)}return null}function B({src:fe,srcPos:de=0,dest:K,width:Ee,height:le,nonBlackColor:ne=4294967295,inverseDecode:re=!1}){const Q=R.FeatureTest.isLittleEndian?4278190080:255,[q,oe]=re?[ne,Q]:[Q,ne],se=Ee>>3,ue=Ee&7,pe=fe.length;K=new Uint32Array(K.buffer);let ee=0;for(let ae=0;ae<le;ae++){for(const ve=de+se;de<ve;de++){const te=de<pe?fe[de]:255;K[ee++]=te&128?oe:q,K[ee++]=te&64?oe:q,K[ee++]=te&32?oe:q,K[ee++]=te&16?oe:q,K[ee++]=te&8?oe:q,K[ee++]=te&4?oe:q,K[ee++]=te&2?oe:q,K[ee++]=te&1?oe:q}if(ue===0)continue;const Ae=de<pe?fe[de++]:255;for(let ve=0;ve<ue;ve++)K[ee++]=Ae&1<<7-ve?oe:q}return{srcPos:de,destPos:ee}}function Y({src:fe,srcPos:de=0,dest:K,destPos:Ee=0,width:le,height:ne}){let re=0;const Q=fe.length>>2,q=new Uint32Array(fe.buffer,de,Q);if(R.FeatureTest.isLittleEndian){for(;re<Q-2;re+=3,Ee+=4){const oe=q[re],se=q[re+1],ue=q[re+2];K[Ee]=oe|4278190080,K[Ee+1]=oe>>>24|se<<8|4278190080,K[Ee+2]=se>>>16|ue<<16|4278190080,K[Ee+3]=ue>>>8|4278190080}for(let oe=re*4,se=fe.length;oe<se;oe+=3)K[Ee++]=fe[oe]|fe[oe+1]<<8|fe[oe+2]<<16|4278190080}else{for(;re<Q-2;re+=3,Ee+=4){const oe=q[re],se=q[re+1],ue=q[re+2];K[Ee]=oe|255,K[Ee+1]=oe<<24|se>>>8|255,K[Ee+2]=se<<16|ue>>>16|255,K[Ee+3]=ue<<8|255}for(let oe=re*4,se=fe.length;oe<se;oe+=3)K[Ee++]=fe[oe]<<24|fe[oe+1]<<16|fe[oe+2]<<8|255}return{srcPos:de,destPos:Ee}}function ge(fe,de){if(R.FeatureTest.isLittleEndian)for(let K=0,Ee=fe.length;K<Ee;K++)de[K]=fe[K]*65793|4278190080;else for(let K=0,Ee=fe.length;K<Ee;K++)de[K]=fe[K]*16843008|255}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const H=Object.create(null);$.GlobalWorkerOptions=H,H.workerPort=null,H.workerSrc=""},(A,$,H)=>{var fe,Ca,K,Pa,le,Yr;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var R=H(1);const O={UNKNOWN:0,DATA:1,ERROR:2},B={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Y(re){switch(re instanceof Error||typeof re=="object"&&re!==null||(0,R.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),re.name){case"AbortException":return new R.AbortException(re.message);case"MissingPDFException":return new R.MissingPDFException(re.message);case"PasswordException":return new R.PasswordException(re.message,re.code);case"UnexpectedResponseException":return new R.UnexpectedResponseException(re.message,re.status);case"UnknownErrorException":return new R.UnknownErrorException(re.message,re.details);default:return new R.UnknownErrorException(re.message,re.toString())}}class ge{constructor(Q,q,oe){$e(this,fe);$e(this,K);$e(this,le);this.sourceName=Q,this.targetName=q,this.comObj=oe,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=se=>{const ue=se.data;if(ue.targetName!==this.sourceName)return;if(ue.stream){ze(this,K,Pa).call(this,ue);return}if(ue.callback){const ee=ue.callbackId,ae=this.callbackCapabilities[ee];if(!ae)throw new Error(`Cannot resolve callback ${ee}`);if(delete this.callbackCapabilities[ee],ue.callback===O.DATA)ae.resolve(ue.data);else if(ue.callback===O.ERROR)ae.reject(Y(ue.reason));else throw new Error("Unexpected callback case");return}const pe=this.actionHandler[ue.action];if(!pe)throw new Error(`Unknown action from worker: ${ue.action}`);if(ue.callbackId){const ee=this.sourceName,ae=ue.sourceName;new Promise(function(Ae){Ae(pe(ue.data))}).then(function(Ae){oe.postMessage({sourceName:ee,targetName:ae,callback:O.DATA,callbackId:ue.callbackId,data:Ae})},function(Ae){oe.postMessage({sourceName:ee,targetName:ae,callback:O.ERROR,callbackId:ue.callbackId,reason:Y(Ae)})});return}if(ue.streamId){ze(this,fe,Ca).call(this,ue);return}pe(ue.data)},oe.addEventListener("message",this._onComObjOnMessage)}on(Q,q){const oe=this.actionHandler;if(oe[Q])throw new Error(`There is already an actionName called "${Q}"`);oe[Q]=q}send(Q,q,oe){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Q,data:q},oe)}sendWithPromise(Q,q,oe){const se=this.callbackId++,ue=new R.PromiseCapability;this.callbackCapabilities[se]=ue;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Q,callbackId:se,data:q},oe)}catch(pe){ue.reject(pe)}return ue.promise}sendWithStream(Q,q,oe,se){const ue=this.streamId++,pe=this.sourceName,ee=this.targetName,ae=this.comObj;return new ReadableStream({start:Ae=>{const ve=new R.PromiseCapability;return this.streamControllers[ue]={controller:Ae,startCall:ve,pullCall:null,cancelCall:null,isClosed:!1},ae.postMessage({sourceName:pe,targetName:ee,action:Q,streamId:ue,data:q,desiredSize:Ae.desiredSize},se),ve.promise},pull:Ae=>{const ve=new R.PromiseCapability;return this.streamControllers[ue].pullCall=ve,ae.postMessage({sourceName:pe,targetName:ee,stream:B.PULL,streamId:ue,desiredSize:Ae.desiredSize}),ve.promise},cancel:Ae=>{(0,R.assert)(Ae instanceof Error,"cancel must have a valid reason");const ve=new R.PromiseCapability;return this.streamControllers[ue].cancelCall=ve,this.streamControllers[ue].isClosed=!0,ae.postMessage({sourceName:pe,targetName:ee,stream:B.CANCEL,streamId:ue,reason:Y(Ae)}),ve.promise}},oe)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}fe=new WeakSet,Ca=function(Q){const q=Q.streamId,oe=this.sourceName,se=Q.sourceName,ue=this.comObj,pe=this,ee=this.actionHandler[Q.action],ae={enqueue(Ae,ve=1,te){if(this.isCancelled)return;const _e=this.desiredSize;this.desiredSize-=ve,_e>0&&this.desiredSize<=0&&(this.sinkCapability=new R.PromiseCapability,this.ready=this.sinkCapability.promise),ue.postMessage({sourceName:oe,targetName:se,stream:B.ENQUEUE,streamId:q,chunk:Ae},te)},close(){this.isCancelled||(this.isCancelled=!0,ue.postMessage({sourceName:oe,targetName:se,stream:B.CLOSE,streamId:q}),delete pe.streamSinks[q])},error(Ae){(0,R.assert)(Ae instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ue.postMessage({sourceName:oe,targetName:se,stream:B.ERROR,streamId:q,reason:Y(Ae)}))},sinkCapability:new R.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:Q.desiredSize,ready:null};ae.sinkCapability.resolve(),ae.ready=ae.sinkCapability.promise,this.streamSinks[q]=ae,new Promise(function(Ae){Ae(ee(Q.data,ae))}).then(function(){ue.postMessage({sourceName:oe,targetName:se,stream:B.START_COMPLETE,streamId:q,success:!0})},function(Ae){ue.postMessage({sourceName:oe,targetName:se,stream:B.START_COMPLETE,streamId:q,reason:Y(Ae)})})},K=new WeakSet,Pa=function(Q){const q=Q.streamId,oe=this.sourceName,se=Q.sourceName,ue=this.comObj,pe=this.streamControllers[q],ee=this.streamSinks[q];switch(Q.stream){case B.START_COMPLETE:Q.success?pe.startCall.resolve():pe.startCall.reject(Y(Q.reason));break;case B.PULL_COMPLETE:Q.success?pe.pullCall.resolve():pe.pullCall.reject(Y(Q.reason));break;case B.PULL:if(!ee){ue.postMessage({sourceName:oe,targetName:se,stream:B.PULL_COMPLETE,streamId:q,success:!0});break}ee.desiredSize<=0&&Q.desiredSize>0&&ee.sinkCapability.resolve(),ee.desiredSize=Q.desiredSize,new Promise(function(ae){var Ae;ae((Ae=ee.onPull)==null?void 0:Ae.call(ee))}).then(function(){ue.postMessage({sourceName:oe,targetName:se,stream:B.PULL_COMPLETE,streamId:q,success:!0})},function(ae){ue.postMessage({sourceName:oe,targetName:se,stream:B.PULL_COMPLETE,streamId:q,reason:Y(ae)})});break;case B.ENQUEUE:if((0,R.assert)(pe,"enqueue should have stream controller"),pe.isClosed)break;pe.controller.enqueue(Q.chunk);break;case B.CLOSE:if((0,R.assert)(pe,"close should have stream controller"),pe.isClosed)break;pe.isClosed=!0,pe.controller.close(),ze(this,le,Yr).call(this,pe,q);break;case B.ERROR:(0,R.assert)(pe,"error should have stream controller"),pe.controller.error(Y(Q.reason)),ze(this,le,Yr).call(this,pe,q);break;case B.CANCEL_COMPLETE:Q.success?pe.cancelCall.resolve():pe.cancelCall.reject(Y(Q.reason)),ze(this,le,Yr).call(this,pe,q);break;case B.CANCEL:if(!ee)break;new Promise(function(ae){var Ae;ae((Ae=ee.onCancel)==null?void 0:Ae.call(ee,Y(Q.reason)))}).then(function(){ue.postMessage({sourceName:oe,targetName:se,stream:B.CANCEL_COMPLETE,streamId:q,success:!0})},function(ae){ue.postMessage({sourceName:oe,targetName:se,stream:B.CANCEL_COMPLETE,streamId:q,reason:Y(ae)})}),ee.sinkCapability.reject(Y(Q.reason)),ee.isCancelled=!0,delete this.streamSinks[q];break;default:throw new Error("Unexpected stream case")}},le=new WeakSet,Yr=async function(Q,q){var oe,se,ue;await Promise.allSettled([(oe=Q.startCall)==null?void 0:oe.promise,(se=Q.pullCall)==null?void 0:se.promise,(ue=Q.cancelCall)==null?void 0:ue.promise]),delete this.streamControllers[q]},$.MessageHandler=ge},(A,$,H)=>{var B,Y;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var R=H(1);class O{constructor({parsedData:fe,rawData:de}){$e(this,B,void 0);$e(this,Y,void 0);rt(this,B,fe),rt(this,Y,de)}getRaw(){return V(this,Y)}get(fe){return V(this,B).get(fe)??null}getAll(){return(0,R.objectFromMap)(V(this,B))}has(fe){return V(this,B).has(fe)}}B=new WeakMap,Y=new WeakMap,$.Metadata=O},(A,$,H)=>{var fe,de,K,Ee,le,ne,Li;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var R=H(1),O=H(8);const B=Symbol("INTERNAL");class Y{constructor(q,oe){$e(this,fe,!0);this.name=q,this.intent=oe}get visible(){return V(this,fe)}_setVisible(q,oe){q!==B&&(0,R.unreachable)("Internal method `_setVisible` called."),rt(this,fe,oe)}}fe=new WeakMap;class ge{constructor(q){$e(this,ne);$e(this,de,null);$e(this,K,new Map);$e(this,Ee,null);$e(this,le,null);if(this.name=null,this.creator=null,q!==null){this.name=q.name,this.creator=q.creator,rt(this,le,q.order);for(const oe of q.groups)V(this,K).set(oe.id,new Y(oe.name,oe.intent));if(q.baseState==="OFF")for(const oe of V(this,K).values())oe._setVisible(B,!1);for(const oe of q.on)V(this,K).get(oe)._setVisible(B,!0);for(const oe of q.off)V(this,K).get(oe)._setVisible(B,!1);rt(this,Ee,this.getHash())}}isVisible(q){if(V(this,K).size===0)return!0;if(!q)return(0,R.warn)("Optional content group not defined."),!0;if(q.type==="OCG")return V(this,K).has(q.id)?V(this,K).get(q.id).visible:((0,R.warn)(`Optional content group not found: ${q.id}`),!0);if(q.type==="OCMD"){if(q.expression)return ze(this,ne,Li).call(this,q.expression);if(!q.policy||q.policy==="AnyOn"){for(const oe of q.ids){if(!V(this,K).has(oe))return(0,R.warn)(`Optional content group not found: ${oe}`),!0;if(V(this,K).get(oe).visible)return!0}return!1}else if(q.policy==="AllOn"){for(const oe of q.ids){if(!V(this,K).has(oe))return(0,R.warn)(`Optional content group not found: ${oe}`),!0;if(!V(this,K).get(oe).visible)return!1}return!0}else if(q.policy==="AnyOff"){for(const oe of q.ids){if(!V(this,K).has(oe))return(0,R.warn)(`Optional content group not found: ${oe}`),!0;if(!V(this,K).get(oe).visible)return!0}return!1}else if(q.policy==="AllOff"){for(const oe of q.ids){if(!V(this,K).has(oe))return(0,R.warn)(`Optional content group not found: ${oe}`),!0;if(V(this,K).get(oe).visible)return!1}return!0}return(0,R.warn)(`Unknown optional content policy ${q.policy}.`),!0}return(0,R.warn)(`Unknown group type ${q.type}.`),!0}setVisibility(q,oe=!0){if(!V(this,K).has(q)){(0,R.warn)(`Optional content group not found: ${q}`);return}V(this,K).get(q)._setVisible(B,!!oe),rt(this,de,null)}get hasInitialVisibility(){return V(this,Ee)===null||this.getHash()===V(this,Ee)}getOrder(){return V(this,K).size?V(this,le)?V(this,le).slice():[...V(this,K).keys()]:null}getGroups(){return V(this,K).size>0?(0,R.objectFromMap)(V(this,K)):null}getGroup(q){return V(this,K).get(q)||null}getHash(){if(V(this,de)!==null)return V(this,de);const q=new O.MurmurHash3_64;for(const[oe,se]of V(this,K))q.update(`${oe}:${se.visible}`);return rt(this,de,q.hexdigest())}}de=new WeakMap,K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakSet,Li=function(q){const oe=q.length;if(oe<2)return!0;const se=q[0];for(let ue=1;ue<oe;ue++){const pe=q[ue];let ee;if(Array.isArray(pe))ee=ze(this,ne,Li).call(this,pe);else if(V(this,K).has(pe))ee=V(this,K).get(pe).visible;else return(0,R.warn)(`Optional content group not found: ${pe}`),!0;switch(se){case"And":if(!ee)return!1;break;case"Or":if(ee)return!0;break;case"Not":return!ee;default:return!0}}return se==="And"},$.OptionalContentConfig=ge},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var R=H(1),O=H(6);class B{constructor({length:de,initialData:K,progressiveDone:Ee=!1,contentDispositionFilename:le=null,disableRange:ne=!1,disableStream:re=!1},Q){if((0,R.assert)(Q,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Ee,this._contentDispositionFilename=le,(K==null?void 0:K.length)>0){const q=K instanceof Uint8Array&&K.byteLength===K.buffer.byteLength?K.buffer:new Uint8Array(K).buffer;this._queuedChunks.push(q)}this._pdfDataRangeTransport=Q,this._isStreamingSupported=!re,this._isRangeSupported=!ne,this._contentLength=de,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((q,oe)=>{this._onReceiveData({begin:q,chunk:oe})}),this._pdfDataRangeTransport.addProgressListener((q,oe)=>{this._onProgress({loaded:q,total:oe})}),this._pdfDataRangeTransport.addProgressiveReadListener(q=>{this._onReceiveData({chunk:q})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:de,chunk:K}){const Ee=K instanceof Uint8Array&&K.byteLength===K.buffer.byteLength?K.buffer:new Uint8Array(K).buffer;if(de===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Ee):this._queuedChunks.push(Ee);else{const le=this._rangeReaders.some(function(ne){return ne._begin!==de?!1:(ne._enqueue(Ee),!0)});(0,R.assert)(le,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var de;return((de=this._fullRequestReader)==null?void 0:de._loaded)??0}_onProgress(de){var K,Ee,le,ne;de.total===void 0?(Ee=(K=this._rangeReaders[0])==null?void 0:K.onProgress)==null||Ee.call(K,{loaded:de.loaded}):(ne=(le=this._fullRequestReader)==null?void 0:le.onProgress)==null||ne.call(le,{loaded:de.loaded,total:de.total})}_onProgressiveDone(){var de;(de=this._fullRequestReader)==null||de.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(de){const K=this._rangeReaders.indexOf(de);K>=0&&this._rangeReaders.splice(K,1)}getFullReader(){(0,R.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const de=this._queuedChunks;return this._queuedChunks=null,new Y(this,de,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(de,K){if(K<=this._progressiveDataLength)return null;const Ee=new ge(this,de,K);return this._pdfDataRangeTransport.requestDataRange(de,K),this._rangeReaders.push(Ee),Ee}cancelAllRequests(de){var K;(K=this._fullRequestReader)==null||K.cancel(de);for(const Ee of this._rangeReaders.slice(0))Ee.cancel(de);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=B;class Y{constructor(de,K,Ee=!1,le=null){this._stream=de,this._done=Ee||!1,this._filename=(0,O.isPdfFile)(le)?le:null,this._queuedChunks=K||[],this._loaded=0;for(const ne of this._queuedChunks)this._loaded+=ne.byteLength;this._requests=[],this._headersReady=Promise.resolve(),de._fullRequestReader=this,this.onProgress=null}_enqueue(de){this._done||(this._requests.length>0?this._requests.shift().resolve({value:de,done:!1}):this._queuedChunks.push(de),this._loaded+=de.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const de=new R.PromiseCapability;return this._requests.push(de),de.promise}cancel(de){this._done=!0;for(const K of this._requests)K.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ge{constructor(de,K,Ee){this._stream=de,this._begin=K,this._end=Ee,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(de){if(!this._done){if(this._requests.length===0)this._queuedChunk=de;else{this._requests.shift().resolve({value:de,done:!1});for(const Ee of this._requests)Ee.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const K=this._queuedChunk;return this._queuedChunk=null,{value:K,done:!1}}if(this._done)return{value:void 0,done:!0};const de=new R.PromiseCapability;return this._requests.push(de),de.promise}cancel(de){this._done=!0;for(const K of this._requests)K.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var R=H(1),O=H(20);function B(Ee,le,ne){return{method:"GET",headers:Ee,signal:ne.signal,mode:"cors",credentials:le?"include":"same-origin",redirect:"follow"}}function Y(Ee){const le=new Headers;for(const ne in Ee){const re=Ee[ne];re!==void 0&&le.append(ne,re)}return le}function ge(Ee){return Ee instanceof Uint8Array?Ee.buffer:Ee instanceof ArrayBuffer?Ee:((0,R.warn)(`getArrayBuffer - unexpected data format: ${Ee}`),new Uint8Array(Ee).buffer)}class fe{constructor(le){this.source=le,this.isHttp=/^https?:/i.test(le.url),this.httpHeaders=this.isHttp&&le.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var le;return((le=this._fullRequestReader)==null?void 0:le._loaded)??0}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new de(this),this._fullRequestReader}getRangeReader(le,ne){if(ne<=this._progressiveDataLength)return null;const re=new K(this,le,ne);return this._rangeRequestReaders.push(re),re}cancelAllRequests(le){var ne;(ne=this._fullRequestReader)==null||ne.cancel(le);for(const re of this._rangeRequestReaders.slice(0))re.cancel(le)}}$.PDFFetchStream=fe;class de{constructor(le){this._stream=le,this._reader=null,this._loaded=0,this._filename=null;const ne=le.source;this._withCredentials=ne.withCredentials||!1,this._contentLength=ne.length,this._headersCapability=new R.PromiseCapability,this._disableRange=ne.disableRange||!1,this._rangeChunkSize=ne.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ne.disableStream,this._isRangeSupported=!ne.disableRange,this._headers=Y(this._stream.httpHeaders);const re=ne.url;fetch(re,B(this._headers,this._withCredentials,this._abortController)).then(Q=>{if(!(0,O.validateResponseStatus)(Q.status))throw(0,O.createResponseStatusError)(Q.status,re);this._reader=Q.body.getReader(),this._headersCapability.resolve();const q=ue=>Q.headers.get(ue),{allowRangeRequests:oe,suggestedLength:se}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:q,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=oe,this._contentLength=se||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(q),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new R.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._headersCapability.promise;const{value:le,done:ne}=await this._reader.read();return ne?{value:le,done:ne}:(this._loaded+=le.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ge(le),done:!1})}cancel(le){var ne;(ne=this._reader)==null||ne.cancel(le),this._abortController.abort()}}class K{constructor(le,ne,re){this._stream=le,this._reader=null,this._loaded=0;const Q=le.source;this._withCredentials=Q.withCredentials||!1,this._readCapability=new R.PromiseCapability,this._isStreamingSupported=!Q.disableStream,this._abortController=new AbortController,this._headers=Y(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ne}-${re-1}`);const q=Q.url;fetch(q,B(this._headers,this._withCredentials,this._abortController)).then(oe=>{if(!(0,O.validateResponseStatus)(oe.status))throw(0,O.createResponseStatusError)(oe.status,q);this._readCapability.resolve(),this._reader=oe.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._readCapability.promise;const{value:le,done:ne}=await this._reader.read();return ne?{value:le,done:ne}:(this._loaded+=le.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded}),{value:ge(le),done:!1})}cancel(le){var ne;(ne=this._reader)==null||ne.cancel(le),this._abortController.abort()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=fe,$.extractFilenameFromHeader=ge,$.validateRangeRequestCapabilities=Y,$.validateResponseStatus=de;var R=H(1),O=H(21),B=H(6);function Y({getResponseHeader:K,isHttp:Ee,rangeChunkSize:le,disableRange:ne}){const re={allowRangeRequests:!1,suggestedLength:void 0},Q=parseInt(K("Content-Length"),10);return!Number.isInteger(Q)||(re.suggestedLength=Q,Q<=2*le)||ne||!Ee||K("Accept-Ranges")!=="bytes"||(K("Content-Encoding")||"identity")!=="identity"||(re.allowRangeRequests=!0),re}function ge(K){const Ee=K("Content-Disposition");if(Ee){let le=(0,O.getFilenameFromContentDispositionHeader)(Ee);if(le.includes("%"))try{le=decodeURIComponent(le)}catch{}if((0,B.isPdfFile)(le))return le}return null}function fe(K,Ee){return K===404||K===0&&Ee.startsWith("file:")?new R.MissingPDFException('Missing PDF "'+Ee+'".'):new R.UnexpectedResponseException(`Unexpected server response (${K}) while retrieving PDF "${Ee}".`,K)}function de(K){return K===200||K===206}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=O;var R=H(1);function O(B){let Y=!0,ge=fe("filename\\*","i").exec(B);if(ge){ge=ge[1];let Q=le(ge);return Q=unescape(Q),Q=ne(Q),Q=re(Q),K(Q)}if(ge=Ee(B),ge){const Q=re(ge);return K(Q)}if(ge=fe("filename","i").exec(B),ge){ge=ge[1];let Q=le(ge);return Q=re(Q),K(Q)}function fe(Q,q){return new RegExp("(?:^|;)\\s*"+Q+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',q)}function de(Q,q){if(Q){if(!/^[\x00-\xFF]+$/.test(q))return q;try{const oe=new TextDecoder(Q,{fatal:!0}),se=(0,R.stringToBytes)(q);q=oe.decode(se),Y=!1}catch{}}return q}function K(Q){return Y&&/[\x80-\xff]/.test(Q)&&(Q=de("utf-8",Q),Y&&(Q=de("iso-8859-1",Q))),Q}function Ee(Q){const q=[];let oe;const se=fe("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(oe=se.exec(Q))!==null;){let[,pe,ee,ae]=oe;if(pe=parseInt(pe,10),pe in q){if(pe===0)break;continue}q[pe]=[ee,ae]}const ue=[];for(let pe=0;pe<q.length&&pe in q;++pe){let[ee,ae]=q[pe];ae=le(ae),ee&&(ae=unescape(ae),pe===0&&(ae=ne(ae))),ue.push(ae)}return ue.join("")}function le(Q){if(Q.startsWith('"')){const q=Q.slice(1).split('\\"');for(let oe=0;oe<q.length;++oe){const se=q[oe].indexOf('"');se!==-1&&(q[oe]=q[oe].slice(0,se),q.length=oe+1),q[oe]=q[oe].replaceAll(/\\(.)/g,"$1")}Q=q.join('"')}return Q}function ne(Q){const q=Q.indexOf("'");if(q===-1)return Q;const oe=Q.slice(0,q),ue=Q.slice(q+1).replace(/^[^']*'/,"");return de(oe,ue)}function re(Q){return!Q.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Q)?Q:Q.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(q,oe,se,ue){if(se==="q"||se==="Q")return ue=ue.replaceAll("_"," "),ue=ue.replaceAll(/=([0-9a-fA-F]{2})/g,function(pe,ee){return String.fromCharCode(parseInt(ee,16))}),de(oe,ue);try{ue=atob(ue)}catch{}return de(oe,ue)})}return""}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var R=H(1),O=H(20);const B=200,Y=206;function ge(le){const ne=le.response;return typeof ne!="string"?ne:(0,R.stringToBytes)(ne).buffer}class fe{constructor(ne,re={}){this.url=ne,this.isHttp=/^https?:/i.test(ne),this.httpHeaders=this.isHttp&&re.httpHeaders||Object.create(null),this.withCredentials=re.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ne,re,Q){const q={begin:ne,end:re};for(const oe in Q)q[oe]=Q[oe];return this.request(q)}requestFull(ne){return this.request(ne)}request(ne){const re=new XMLHttpRequest,Q=this.currXhrId++,q=this.pendingRequests[Q]={xhr:re};re.open("GET",this.url),re.withCredentials=this.withCredentials;for(const oe in this.httpHeaders){const se=this.httpHeaders[oe];se!==void 0&&re.setRequestHeader(oe,se)}return this.isHttp&&"begin"in ne&&"end"in ne?(re.setRequestHeader("Range",`bytes=${ne.begin}-${ne.end-1}`),q.expectedStatus=Y):q.expectedStatus=B,re.responseType="arraybuffer",ne.onError&&(re.onerror=function(oe){ne.onError(re.status)}),re.onreadystatechange=this.onStateChange.bind(this,Q),re.onprogress=this.onProgress.bind(this,Q),q.onHeadersReceived=ne.onHeadersReceived,q.onDone=ne.onDone,q.onError=ne.onError,q.onProgress=ne.onProgress,re.send(null),Q}onProgress(ne,re){var q;const Q=this.pendingRequests[ne];Q&&((q=Q.onProgress)==null||q.call(Q,re))}onStateChange(ne,re){var pe,ee,ae;const Q=this.pendingRequests[ne];if(!Q)return;const q=Q.xhr;if(q.readyState>=2&&Q.onHeadersReceived&&(Q.onHeadersReceived(),delete Q.onHeadersReceived),q.readyState!==4||!(ne in this.pendingRequests))return;if(delete this.pendingRequests[ne],q.status===0&&this.isHttp){(pe=Q.onError)==null||pe.call(Q,q.status);return}const oe=q.status||B;if(!(oe===B&&Q.expectedStatus===Y)&&oe!==Q.expectedStatus){(ee=Q.onError)==null||ee.call(Q,q.status);return}const ue=ge(q);if(oe===Y){const Ae=q.getResponseHeader("Content-Range"),ve=/bytes (\d+)-(\d+)\/(\d+)/.exec(Ae);Q.onDone({begin:parseInt(ve[1],10),chunk:ue})}else ue?Q.onDone({begin:0,chunk:ue}):(ae=Q.onError)==null||ae.call(Q,q.status)}getRequestXhr(ne){return this.pendingRequests[ne].xhr}isPendingRequest(ne){return ne in this.pendingRequests}abortRequest(ne){const re=this.pendingRequests[ne].xhr;delete this.pendingRequests[ne],re.abort()}}class de{constructor(ne){this._source=ne,this._manager=new fe(ne.url,{httpHeaders:ne.httpHeaders,withCredentials:ne.withCredentials}),this._rangeChunkSize=ne.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ne){const re=this._rangeRequestReaders.indexOf(ne);re>=0&&this._rangeRequestReaders.splice(re,1)}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new K(this._manager,this._source),this._fullRequestReader}getRangeReader(ne,re){const Q=new Ee(this._manager,ne,re);return Q.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Q),Q}cancelAllRequests(ne){var re;(re=this._fullRequestReader)==null||re.cancel(ne);for(const Q of this._rangeRequestReaders.slice(0))Q.cancel(ne)}}$.PDFNetworkStream=de;class K{constructor(ne,re){this._manager=ne;const Q={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=re.url,this._fullRequestId=ne.requestFull(Q),this._headersReceivedCapability=new R.PromiseCapability,this._disableRange=re.disableRange||!1,this._contentLength=re.length,this._rangeChunkSize=re.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ne=this._fullRequestId,re=this._manager.getRequestXhr(ne),Q=se=>re.getResponseHeader(se),{allowRangeRequests:q,suggestedLength:oe}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:Q,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});q&&(this._isRangeSupported=!0),this._contentLength=oe||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(Q),this._isRangeSupported&&this._manager.abortRequest(ne),this._headersReceivedCapability.resolve()}_onDone(ne){if(ne&&(this._requests.length>0?this._requests.shift().resolve({value:ne.chunk,done:!1}):this._cachedChunks.push(ne.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ne){this._storedError=(0,O.createResponseStatusError)(ne,this._url),this._headersReceivedCapability.reject(this._storedError);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ne){var re;(re=this.onProgress)==null||re.call(this,{loaded:ne.loaded,total:ne.lengthComputable?ne.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ne=new R.PromiseCapability;return this._requests.push(ne),ne.promise}cancel(ne){this._done=!0,this._headersReceivedCapability.reject(ne);for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ee{constructor(ne,re,Q){this._manager=ne;const q={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ne.url,this._requestId=ne.requestRange(re,Q,q),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ne;(ne=this.onClosed)==null||ne.call(this,this)}_onDone(ne){const re=ne.chunk;this._requests.length>0?this._requests.shift().resolve({value:re,done:!1}):this._queuedChunk=re,this._done=!0;for(const Q of this._requests)Q.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ne){this._storedError=(0,O.createResponseStatusError)(ne,this._url);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ne){var re;this.isStreamingSupported||(re=this.onProgress)==null||re.call(this,{loaded:ne.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const re=this._queuedChunk;return this._queuedChunk=null,{value:re,done:!1}}if(this._done)return{value:void 0,done:!0};const ne=new R.PromiseCapability;return this._requests.push(ne),ne.promise}cancel(ne){this._done=!0;for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var R=H(1),O=H(20);const B=/^file:\/\/\/[a-zA-Z]:\//;function Y(Q){const q=require$$5,oe=q.parse(Q);return oe.protocol==="file:"||oe.host?oe:/^[a-z]:[/\\]/i.test(Q)?q.parse(`file:///${Q}`):(oe.host||(oe.protocol="file:"),oe)}class ge{constructor(q){this.source=q,this.url=Y(q.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var q;return((q=this._fullRequestReader)==null?void 0:q._loaded)??0}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ne(this):new Ee(this),this._fullRequestReader}getRangeReader(q,oe){if(oe<=this._progressiveDataLength)return null;const se=this.isFsUrl?new re(this,q,oe):new le(this,q,oe);return this._rangeRequestReaders.push(se),se}cancelAllRequests(q){var oe;(oe=this._fullRequestReader)==null||oe.cancel(q);for(const se of this._rangeRequestReaders.slice(0))se.cancel(q)}}$.PDFNodeStream=ge;class fe{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null;const oe=q.source;this._contentLength=oe.length,this._loaded=0,this._filename=null,this._disableRange=oe.disableRange||!1,this._rangeChunkSize=oe.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!oe.disableStream,this._isRangeSupported=!oe.disableRange,this._readableStream=null,this._readCapability=new R.PromiseCapability,this._headersCapability=new R.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var se;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new R.PromiseCapability,this.read()):(this._loaded+=q.length,(se=this.onProgress)==null||se.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",oe=>{this._error(oe)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new R.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class de{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new R.PromiseCapability;const oe=q.source;this._isStreamingSupported=!oe.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var se;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new R.PromiseCapability,this.read()):(this._loaded+=q.length,(se=this.onProgress)==null||se.call(this,{loaded:this._loaded}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",oe=>{this._error(oe)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function K(Q,q){return{protocol:Q.protocol,auth:Q.auth,host:Q.hostname,port:Q.port,path:Q.path,method:"GET",headers:q}}class Ee extends fe{constructor(q){super(q);const oe=se=>{if(se.statusCode===404){const ae=new R.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ae,this._headersCapability.reject(ae);return}this._headersCapability.resolve(),this._setReadableStream(se);const ue=ae=>this._readableStream.headers[ae.toLowerCase()],{allowRangeRequests:pe,suggestedLength:ee}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:q.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=pe,this._contentLength=ee||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(ue)};if(this._request=null,this._url.protocol==="http:"){const se=require$$5;this._request=se.request(K(this._url,q.httpHeaders),oe)}else{const se=require$$5;this._request=se.request(K(this._url,q.httpHeaders),oe)}this._request.on("error",se=>{this._storedError=se,this._headersCapability.reject(se)}),this._request.end()}}class le extends de{constructor(q,oe,se){super(q),this._httpHeaders={};for(const pe in q.httpHeaders){const ee=q.httpHeaders[pe];ee!==void 0&&(this._httpHeaders[pe]=ee)}this._httpHeaders.Range=`bytes=${oe}-${se-1}`;const ue=pe=>{if(pe.statusCode===404){const ee=new R.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ee;return}this._setReadableStream(pe)};if(this._request=null,this._url.protocol==="http:"){const pe=require$$5;this._request=pe.request(K(this._url,this._httpHeaders),ue)}else{const pe=require$$5;this._request=pe.request(K(this._url,this._httpHeaders),ue)}this._request.on("error",pe=>{this._storedError=pe}),this._request.end()}}class ne extends fe{constructor(q){super(q);let oe=decodeURIComponent(this._url.path);B.test(this._url.href)&&(oe=oe.replace(/^\//,""));const se=require$$5;se.lstat(oe,(ue,pe)=>{if(ue){ue.code==="ENOENT"&&(ue=new R.MissingPDFException(`Missing PDF "${oe}".`)),this._storedError=ue,this._headersCapability.reject(ue);return}this._contentLength=pe.size,this._setReadableStream(se.createReadStream(oe)),this._headersCapability.resolve()})}}class re extends de{constructor(q,oe,se){super(q);let ue=decodeURIComponent(this._url.path);B.test(this._url.href)&&(ue=ue.replace(/^\//,""));const pe=require$$5;this._setReadableStream(pe.createReadStream(ue,{start:oe,end:se-1}))}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var R=H(6),O=H(1);const B={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Y="http://www.w3.org/XML/1998/namespace",ge="http://www.w3.org/1999/xlink",fe=["butt","round","square"],de=["miter","round","bevel"],K=function(pe,ee="",ae=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ae)return URL.createObjectURL(new Blob([pe],{type:ee}));const Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ve=`data:${ee};base64,`;for(let te=0,_e=pe.length;te<_e;te+=3){const he=pe[te]&255,Pe=pe[te+1]&255,De=pe[te+2]&255,be=he>>2,Te=(he&3)<<4|Pe>>4,He=te+1<_e?(Pe&15)<<2|De>>6:64,Qe=te+2<_e?De&63:64;ve+=Ae[be]+Ae[Te]+Ae[He]+Ae[Qe]}return ve},Ee=function(){const pe=new Uint8Array([137,80,78,71,13,10,26,10]),ee=12,ae=new Int32Array(256);for(let De=0;De<256;De++){let be=De;for(let Te=0;Te<8;Te++)be=be&1?3988292384^be>>1&2147483647:be>>1&2147483647;ae[De]=be}function Ae(De,be,Te){let He=-1;for(let Qe=be;Qe<Te;Qe++){const Fe=(He^De[Qe])&255,nt=ae[Fe];He=He>>>8^nt}return He^-1}function ve(De,be,Te,He){let Qe=He;const Fe=be.length;Te[Qe]=Fe>>24&255,Te[Qe+1]=Fe>>16&255,Te[Qe+2]=Fe>>8&255,Te[Qe+3]=Fe&255,Qe+=4,Te[Qe]=De.charCodeAt(0)&255,Te[Qe+1]=De.charCodeAt(1)&255,Te[Qe+2]=De.charCodeAt(2)&255,Te[Qe+3]=De.charCodeAt(3)&255,Qe+=4,Te.set(be,Qe),Qe+=be.length;const nt=Ae(Te,He+4,Qe);Te[Qe]=nt>>24&255,Te[Qe+1]=nt>>16&255,Te[Qe+2]=nt>>8&255,Te[Qe+3]=nt&255}function te(De,be,Te){let He=1,Qe=0;for(let Fe=be;Fe<Te;++Fe)He=(He+(De[Fe]&255))%65521,Qe=(Qe+He)%65521;return Qe<<16|He}function _e(De){if(!O.isNodeJS)return he(De);try{const be=parseInt(process.versions.node)>=8?De:Buffer.from(De),Te=require$$5.deflateSync(be,{level:9});return Te instanceof Uint8Array?Te:new Uint8Array(Te)}catch(be){(0,O.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+be)}return he(De)}function he(De){let be=De.length;const Te=65535,He=Math.ceil(be/Te),Qe=new Uint8Array(2+be+He*5+4);let Fe=0;Qe[Fe++]=120,Qe[Fe++]=156;let nt=0;for(;be>Te;)Qe[Fe++]=0,Qe[Fe++]=255,Qe[Fe++]=255,Qe[Fe++]=0,Qe[Fe++]=0,Qe.set(De.subarray(nt,nt+Te),Fe),Fe+=Te,nt+=Te,be-=Te;Qe[Fe++]=1,Qe[Fe++]=be&255,Qe[Fe++]=be>>8&255,Qe[Fe++]=~be&65535&255,Qe[Fe++]=(~be&65535)>>8&255,Qe.set(De.subarray(nt),Fe),Fe+=De.length-nt;const at=te(De,0,De.length);return Qe[Fe++]=at>>24&255,Qe[Fe++]=at>>16&255,Qe[Fe++]=at>>8&255,Qe[Fe++]=at&255,Qe}function Pe(De,be,Te,He){const Qe=De.width,Fe=De.height;let nt,at,ht;const yt=De.data;switch(be){case O.ImageKind.GRAYSCALE_1BPP:at=0,nt=1,ht=Qe+7>>3;break;case O.ImageKind.RGB_24BPP:at=2,nt=8,ht=Qe*3;break;case O.ImageKind.RGBA_32BPP:at=6,nt=8,ht=Qe*4;break;default:throw new Error("invalid format")}const we=new Uint8Array((1+ht)*Fe);let W=0,J=0;for(let Re=0;Re<Fe;++Re)we[W++]=0,we.set(yt.subarray(J,J+ht),W),J+=ht,W+=ht;if(be===O.ImageKind.GRAYSCALE_1BPP&&He){W=0;for(let Re=0;Re<Fe;Re++){W++;for(let Xe=0;Xe<ht;Xe++)we[W++]^=255}}const G=new Uint8Array([Qe>>24&255,Qe>>16&255,Qe>>8&255,Qe&255,Fe>>24&255,Fe>>16&255,Fe>>8&255,Fe&255,nt,at,0,0,0]),ie=_e(we),ce=pe.length+ee*3+G.length+ie.length,ye=new Uint8Array(ce);let Ce=0;return ye.set(pe,Ce),Ce+=pe.length,ve("IHDR",G,ye,Ce),Ce+=ee+G.length,ve("IDATA",ie,ye,Ce),Ce+=ee+ie.length,ve("IEND",new Uint8Array(0),ye,Ce),K(ye,"image/png",Te)}return function(be,Te,He){const Qe=be.kind===void 0?O.ImageKind.GRAYSCALE_1BPP:be.kind;return Pe(be,Qe,Te,He)}}();class le{constructor(){this.fontSizeScale=1,this.fontWeight=B.fontWeight,this.fontSize=0,this.textMatrix=O.IDENTITY_MATRIX,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=O.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=B.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ee,ae){this.x=ee,this.y=ae}}function ne(pe){let ee=[];const ae=[];for(const Ae of pe){if(Ae.fn==="save"){ee.push({fnId:92,fn:"group",items:[]}),ae.push(ee),ee=ee.at(-1).items;continue}Ae.fn==="restore"?ee=ae.pop():ee.push(Ae)}return ee}function re(pe){if(Number.isInteger(pe))return pe.toString();const ee=pe.toFixed(10);let ae=ee.length-1;if(ee[ae]!=="0")return ee;do ae--;while(ee[ae]==="0");return ee.substring(0,ee[ae]==="."?ae:ae+1)}function Q(pe){if(pe[4]===0&&pe[5]===0){if(pe[1]===0&&pe[2]===0)return pe[0]===1&&pe[3]===1?"":`scale(${re(pe[0])} ${re(pe[3])})`;if(pe[0]===pe[3]&&pe[1]===-pe[2]){const ee=Math.acos(pe[0])*180/Math.PI;return`rotate(${re(ee)})`}}else if(pe[0]===1&&pe[1]===0&&pe[2]===0&&pe[3]===1)return`translate(${re(pe[4])} ${re(pe[5])})`;return`matrix(${re(pe[0])} ${re(pe[1])} ${re(pe[2])} ${re(pe[3])} ${re(pe[4])} ${re(pe[5])})`}let q=0,oe=0,se=0;class ue{constructor(ee,ae,Ae=!1){(0,R.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new R.DOMSVGFactory,this.current=new le,this.transformMatrix=O.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ee,this.objs=ae,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Ae,this._operatorIdMapping=[];for(const ve in O.OPS)this._operatorIdMapping[O.OPS[ve]]=ve}getObject(ee,ae=null){return typeof ee=="string"?ee.startsWith("g_")?this.commonObjs.get(ee):this.objs.get(ee):ae}save(){this.transformStack.push(this.transformMatrix);const ee=this.current;this.extraStack.push(ee),this.current=ee.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ee){this.save(),this.executeOpTree(ee),this.restore()}loadDependencies(ee){const ae=ee.fnArray,Ae=ee.argsArray;for(let ve=0,te=ae.length;ve<te;ve++)if(ae[ve]===O.OPS.dependency)for(const _e of Ae[ve]){const he=_e.startsWith("g_")?this.commonObjs:this.objs,Pe=new Promise(De=>{he.get(_e,De)});this.current.dependencies.push(Pe)}return Promise.all(this.current.dependencies)}transform(ee,ae,Ae,ve,te,_e){const he=[ee,ae,Ae,ve,te,_e];this.transformMatrix=O.Util.transform(this.transformMatrix,he),this.tgrp=null}getSVG(ee,ae){this.viewport=ae;const Ae=this._initialize(ae);return this.loadDependencies(ee).then(()=>(this.transformMatrix=O.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ee)),Ae))}convertOpList(ee){const ae=this._operatorIdMapping,Ae=ee.argsArray,ve=ee.fnArray,te=[];for(let _e=0,he=ve.length;_e<he;_e++){const Pe=ve[_e];te.push({fnId:Pe,fn:ae[Pe],args:Ae[_e]})}return ne(te)}executeOpTree(ee){for(const ae of ee){const Ae=ae.fn,ve=ae.fnId,te=ae.args;switch(ve|0){case O.OPS.beginText:this.beginText();break;case O.OPS.dependency:break;case O.OPS.setLeading:this.setLeading(te);break;case O.OPS.setLeadingMoveText:this.setLeadingMoveText(te[0],te[1]);break;case O.OPS.setFont:this.setFont(te);break;case O.OPS.showText:this.showText(te[0]);break;case O.OPS.showSpacedText:this.showText(te[0]);break;case O.OPS.endText:this.endText();break;case O.OPS.moveText:this.moveText(te[0],te[1]);break;case O.OPS.setCharSpacing:this.setCharSpacing(te[0]);break;case O.OPS.setWordSpacing:this.setWordSpacing(te[0]);break;case O.OPS.setHScale:this.setHScale(te[0]);break;case O.OPS.setTextMatrix:this.setTextMatrix(te[0],te[1],te[2],te[3],te[4],te[5]);break;case O.OPS.setTextRise:this.setTextRise(te[0]);break;case O.OPS.setTextRenderingMode:this.setTextRenderingMode(te[0]);break;case O.OPS.setLineWidth:this.setLineWidth(te[0]);break;case O.OPS.setLineJoin:this.setLineJoin(te[0]);break;case O.OPS.setLineCap:this.setLineCap(te[0]);break;case O.OPS.setMiterLimit:this.setMiterLimit(te[0]);break;case O.OPS.setFillRGBColor:this.setFillRGBColor(te[0],te[1],te[2]);break;case O.OPS.setStrokeRGBColor:this.setStrokeRGBColor(te[0],te[1],te[2]);break;case O.OPS.setStrokeColorN:this.setStrokeColorN(te);break;case O.OPS.setFillColorN:this.setFillColorN(te);break;case O.OPS.shadingFill:this.shadingFill(te[0]);break;case O.OPS.setDash:this.setDash(te[0],te[1]);break;case O.OPS.setRenderingIntent:this.setRenderingIntent(te[0]);break;case O.OPS.setFlatness:this.setFlatness(te[0]);break;case O.OPS.setGState:this.setGState(te[0]);break;case O.OPS.fill:this.fill();break;case O.OPS.eoFill:this.eoFill();break;case O.OPS.stroke:this.stroke();break;case O.OPS.fillStroke:this.fillStroke();break;case O.OPS.eoFillStroke:this.eoFillStroke();break;case O.OPS.clip:this.clip("nonzero");break;case O.OPS.eoClip:this.clip("evenodd");break;case O.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case O.OPS.paintImageXObject:this.paintImageXObject(te[0]);break;case O.OPS.paintInlineImageXObject:this.paintInlineImageXObject(te[0]);break;case O.OPS.paintImageMaskXObject:this.paintImageMaskXObject(te[0]);break;case O.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(te[0],te[1]);break;case O.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case O.OPS.closePath:this.closePath();break;case O.OPS.closeStroke:this.closeStroke();break;case O.OPS.closeFillStroke:this.closeFillStroke();break;case O.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case O.OPS.nextLine:this.nextLine();break;case O.OPS.transform:this.transform(te[0],te[1],te[2],te[3],te[4],te[5]);break;case O.OPS.constructPath:this.constructPath(te[0],te[1]);break;case O.OPS.endPath:this.endPath();break;case 92:this.group(ae.items);break;default:(0,O.warn)(`Unimplemented operator ${Ae}`);break}}}setWordSpacing(ee){this.current.wordSpacing=ee}setCharSpacing(ee){this.current.charSpacing=ee}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ee,ae,Ae,ve,te,_e){const he=this.current;he.textMatrix=he.lineMatrix=[ee,ae,Ae,ve,te,_e],he.textMatrixScale=Math.hypot(ee,ae),he.x=he.lineX=0,he.y=he.lineY=0,he.xcoords=[],he.ycoords=[],he.tspan=this.svgFactory.createElement("svg:tspan"),he.tspan.setAttributeNS(null,"font-family",he.fontFamily),he.tspan.setAttributeNS(null,"font-size",`${re(he.fontSize)}px`),he.tspan.setAttributeNS(null,"y",re(-he.y)),he.txtElement=this.svgFactory.createElement("svg:text"),he.txtElement.append(he.tspan)}beginText(){const ee=this.current;ee.x=ee.lineX=0,ee.y=ee.lineY=0,ee.textMatrix=O.IDENTITY_MATRIX,ee.lineMatrix=O.IDENTITY_MATRIX,ee.textMatrixScale=1,ee.tspan=this.svgFactory.createElement("svg:tspan"),ee.txtElement=this.svgFactory.createElement("svg:text"),ee.txtgrp=this.svgFactory.createElement("svg:g"),ee.xcoords=[],ee.ycoords=[]}moveText(ee,ae){const Ae=this.current;Ae.x=Ae.lineX+=ee,Ae.y=Ae.lineY+=ae,Ae.xcoords=[],Ae.ycoords=[],Ae.tspan=this.svgFactory.createElement("svg:tspan"),Ae.tspan.setAttributeNS(null,"font-family",Ae.fontFamily),Ae.tspan.setAttributeNS(null,"font-size",`${re(Ae.fontSize)}px`),Ae.tspan.setAttributeNS(null,"y",re(-Ae.y))}showText(ee){const ae=this.current,Ae=ae.font,ve=ae.fontSize;if(ve===0)return;const te=ae.fontSizeScale,_e=ae.charSpacing,he=ae.wordSpacing,Pe=ae.fontDirection,De=ae.textHScale*Pe,be=Ae.vertical,Te=be?1:-1,He=Ae.defaultVMetrics,Qe=ve*ae.fontMatrix[0];let Fe=0;for(const ht of ee){if(ht===null){Fe+=Pe*he;continue}else if(typeof ht=="number"){Fe+=Te*ht*ve/1e3;continue}const yt=(ht.isSpace?he:0)+_e,we=ht.fontChar;let W,J,G=ht.width;if(be){let ce;const ye=ht.vmetric||He;ce=ht.vmetric?ye[1]:G*.5,ce=-ce*Qe;const Ce=ye[2]*Qe;G=ye?-ye[0]:G,W=ce/te,J=(Fe+Ce)/te}else W=Fe/te,J=0;(ht.isInFont||Ae.missingFile)&&(ae.xcoords.push(ae.x+W),be&&ae.ycoords.push(-ae.y+J),ae.tspan.textContent+=we);const ie=be?G*Qe-yt*Pe:G*Qe+yt*Pe;Fe+=ie}ae.tspan.setAttributeNS(null,"x",ae.xcoords.map(re).join(" ")),be?ae.tspan.setAttributeNS(null,"y",ae.ycoords.map(re).join(" ")):ae.tspan.setAttributeNS(null,"y",re(-ae.y)),be?ae.y-=Fe:ae.x+=Fe*De,ae.tspan.setAttributeNS(null,"font-family",ae.fontFamily),ae.tspan.setAttributeNS(null,"font-size",`${re(ae.fontSize)}px`),ae.fontStyle!==B.fontStyle&&ae.tspan.setAttributeNS(null,"font-style",ae.fontStyle),ae.fontWeight!==B.fontWeight&&ae.tspan.setAttributeNS(null,"font-weight",ae.fontWeight);const nt=ae.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;if(nt===O.TextRenderingMode.FILL||nt===O.TextRenderingMode.FILL_STROKE?(ae.fillColor!==B.fillColor&&ae.tspan.setAttributeNS(null,"fill",ae.fillColor),ae.fillAlpha<1&&ae.tspan.setAttributeNS(null,"fill-opacity",ae.fillAlpha)):ae.textRenderingMode===O.TextRenderingMode.ADD_TO_PATH?ae.tspan.setAttributeNS(null,"fill","transparent"):ae.tspan.setAttributeNS(null,"fill","none"),nt===O.TextRenderingMode.STROKE||nt===O.TextRenderingMode.FILL_STROKE){const ht=1/(ae.textMatrixScale||1);this._setStrokeAttributes(ae.tspan,ht)}let at=ae.textMatrix;ae.textRise!==0&&(at=at.slice(),at[5]+=ae.textRise),ae.txtElement.setAttributeNS(null,"transform",`${Q(at)} scale(${re(De)}, -1)`),ae.txtElement.setAttributeNS(Y,"xml:space","preserve"),ae.txtElement.append(ae.tspan),ae.txtgrp.append(ae.txtElement),this._ensureTransformGroup().append(ae.txtElement)}setLeadingMoveText(ee,ae){this.setLeading(-ae),this.moveText(ee,ae)}addFontStyle(ee){if(!ee.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ae=K(ee.data,ee.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ee.loadedName}"; src: url(${ae}); }
`}setFont(ee){const ae=this.current,Ae=this.commonObjs.get(ee[0]);let ve=ee[1];ae.font=Ae,this.embedFonts&&!Ae.missingFile&&!this.embeddedFonts[Ae.loadedName]&&(this.addFontStyle(Ae),this.embeddedFonts[Ae.loadedName]=Ae),ae.fontMatrix=Ae.fontMatrix||O.FONT_IDENTITY_MATRIX;let te="normal";Ae.black?te="900":Ae.bold&&(te="bold");const _e=Ae.italic?"italic":"normal";ve<0?(ve=-ve,ae.fontDirection=-1):ae.fontDirection=1,ae.fontSize=ve,ae.fontFamily=Ae.loadedName,ae.fontWeight=te,ae.fontStyle=_e,ae.tspan=this.svgFactory.createElement("svg:tspan"),ae.tspan.setAttributeNS(null,"y",re(-ae.y)),ae.xcoords=[],ae.ycoords=[]}endText(){var ae;const ee=this.current;ee.textRenderingMode&O.TextRenderingMode.ADD_TO_PATH_FLAG&&((ae=ee.txtElement)!=null&&ae.hasChildNodes())&&(ee.element=ee.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ee){ee>0&&(this.current.lineWidth=ee)}setLineCap(ee){this.current.lineCap=fe[ee]}setLineJoin(ee){this.current.lineJoin=de[ee]}setMiterLimit(ee){this.current.miterLimit=ee}setStrokeAlpha(ee){this.current.strokeAlpha=ee}setStrokeRGBColor(ee,ae,Ae){this.current.strokeColor=O.Util.makeHexColor(ee,ae,Ae)}setFillAlpha(ee){this.current.fillAlpha=ee}setFillRGBColor(ee,ae,Ae){this.current.fillColor=O.Util.makeHexColor(ee,ae,Ae),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ee){this.current.strokeColor=this._makeColorN_Pattern(ee)}setFillColorN(ee){this.current.fillColor=this._makeColorN_Pattern(ee)}shadingFill(ee){const{width:ae,height:Ae}=this.viewport,ve=O.Util.inverseTransform(this.transformMatrix),[te,_e,he,Pe]=O.Util.getAxialAlignedBoundingBox([0,0,ae,Ae],ve),De=this.svgFactory.createElement("svg:rect");De.setAttributeNS(null,"x",te),De.setAttributeNS(null,"y",_e),De.setAttributeNS(null,"width",he-te),De.setAttributeNS(null,"height",Pe-_e),De.setAttributeNS(null,"fill",this._makeShadingPattern(ee)),this.current.fillAlpha<1&&De.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(De)}_makeColorN_Pattern(ee){return ee[0]==="TilingPattern"?this._makeTilingPattern(ee):this._makeShadingPattern(ee)}_makeTilingPattern(ee){const ae=ee[1],Ae=ee[2],ve=ee[3]||O.IDENTITY_MATRIX,[te,_e,he,Pe]=ee[4],De=ee[5],be=ee[6],Te=ee[7],He=`shading${se++}`,[Qe,Fe,nt,at]=O.Util.normalizeRect([...O.Util.applyTransform([te,_e],ve),...O.Util.applyTransform([he,Pe],ve)]),[ht,yt]=O.Util.singularValueDecompose2dScale(ve),we=De*ht,W=be*yt,J=this.svgFactory.createElement("svg:pattern");J.setAttributeNS(null,"id",He),J.setAttributeNS(null,"patternUnits","userSpaceOnUse"),J.setAttributeNS(null,"width",we),J.setAttributeNS(null,"height",W),J.setAttributeNS(null,"x",`${Qe}`),J.setAttributeNS(null,"y",`${Fe}`);const G=this.svg,ie=this.transformMatrix,ce=this.current.fillColor,ye=this.current.strokeColor,Ce=this.svgFactory.create(nt-Qe,at-Fe);if(this.svg=Ce,this.transformMatrix=ve,Te===2){const Re=O.Util.makeHexColor(...ae);this.current.fillColor=Re,this.current.strokeColor=Re}return this.executeOpTree(this.convertOpList(Ae)),this.svg=G,this.transformMatrix=ie,this.current.fillColor=ce,this.current.strokeColor=ye,J.append(Ce.childNodes[0]),this.defs.append(J),`url(#${He})`}_makeShadingPattern(ee){switch(typeof ee=="string"&&(ee=this.objs.get(ee)),ee[0]){case"RadialAxial":const ae=`shading${se++}`,Ae=ee[3];let ve;switch(ee[1]){case"axial":const te=ee[4],_e=ee[5];ve=this.svgFactory.createElement("svg:linearGradient"),ve.setAttributeNS(null,"id",ae),ve.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ve.setAttributeNS(null,"x1",te[0]),ve.setAttributeNS(null,"y1",te[1]),ve.setAttributeNS(null,"x2",_e[0]),ve.setAttributeNS(null,"y2",_e[1]);break;case"radial":const he=ee[4],Pe=ee[5],De=ee[6],be=ee[7];ve=this.svgFactory.createElement("svg:radialGradient"),ve.setAttributeNS(null,"id",ae),ve.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ve.setAttributeNS(null,"cx",Pe[0]),ve.setAttributeNS(null,"cy",Pe[1]),ve.setAttributeNS(null,"r",be),ve.setAttributeNS(null,"fx",he[0]),ve.setAttributeNS(null,"fy",he[1]),ve.setAttributeNS(null,"fr",De);break;default:throw new Error(`Unknown RadialAxial type: ${ee[1]}`)}for(const te of Ae){const _e=this.svgFactory.createElement("svg:stop");_e.setAttributeNS(null,"offset",te[0]),_e.setAttributeNS(null,"stop-color",te[1]),ve.append(_e)}return this.defs.append(ve),`url(#${ae})`;case"Mesh":return(0,O.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ee[0]}`)}}setDash(ee,ae){this.current.dashArray=ee,this.current.dashPhase=ae}constructPath(ee,ae){const Ae=this.current;let ve=Ae.x,te=Ae.y,_e=[],he=0;for(const Pe of ee)switch(Pe|0){case O.OPS.rectangle:ve=ae[he++],te=ae[he++];const De=ae[he++],be=ae[he++],Te=ve+De,He=te+be;_e.push("M",re(ve),re(te),"L",re(Te),re(te),"L",re(Te),re(He),"L",re(ve),re(He),"Z");break;case O.OPS.moveTo:ve=ae[he++],te=ae[he++],_e.push("M",re(ve),re(te));break;case O.OPS.lineTo:ve=ae[he++],te=ae[he++],_e.push("L",re(ve),re(te));break;case O.OPS.curveTo:ve=ae[he+4],te=ae[he+5],_e.push("C",re(ae[he]),re(ae[he+1]),re(ae[he+2]),re(ae[he+3]),re(ve),re(te)),he+=6;break;case O.OPS.curveTo2:_e.push("C",re(ve),re(te),re(ae[he]),re(ae[he+1]),re(ae[he+2]),re(ae[he+3])),ve=ae[he+2],te=ae[he+3],he+=4;break;case O.OPS.curveTo3:ve=ae[he+2],te=ae[he+3],_e.push("C",re(ae[he]),re(ae[he+1]),re(ve),re(te),re(ve),re(te)),he+=4;break;case O.OPS.closePath:_e.push("Z");break}_e=_e.join(" "),Ae.path&&ee.length>0&&ee[0]!==O.OPS.rectangle&&ee[0]!==O.OPS.moveTo?_e=Ae.path.getAttributeNS(null,"d")+_e:(Ae.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Ae.path)),Ae.path.setAttributeNS(null,"d",_e),Ae.path.setAttributeNS(null,"fill","none"),Ae.element=Ae.path,Ae.setCurrentPoint(ve,te)}endPath(){const ee=this.current;if(ee.path=null,!this.pendingClip)return;if(!ee.element){this.pendingClip=null;return}const ae=`clippath${q++}`,Ae=this.svgFactory.createElement("svg:clipPath");Ae.setAttributeNS(null,"id",ae),Ae.setAttributeNS(null,"transform",Q(this.transformMatrix));const ve=ee.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ve.setAttributeNS(null,"clip-rule","evenodd"):ve.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Ae.append(ve),this.defs.append(Ae),ee.activeClipUrl){ee.clipGroup=null;for(const te of this.extraStack)te.clipGroup=null;Ae.setAttributeNS(null,"clip-path",ee.activeClipUrl)}ee.activeClipUrl=`url(#${ae})`,this.tgrp=null}clip(ee){this.pendingClip=ee}closePath(){const ee=this.current;if(ee.path){const ae=`${ee.path.getAttributeNS(null,"d")}Z`;ee.path.setAttributeNS(null,"d",ae)}}setLeading(ee){this.current.leading=-ee}setTextRise(ee){this.current.textRise=ee}setTextRenderingMode(ee){this.current.textRenderingMode=ee}setHScale(ee){this.current.textHScale=ee/100}setRenderingIntent(ee){}setFlatness(ee){}setGState(ee){for(const[ae,Ae]of ee)switch(ae){case"LW":this.setLineWidth(Ae);break;case"LC":this.setLineCap(Ae);break;case"LJ":this.setLineJoin(Ae);break;case"ML":this.setMiterLimit(Ae);break;case"D":this.setDash(Ae[0],Ae[1]);break;case"RI":this.setRenderingIntent(Ae);break;case"FL":this.setFlatness(Ae);break;case"Font":this.setFont(Ae);break;case"CA":this.setStrokeAlpha(Ae);break;case"ca":this.setFillAlpha(Ae);break;default:(0,O.warn)(`Unimplemented graphic state operator ${ae}`);break}}fill(){const ee=this.current;ee.element&&(ee.element.setAttributeNS(null,"fill",ee.fillColor),ee.element.setAttributeNS(null,"fill-opacity",ee.fillAlpha),this.endPath())}stroke(){const ee=this.current;ee.element&&(this._setStrokeAttributes(ee.element),ee.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ee,ae=1){const Ae=this.current;let ve=Ae.dashArray;ae!==1&&ve.length>0&&(ve=ve.map(function(te){return ae*te})),ee.setAttributeNS(null,"stroke",Ae.strokeColor),ee.setAttributeNS(null,"stroke-opacity",Ae.strokeAlpha),ee.setAttributeNS(null,"stroke-miterlimit",re(Ae.miterLimit)),ee.setAttributeNS(null,"stroke-linecap",Ae.lineCap),ee.setAttributeNS(null,"stroke-linejoin",Ae.lineJoin),ee.setAttributeNS(null,"stroke-width",re(ae*Ae.lineWidth)+"px"),ee.setAttributeNS(null,"stroke-dasharray",ve.map(re).join(" ")),ee.setAttributeNS(null,"stroke-dashoffset",re(ae*Ae.dashPhase)+"px")}eoFill(){var ee;(ee=this.current.element)==null||ee.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ee;(ee=this.current.element)==null||ee.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x","0"),ee.setAttributeNS(null,"y","0"),ee.setAttributeNS(null,"width","1px"),ee.setAttributeNS(null,"height","1px"),ee.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ee)}paintImageXObject(ee){const ae=this.getObject(ee);if(!ae){(0,O.warn)(`Dependent image with object ID ${ee} is not ready yet`);return}this.paintInlineImageXObject(ae)}paintInlineImageXObject(ee,ae){const Ae=ee.width,ve=ee.height,te=Ee(ee,this.forceDataSchema,!!ae),_e=this.svgFactory.createElement("svg:rect");_e.setAttributeNS(null,"x","0"),_e.setAttributeNS(null,"y","0"),_e.setAttributeNS(null,"width",re(Ae)),_e.setAttributeNS(null,"height",re(ve)),this.current.element=_e,this.clip("nonzero");const he=this.svgFactory.createElement("svg:image");he.setAttributeNS(ge,"xlink:href",te),he.setAttributeNS(null,"x","0"),he.setAttributeNS(null,"y",re(-ve)),he.setAttributeNS(null,"width",re(Ae)+"px"),he.setAttributeNS(null,"height",re(ve)+"px"),he.setAttributeNS(null,"transform",`scale(${re(1/Ae)} ${re(-1/ve)})`),ae?ae.append(he):this._ensureTransformGroup().append(he)}paintImageMaskXObject(ee){const ae=this.getObject(ee.data,ee);if(ae.bitmap){(0,O.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Ae=this.current,ve=ae.width,te=ae.height,_e=Ae.fillColor;Ae.maskId=`mask${oe++}`;const he=this.svgFactory.createElement("svg:mask");he.setAttributeNS(null,"id",Ae.maskId);const Pe=this.svgFactory.createElement("svg:rect");Pe.setAttributeNS(null,"x","0"),Pe.setAttributeNS(null,"y","0"),Pe.setAttributeNS(null,"width",re(ve)),Pe.setAttributeNS(null,"height",re(te)),Pe.setAttributeNS(null,"fill",_e),Pe.setAttributeNS(null,"mask",`url(#${Ae.maskId})`),this.defs.append(he),this._ensureTransformGroup().append(Pe),this.paintInlineImageXObject(ae,he)}paintFormXObjectBegin(ee,ae){if(Array.isArray(ee)&&ee.length===6&&this.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),ae){const Ae=ae[2]-ae[0],ve=ae[3]-ae[1],te=this.svgFactory.createElement("svg:rect");te.setAttributeNS(null,"x",ae[0]),te.setAttributeNS(null,"y",ae[1]),te.setAttributeNS(null,"width",re(Ae)),te.setAttributeNS(null,"height",re(ve)),this.current.element=te,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ee){const ae=this.svgFactory.create(ee.width,ee.height),Ae=this.svgFactory.createElement("svg:defs");ae.append(Ae),this.defs=Ae;const ve=this.svgFactory.createElement("svg:g");return ve.setAttributeNS(null,"transform",Q(ee.transform)),ae.append(ve),this.svg=ve,ae}_ensureClipGroup(){if(!this.current.clipGroup){const ee=this.svgFactory.createElement("svg:g");ee.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ee),this.current.clipGroup=ee}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Q(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=ue},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class H{static textContent(O){const B=[],Y={items:B,styles:Object.create(null)};function ge(fe){var Ee;if(!fe)return;let de=null;const K=fe.name;if(K==="#text")de=fe.value;else if(H.shouldBuildText(K))(Ee=fe==null?void 0:fe.attributes)!=null&&Ee.textContent?de=fe.attributes.textContent:fe.value&&(de=fe.value);else return;if(de!==null&&B.push({str:de}),!!fe.children)for(const le of fe.children)ge(le)}return ge(O),Y}static shouldBuildText(O){return!(O==="textarea"||O==="input"||O==="option"||O==="select")}}$.XfaText=H},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Q,$.updateTextLayer=q;var R=H(1),O=H(6);const B=1e5,Y=30,ge=.8,fe=new Map;function de(oe,se){let ue;if(se&&R.FeatureTest.isOffscreenCanvasSupported)ue=new OffscreenCanvas(oe,oe).getContext("2d",{alpha:!1});else{const pe=document.createElement("canvas");pe.width=pe.height=oe,ue=pe.getContext("2d",{alpha:!1})}return ue}function K(oe,se){const ue=fe.get(oe);if(ue)return ue;const pe=de(Y,se);pe.font=`${Y}px ${oe}`;const ee=pe.measureText("");let ae=ee.fontBoundingBoxAscent,Ae=Math.abs(ee.fontBoundingBoxDescent);if(ae){const te=ae/(ae+Ae);return fe.set(oe,te),pe.canvas.width=pe.canvas.height=0,te}pe.strokeStyle="red",pe.clearRect(0,0,Y,Y),pe.strokeText("g",0,0);let ve=pe.getImageData(0,0,Y,Y).data;Ae=0;for(let te=ve.length-1-3;te>=0;te-=4)if(ve[te]>0){Ae=Math.ceil(te/4/Y);break}pe.clearRect(0,0,Y,Y),pe.strokeText("A",0,Y),ve=pe.getImageData(0,0,Y,Y).data,ae=0;for(let te=0,_e=ve.length;te<_e;te+=4)if(ve[te]>0){ae=Y-Math.floor(te/4/Y);break}if(pe.canvas.width=pe.canvas.height=0,ae){const te=ae/(ae+Ae);return fe.set(oe,te),te}return fe.set(oe,ge),ge}function Ee(oe,se,ue){const pe=document.createElement("span"),ee={angle:0,canvasWidth:0,hasText:se.str!=="",hasEOL:se.hasEOL,fontSize:0};oe._textDivs.push(pe);const ae=R.Util.transform(oe._transform,se.transform);let Ae=Math.atan2(ae[1],ae[0]);const ve=ue[se.fontName];ve.vertical&&(Ae+=Math.PI/2);const te=Math.hypot(ae[2],ae[3]),_e=te*K(ve.fontFamily,oe._isOffscreenCanvasSupported);let he,Pe;Ae===0?(he=ae[4],Pe=ae[5]-_e):(he=ae[4]+_e*Math.sin(Ae),Pe=ae[5]-_e*Math.cos(Ae));const De="calc(var(--scale-factor)*",be=pe.style;oe._container===oe._rootContainer?(be.left=`${(100*he/oe._pageWidth).toFixed(2)}%`,be.top=`${(100*Pe/oe._pageHeight).toFixed(2)}%`):(be.left=`${De}${he.toFixed(2)}px)`,be.top=`${De}${Pe.toFixed(2)}px)`),be.fontSize=`${De}${te.toFixed(2)}px)`,be.fontFamily=ve.fontFamily,ee.fontSize=te,pe.setAttribute("role","presentation"),pe.textContent=se.str,pe.dir=se.dir,oe._fontInspectorEnabled&&(pe.dataset.fontName=se.fontName),Ae!==0&&(ee.angle=Ae*(180/Math.PI));let Te=!1;if(se.str.length>1)Te=!0;else if(se.str!==" "&&se.transform[0]!==se.transform[3]){const He=Math.abs(se.transform[0]),Qe=Math.abs(se.transform[3]);He!==Qe&&Math.max(He,Qe)/Math.min(He,Qe)>1.5&&(Te=!0)}Te&&(ee.canvasWidth=ve.vertical?se.height:se.width),oe._textDivProperties.set(pe,ee),oe._isReadableStream&&oe._layoutText(pe)}function le(oe){const{div:se,scale:ue,properties:pe,ctx:ee,prevFontSize:ae,prevFontFamily:Ae}=oe,{style:ve}=se;let te="";if(pe.canvasWidth!==0&&pe.hasText){const{fontFamily:_e}=ve,{canvasWidth:he,fontSize:Pe}=pe;(ae!==Pe||Ae!==_e)&&(ee.font=`${Pe*ue}px ${_e}`,oe.prevFontSize=Pe,oe.prevFontFamily=_e);const{width:De}=ee.measureText(se.textContent);De>0&&(te=`scaleX(${he*ue/De})`)}pe.angle!==0&&(te=`rotate(${pe.angle}deg) ${te}`),te.length>0&&(ve.transform=te)}function ne(oe){if(oe._canceled)return;const se=oe._textDivs,ue=oe._capability;if(se.length>B){ue.resolve();return}if(!oe._isReadableStream)for(const ee of se)oe._layoutText(ee);ue.resolve()}class re{constructor({textContentSource:se,container:ue,viewport:pe,textDivs:ee,textDivProperties:ae,textContentItemsStr:Ae,isOffscreenCanvasSupported:ve}){var De;this._textContentSource=se,this._isReadableStream=se instanceof ReadableStream,this._container=this._rootContainer=ue,this._textDivs=ee||[],this._textContentItemsStr=Ae||[],this._isOffscreenCanvasSupported=ve,this._fontInspectorEnabled=!!((De=globalThis.FontInspector)!=null&&De.enabled),this._reader=null,this._textDivProperties=ae||new WeakMap,this._canceled=!1,this._capability=new R.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:pe.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:de(0,ve)};const{pageWidth:te,pageHeight:_e,pageX:he,pageY:Pe}=pe.rawDims;this._transform=[1,0,0,-1,-he,Pe+_e],this._pageWidth=te,this._pageHeight=_e,(0,O.setLayerDimensions)(ue,pe),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new R.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new R.AbortException("TextLayer task cancelled."))}_processItems(se,ue){for(const pe of se){if(pe.str===void 0){if(pe.type==="beginMarkedContentProps"||pe.type==="beginMarkedContent"){const ee=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),pe.id!==null&&this._container.setAttribute("id",`${pe.id}`),ee.append(this._container)}else pe.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(pe.str),Ee(this,pe,ue)}}_layoutText(se){const ue=this._layoutTextParams.properties=this._textDivProperties.get(se);if(this._layoutTextParams.div=se,le(this._layoutTextParams),ue.hasText&&this._container.append(se),ue.hasEOL){const pe=document.createElement("br");pe.setAttribute("role","presentation"),this._container.append(pe)}}_render(){const se=new R.PromiseCapability;let ue=Object.create(null);if(this._isReadableStream){const pe=()=>{this._reader.read().then(({value:ee,done:ae})=>{if(ae){se.resolve();return}Object.assign(ue,ee.styles),this._processItems(ee.items,ue),pe()},se.reject)};this._reader=this._textContentSource.getReader(),pe()}else if(this._textContentSource){const{items:pe,styles:ee}=this._textContentSource;this._processItems(pe,ee),se.resolve()}else throw new Error('No "textContentSource" parameter specified.');se.promise.then(()=>{ue=null,ne(this)},this._capability.reject)}}$.TextLayerRenderTask=re;function Q(oe){!oe.textContentSource&&(oe.textContent||oe.textContentStream)&&((0,O.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),oe.textContentSource=oe.textContent||oe.textContentStream);const{container:se,viewport:ue}=oe,pe=getComputedStyle(se),ee=pe.getPropertyValue("visibility"),ae=parseFloat(pe.getPropertyValue("--scale-factor"));ee==="visible"&&(!ae||Math.abs(ae-ue.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Ae=new re(oe);return Ae._render(),Ae}function q({container:oe,viewport:se,textDivs:ue,textDivProperties:pe,isOffscreenCanvasSupported:ee,mustRotate:ae=!0,mustRescale:Ae=!0}){if(ae&&(0,O.setLayerDimensions)(oe,{rotation:se.rotation}),Ae){const ve=de(0,ee),_e={prevFontSize:null,prevFontFamily:null,div:null,scale:se.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ve};for(const he of ue)_e.properties=pe.get(he),_e.div=he,le(_e)}}},(A,$,H)=>{var K,Ee,le,ne,re,Q,q,oe,se,ue,pe,Ii,ae,Zr,ve,Di,_e,Oi;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var R=H(1),O=H(4),B=H(28),Y=H(33),ge=H(6),fe=H(34);const Pe=class Pe{constructor({uiManager:be,pageIndex:Te,div:He,accessibilityManager:Qe,annotationLayer:Fe,viewport:nt,l10n:at}){$e(this,pe);$e(this,ae);$e(this,ve);$e(this,_e);$e(this,K,void 0);$e(this,Ee,!1);$e(this,le,null);$e(this,ne,this.pointerup.bind(this));$e(this,re,this.pointerdown.bind(this));$e(this,Q,new Map);$e(this,q,!1);$e(this,oe,!1);$e(this,se,!1);$e(this,ue,void 0);const ht=[B.FreeTextEditor,Y.InkEditor,fe.StampEditor];if(!Pe._initialized){Pe._initialized=!0;for(const yt of ht)yt.initialize(at)}be.registerEditorTypes(ht),rt(this,ue,be),this.pageIndex=Te,this.div=He,rt(this,K,Qe),rt(this,le,Fe),this.viewport=nt,V(this,ue).addLayer(this)}get isEmpty(){return V(this,Q).size===0}updateToolbar(be){V(this,ue).updateToolbar(be)}updateMode(be=V(this,ue).getMode()){ze(this,_e,Oi).call(this),be===R.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),be!==R.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",be===R.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",be===R.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",be===R.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(be){if(!be&&V(this,ue).getMode()!==R.AnnotationEditorType.INK)return;if(!be){for(const He of V(this,Q).values())if(He.isEmpty()){He.setInBackground();return}}ze(this,ae,Zr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(be){V(this,ue).setEditingState(be)}addCommands(be){V(this,ue).addCommands(be)}enable(){this.div.style.pointerEvents="auto";const be=new Set;for(const He of V(this,Q).values())He.enableEditing(),He.annotationElementId&&be.add(He.annotationElementId);if(!V(this,le))return;const Te=V(this,le).getEditableAnnotations();for(const He of Te){if(He.hide(),V(this,ue).isDeletedAnnotationElement(He.data.id)||be.has(He.data.id))continue;const Qe=this.deserialize(He);Qe&&(this.addOrRebuild(Qe),Qe.enableEditing())}}disable(){var Te;rt(this,se,!0),this.div.style.pointerEvents="none";const be=new Set;for(const He of V(this,Q).values()){if(He.disableEditing(),!He.annotationElementId||He.serialize()!==null){be.add(He.annotationElementId);continue}(Te=this.getEditableAnnotation(He.annotationElementId))==null||Te.show(),He.remove()}if(V(this,le)){const He=V(this,le).getEditableAnnotations();for(const Qe of He){const{id:Fe}=Qe.data;be.has(Fe)||V(this,ue).isDeletedAnnotationElement(Fe)||Qe.show()}}ze(this,_e,Oi).call(this),this.isEmpty&&(this.div.hidden=!0),rt(this,se,!1)}getEditableAnnotation(be){var Te;return((Te=V(this,le))==null?void 0:Te.getEditableAnnotation(be))||null}setActiveEditor(be){V(this,ue).getActive()!==be&&V(this,ue).setActiveEditor(be)}enableClick(){this.div.addEventListener("pointerdown",V(this,re)),this.div.addEventListener("pointerup",V(this,ne))}disableClick(){this.div.removeEventListener("pointerdown",V(this,re)),this.div.removeEventListener("pointerup",V(this,ne))}attach(be){V(this,Q).set(be.id,be);const{annotationElementId:Te}=be;Te&&V(this,ue).isDeletedAnnotationElement(Te)&&V(this,ue).removeDeletedAnnotationElement(be)}detach(be){var Te;V(this,Q).delete(be.id),(Te=V(this,K))==null||Te.removePointerInTextLayer(be.contentDiv),!V(this,se)&&be.annotationElementId&&V(this,ue).addDeletedAnnotationElement(be)}remove(be){this.detach(be),V(this,ue).removeEditor(be),be.div.contains(document.activeElement)&&setTimeout(()=>{V(this,ue).focusMainContainer()},0),be.div.remove(),be.isAttachedToDOM=!1,V(this,oe)||this.addInkEditorIfNeeded(!1)}changeParent(be){var Te;be.parent!==this&&(be.annotationElementId&&(V(this,ue).addDeletedAnnotationElement(be.annotationElementId),O.AnnotationEditor.deleteAnnotationElement(be),be.annotationElementId=null),this.attach(be),(Te=be.parent)==null||Te.detach(be),be.setParent(this),be.div&&be.isAttachedToDOM&&(be.div.remove(),this.div.append(be.div)))}add(be){if(this.changeParent(be),V(this,ue).addEditor(be),this.attach(be),!be.isAttachedToDOM){const Te=be.render();this.div.append(Te),be.isAttachedToDOM=!0}be.fixAndSetPosition(),be.onceAdded(),V(this,ue).addToAnnotationStorage(be)}moveEditorInDOM(be){var He;if(!be.isAttachedToDOM)return;const{activeElement:Te}=document;be.div.contains(Te)&&(be._focusEventsAllowed=!1,setTimeout(()=>{be.div.contains(document.activeElement)?be._focusEventsAllowed=!0:(be.div.addEventListener("focusin",()=>{be._focusEventsAllowed=!0},{once:!0}),Te.focus())},0)),be._structTreeParentId=(He=V(this,K))==null?void 0:He.moveElementInDOM(this.div,be.div,be.contentDiv,!0)}addOrRebuild(be){be.needsToBeRebuilt()?be.rebuild():this.add(be)}addUndoableEditor(be){const Te=()=>be._uiManager.rebuild(be),He=()=>{be.remove()};this.addCommands({cmd:Te,undo:He,mustExec:!1})}getNextId(){return V(this,ue).getId()}pasteEditor(be,Te){V(this,ue).updateToolbar(be),V(this,ue).updateMode(be);const{offsetX:He,offsetY:Qe}=ze(this,ve,Di).call(this),Fe=this.getNextId(),nt=ze(this,pe,Ii).call(this,{parent:this,id:Fe,x:He,y:Qe,uiManager:V(this,ue),isCentered:!0,...Te});nt&&this.add(nt)}deserialize(be){switch(be.annotationType??be.annotationEditorType){case R.AnnotationEditorType.FREETEXT:return B.FreeTextEditor.deserialize(be,this,V(this,ue));case R.AnnotationEditorType.INK:return Y.InkEditor.deserialize(be,this,V(this,ue));case R.AnnotationEditorType.STAMP:return fe.StampEditor.deserialize(be,this,V(this,ue))}return null}addNewEditor(){ze(this,ae,Zr).call(this,ze(this,ve,Di).call(this),!0)}setSelected(be){V(this,ue).setSelected(be)}toggleSelected(be){V(this,ue).toggleSelected(be)}isSelected(be){return V(this,ue).isSelected(be)}unselect(be){V(this,ue).unselect(be)}pointerup(be){const{isMac:Te}=R.FeatureTest.platform;if(!(be.button!==0||be.ctrlKey&&Te)&&be.target===this.div&&V(this,q)){if(rt(this,q,!1),!V(this,Ee)){rt(this,Ee,!0);return}if(V(this,ue).getMode()===R.AnnotationEditorType.STAMP){V(this,ue).unselectAll();return}ze(this,ae,Zr).call(this,be,!1)}}pointerdown(be){if(V(this,q)){rt(this,q,!1);return}const{isMac:Te}=R.FeatureTest.platform;if(be.button!==0||be.ctrlKey&&Te||be.target!==this.div)return;rt(this,q,!0);const He=V(this,ue).getActive();rt(this,Ee,!He||He.isEmpty())}findNewParent(be,Te,He){const Qe=V(this,ue).findParent(Te,He);return Qe===null||Qe===this?!1:(Qe.changeParent(be),!0)}destroy(){var be,Te;((be=V(this,ue).getActive())==null?void 0:be.parent)===this&&(V(this,ue).commitOrRemove(),V(this,ue).setActiveEditor(null));for(const He of V(this,Q).values())(Te=V(this,K))==null||Te.removePointerInTextLayer(He.contentDiv),He.setParent(null),He.isAttachedToDOM=!1,He.div.remove();this.div=null,V(this,Q).clear(),V(this,ue).removeLayer(this)}render({viewport:be}){this.viewport=be,(0,ge.setLayerDimensions)(this.div,be);for(const Te of V(this,ue).getEditors(this.pageIndex))this.add(Te);this.updateMode()}update({viewport:be}){V(this,ue).commitOrRemove(),this.viewport=be,(0,ge.setLayerDimensions)(this.div,{rotation:be.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:be,pageHeight:Te}=this.viewport.rawDims;return[be,Te]}};K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakMap,se=new WeakMap,ue=new WeakMap,pe=new WeakSet,Ii=function(be){switch(V(this,ue).getMode()){case R.AnnotationEditorType.FREETEXT:return new B.FreeTextEditor(be);case R.AnnotationEditorType.INK:return new Y.InkEditor(be);case R.AnnotationEditorType.STAMP:return new fe.StampEditor(be)}return null},ae=new WeakSet,Zr=function(be,Te){const He=this.getNextId(),Qe=ze(this,pe,Ii).call(this,{parent:this,id:He,x:be.offsetX,y:be.offsetY,uiManager:V(this,ue),isCentered:Te});return Qe&&this.add(Qe),Qe},ve=new WeakSet,Di=function(){const{x:be,y:Te,width:He,height:Qe}=this.div.getBoundingClientRect(),Fe=Math.max(0,be),nt=Math.max(0,Te),at=Math.min(window.innerWidth,be+He),ht=Math.min(window.innerHeight,Te+Qe),yt=(Fe+at)/2-be,we=(nt+ht)/2-Te,[W,J]=this.viewport.rotation%180===0?[yt,we]:[we,yt];return{offsetX:W,offsetY:J}},_e=new WeakSet,Oi=function(){rt(this,oe,!0);for(const be of V(this,Q).values())be.isEmpty()&&be.remove();rt(this,oe,!1)},Dn(Pe,"_initialized",!1);let de=Pe;$.AnnotationEditorLayer=de},(A,$,H)=>{var fe,de,K,Ee,le,ne,re,Q,q,oe,ka,ue,Ma,ee,xa,Ae,Ir,te,Ni,he,Ta,De,Bi;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var R=H(1),O=H(5),B=H(4),Y=H(29);const Te=class Te extends B.AnnotationEditor{constructor(Fe){super({...Fe,name:"freeTextEditor"});$e(this,oe);$e(this,ue);$e(this,ee);$e(this,Ae);$e(this,te);$e(this,he);$e(this,De);$e(this,fe,this.editorDivBlur.bind(this));$e(this,de,this.editorDivFocus.bind(this));$e(this,K,this.editorDivInput.bind(this));$e(this,Ee,this.editorDivKeydown.bind(this));$e(this,le,void 0);$e(this,ne,"");$e(this,re,`${this.id}-editor`);$e(this,Q,void 0);$e(this,q,null);rt(this,le,Fe.color||Te._defaultColor||B.AnnotationEditor._defaultLineColor),rt(this,Q,Fe.fontSize||Te._defaultFontSize)}static get _keyboardManager(){const Fe=Te.prototype,nt=yt=>yt.isEmpty(),at=O.AnnotationEditorUIManager.TRANSLATE_SMALL,ht=O.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,R.shadow)(this,"_keyboardManager",new O.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Fe.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Fe.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Fe._translateEmpty,{args:[-at,0],checker:nt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Fe._translateEmpty,{args:[-ht,0],checker:nt}],[["ArrowRight","mac+ArrowRight"],Fe._translateEmpty,{args:[at,0],checker:nt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Fe._translateEmpty,{args:[ht,0],checker:nt}],[["ArrowUp","mac+ArrowUp"],Fe._translateEmpty,{args:[0,-at],checker:nt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Fe._translateEmpty,{args:[0,-ht],checker:nt}],[["ArrowDown","mac+ArrowDown"],Fe._translateEmpty,{args:[0,at],checker:nt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Fe._translateEmpty,{args:[0,ht],checker:nt}]]))}static initialize(Fe){B.AnnotationEditor.initialize(Fe,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const nt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(nt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Fe,nt){switch(Fe){case R.AnnotationEditorParamsType.FREETEXT_SIZE:Te._defaultFontSize=nt;break;case R.AnnotationEditorParamsType.FREETEXT_COLOR:Te._defaultColor=nt;break}}updateParams(Fe,nt){switch(Fe){case R.AnnotationEditorParamsType.FREETEXT_SIZE:ze(this,oe,ka).call(this,nt);break;case R.AnnotationEditorParamsType.FREETEXT_COLOR:ze(this,ue,Ma).call(this,nt);break}}static get defaultPropertiesToUpdate(){return[[R.AnnotationEditorParamsType.FREETEXT_SIZE,Te._defaultFontSize],[R.AnnotationEditorParamsType.FREETEXT_COLOR,Te._defaultColor||B.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[R.AnnotationEditorParamsType.FREETEXT_SIZE,V(this,Q)],[R.AnnotationEditorParamsType.FREETEXT_COLOR,V(this,le)]]}_translateEmpty(Fe,nt){this._uiManager.translateSelectedEditors(Fe,nt,!0)}getInitialTranslation(){const Fe=this.parentScale;return[-Te._internalPadding*Fe,-(Te._internalPadding+V(this,Q))*Fe]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(R.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",V(this,Ee)),this.editorDiv.addEventListener("focus",V(this,de)),this.editorDiv.addEventListener("blur",V(this,fe)),this.editorDiv.addEventListener("input",V(this,K)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",V(this,re)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",V(this,Ee)),this.editorDiv.removeEventListener("focus",V(this,de)),this.editorDiv.removeEventListener("blur",V(this,fe)),this.editorDiv.removeEventListener("input",V(this,K)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Fe){this._focusEventsAllowed&&(super.focusin(Fe),Fe.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Fe;if(this.width){ze(this,De,Bi).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Fe=this._initialOptions)!=null&&Fe.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Fe=V(this,ne),nt=rt(this,ne,ze(this,ee,xa).call(this).trimEnd());if(Fe===nt)return;const at=ht=>{if(rt(this,ne,ht),!ht){this.remove();return}ze(this,te,Ni).call(this),this._uiManager.rebuild(this),ze(this,Ae,Ir).call(this)};this.addCommands({cmd:()=>{at(nt)},undo:()=>{at(Fe)},mustExec:!1}),ze(this,Ae,Ir).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Fe){this.enterInEditMode()}keydown(Fe){Fe.target===this.div&&Fe.key==="Enter"&&(this.enterInEditMode(),Fe.preventDefault())}editorDivKeydown(Fe){Te._keyboardManager.exec(this,Fe)}editorDivFocus(Fe){this.isEditing=!0}editorDivBlur(Fe){this.isEditing=!1}editorDivInput(Fe){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Fe,nt;this.width&&(Fe=this.x,nt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",V(this,re)),this.enableEditing(),B.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(ht=>{var yt;return(yt=this.editorDiv)==null?void 0:yt.setAttribute("aria-label",ht)}),B.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(ht=>{var yt;return(yt=this.editorDiv)==null?void 0:yt.setAttribute("default-content",ht)}),this.editorDiv.contentEditable=!0;const{style:at}=this.editorDiv;if(at.fontSize=`calc(${V(this,Q)}px * var(--scale-factor))`,at.color=V(this,le),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,O.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ht,yt]=this.parentDimensions;if(this.annotationElementId){const{position:we}=V(this,q);let[W,J]=this.getInitialTranslation();[W,J]=this.pageTranslationToScreen(W,J);const[G,ie]=this.pageDimensions,[ce,ye]=this.pageTranslation;let Ce,Re;switch(this.rotation){case 0:Ce=Fe+(we[0]-ce)/G,Re=nt+this.height-(we[1]-ye)/ie;break;case 90:Ce=Fe+(we[0]-ce)/G,Re=nt-(we[1]-ye)/ie,[W,J]=[J,-W];break;case 180:Ce=Fe-this.width+(we[0]-ce)/G,Re=nt-(we[1]-ye)/ie,[W,J]=[-W,-J];break;case 270:Ce=Fe+(we[0]-ce-this.height*ie)/G,Re=nt+(we[1]-ye-this.width*G)/ie,[W,J]=[-J,W];break}this.setAt(Ce*ht,Re*yt,W,J)}else this.setAt(Fe*ht,nt*yt,this.width*ht,this.height*yt);ze(this,te,Ni).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Fe,nt,at){let ht=null;if(Fe instanceof Y.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:we,fontColor:W},rect:J,rotation:G,id:ie},textContent:ce,textPosition:ye,parent:{page:{pageNumber:Ce}}}=Fe;if(!ce||ce.length===0)return null;ht=Fe={annotationType:R.AnnotationEditorType.FREETEXT,color:Array.from(W),fontSize:we,value:ce.join(`
`),position:ye,pageIndex:Ce-1,rect:J,rotation:G,id:ie,deleted:!1}}const yt=super.deserialize(Fe,nt,at);return rt(yt,Q,Fe.fontSize),rt(yt,le,R.Util.makeHexColor(...Fe.color)),rt(yt,ne,Fe.value),yt.annotationElementId=Fe.id||null,rt(yt,q,ht),yt}serialize(Fe=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const nt=Te._internalPadding*this.parentScale,at=this.getRect(nt,nt),ht=B.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:V(this,le)),yt={annotationType:R.AnnotationEditorType.FREETEXT,color:ht,fontSize:V(this,Q),value:V(this,ne),pageIndex:this.pageIndex,rect:at,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Fe?yt:this.annotationElementId&&!ze(this,he,Ta).call(this,yt)?null:(yt.id=this.annotationElementId,yt)}};fe=new WeakMap,de=new WeakMap,K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakSet,ka=function(Fe){const nt=ht=>{this.editorDiv.style.fontSize=`calc(${ht}px * var(--scale-factor))`,this.translate(0,-(ht-V(this,Q))*this.parentScale),rt(this,Q,ht),ze(this,Ae,Ir).call(this)},at=V(this,Q);this.addCommands({cmd:()=>{nt(Fe)},undo:()=>{nt(at)},mustExec:!0,type:R.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ue=new WeakSet,Ma=function(Fe){const nt=V(this,le);this.addCommands({cmd:()=>{rt(this,le,this.editorDiv.style.color=Fe)},undo:()=>{rt(this,le,this.editorDiv.style.color=nt)},mustExec:!0,type:R.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ee=new WeakSet,xa=function(){const Fe=this.editorDiv.getElementsByTagName("div");if(Fe.length===0)return this.editorDiv.innerText;const nt=[];for(const at of Fe)nt.push(at.innerText.replace(/\r\n?|\n/,""));return nt.join(`
`)},Ae=new WeakSet,Ir=function(){const[Fe,nt]=this.parentDimensions;let at;if(this.isAttachedToDOM)at=this.div.getBoundingClientRect();else{const{currentLayer:ht,div:yt}=this,we=yt.style.display;yt.style.display="hidden",ht.div.append(this.div),at=yt.getBoundingClientRect(),yt.remove(),yt.style.display=we}this.rotation%180===this.parentRotation%180?(this.width=at.width/Fe,this.height=at.height/nt):(this.width=at.height/Fe,this.height=at.width/nt),this.fixAndSetPosition()},te=new WeakSet,Ni=function(){if(this.editorDiv.replaceChildren(),!!V(this,ne))for(const Fe of V(this,ne).split(`
`)){const nt=document.createElement("div");nt.append(Fe?document.createTextNode(Fe):document.createElement("br")),this.editorDiv.append(nt)}},he=new WeakSet,Ta=function(Fe){const{value:nt,fontSize:at,color:ht,rect:yt,pageIndex:we}=V(this,q);return Fe.value!==nt||Fe.fontSize!==at||Fe.rect.some((W,J)=>Math.abs(W-yt[J])>=1)||Fe.color.some((W,J)=>W!==ht[J])||Fe.pageIndex!==we},De=new WeakSet,Bi=function(Fe=!1){if(!this.annotationElementId)return;if(ze(this,Ae,Ir).call(this),!Fe&&(this.width===0||this.height===0)){setTimeout(()=>ze(this,De,Bi).call(this,!0),0);return}const nt=Te._internalPadding*this.parentScale;V(this,q).rect=this.getRect(nt,nt)},Dn(Te,"_freeTextDefaultContent",""),Dn(Te,"_internalPadding",0),Dn(Te,"_defaultColor",null),Dn(Te,"_defaultFontSize",10),Dn(Te,"_type","freetext");let ge=Te;$.FreeTextEditor=ge},(A,$,H)=>{var J,ie,_r,ye,$a,Re,Xe,Ge,tt,st,vt,ut,ft,gt,pt,Ft,ot,We,Ue,ct,At,Ct,Ht,Ra,qt,Jr,rn,ji,ln,zi,Ve,Ne,St,dt,mn,Pn,Ye,Hi,Nt,xt,Bt,zt,Fa,wt,Vi;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var R=H(1),O=H(6),B=H(3),Y=H(30),ge=H(31),fe=H(32);const de=1e3,K=9,Ee=new WeakSet;function le(Ot){return{width:Ot[2]-Ot[0],height:Ot[3]-Ot[1]}}class ne{static create(Me){switch(Me.data.annotationType){case R.AnnotationType.LINK:return new Q(Me);case R.AnnotationType.TEXT:return new q(Me);case R.AnnotationType.WIDGET:switch(Me.data.fieldType){case"Tx":return new se(Me);case"Btn":return Me.data.radioButton?new ee(Me):Me.data.checkBox?new pe(Me):new ae(Me);case"Ch":return new Ae(Me);case"Sig":return new ue(Me)}return new oe(Me);case R.AnnotationType.POPUP:return new ve(Me);case R.AnnotationType.FREETEXT:return new _e(Me);case R.AnnotationType.LINE:return new he(Me);case R.AnnotationType.SQUARE:return new Pe(Me);case R.AnnotationType.CIRCLE:return new De(Me);case R.AnnotationType.POLYLINE:return new be(Me);case R.AnnotationType.CARET:return new He(Me);case R.AnnotationType.INK:return new Qe(Me);case R.AnnotationType.POLYGON:return new Te(Me);case R.AnnotationType.HIGHLIGHT:return new Fe(Me);case R.AnnotationType.UNDERLINE:return new nt(Me);case R.AnnotationType.SQUIGGLY:return new at(Me);case R.AnnotationType.STRIKEOUT:return new ht(Me);case R.AnnotationType.STAMP:return new yt(Me);case R.AnnotationType.FILEATTACHMENT:return new we(Me);default:return new re(Me)}}}const G=class G{constructor(Me,{isRenderable:U=!1,ignoreBorder:Se=!1,createQuadrilaterals:xe=!1}={}){$e(this,J,!1);this.isRenderable=U,this.data=Me.data,this.layer=Me.layer,this.linkService=Me.linkService,this.downloadManager=Me.downloadManager,this.imageResourcesPath=Me.imageResourcesPath,this.renderForms=Me.renderForms,this.svgFactory=Me.svgFactory,this.annotationStorage=Me.annotationStorage,this.enableScripting=Me.enableScripting,this.hasJSActions=Me.hasJSActions,this._fieldObjects=Me.fieldObjects,this.parent=Me.parent,U&&(this.container=this._createContainer(Se)),xe&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Me,contentsObj:U,richText:Se}){return!!(Me!=null&&Me.str||U!=null&&U.str||Se!=null&&Se.str)}get hasPopupData(){return G._hasPopupData(this.data)}_createContainer(Me){const{data:U,parent:{page:Se,viewport:xe}}=this,Be=document.createElement("section");Be.setAttribute("data-annotation-id",U.id),this instanceof oe||(Be.tabIndex=de),Be.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Be.setAttribute("aria-haspopup","dialog"),U.noRotate&&Be.classList.add("norotate");const{pageWidth:qe,pageHeight:it,pageX:_t,pageY:Rt}=xe.rawDims;if(!U.rect||this instanceof ve){const{rotation:Xt}=U;return!U.hasOwnCanvas&&Xt!==0&&this.setRotation(Xt,Be),Be}const{width:Tt,height:tn}=le(U.rect),It=R.Util.normalizeRect([U.rect[0],Se.view[3]-U.rect[1]+Se.view[1],U.rect[2],Se.view[3]-U.rect[3]+Se.view[1]]);if(!Me&&U.borderStyle.width>0){Be.style.borderWidth=`${U.borderStyle.width}px`;const Xt=U.borderStyle.horizontalCornerRadius,cn=U.borderStyle.verticalCornerRadius;if(Xt>0||cn>0){const An=`calc(${Xt}px * var(--scale-factor)) / calc(${cn}px * var(--scale-factor))`;Be.style.borderRadius=An}else if(this instanceof ee){const An=`calc(${Tt}px * var(--scale-factor)) / calc(${tn}px * var(--scale-factor))`;Be.style.borderRadius=An}switch(U.borderStyle.style){case R.AnnotationBorderStyleType.SOLID:Be.style.borderStyle="solid";break;case R.AnnotationBorderStyleType.DASHED:Be.style.borderStyle="dashed";break;case R.AnnotationBorderStyleType.BEVELED:(0,R.warn)("Unimplemented border style: beveled");break;case R.AnnotationBorderStyleType.INSET:(0,R.warn)("Unimplemented border style: inset");break;case R.AnnotationBorderStyleType.UNDERLINE:Be.style.borderBottomStyle="solid";break}const _n=U.borderColor||null;_n?(rt(this,J,!0),Be.style.borderColor=R.Util.makeHexColor(_n[0]|0,_n[1]|0,_n[2]|0)):Be.style.borderWidth=0}Be.style.left=`${100*(It[0]-_t)/qe}%`,Be.style.top=`${100*(It[1]-Rt)/it}%`;const{rotation:Dt}=U;return U.hasOwnCanvas||Dt===0?(Be.style.width=`${100*Tt/qe}%`,Be.style.height=`${100*tn/it}%`):this.setRotation(Dt,Be),Be}setRotation(Me,U=this.container){if(!this.data.rect)return;const{pageWidth:Se,pageHeight:xe}=this.parent.viewport.rawDims,{width:Be,height:qe}=le(this.data.rect);let it,_t;Me%180===0?(it=100*Be/Se,_t=100*qe/xe):(it=100*qe/Se,_t=100*Be/xe),U.style.width=`${it}%`,U.style.height=`${_t}%`,U.setAttribute("data-main-rotation",(360-Me)%360)}get _commonActions(){const Me=(U,Se,xe)=>{const Be=xe.detail[U],qe=Be[0],it=Be.slice(1);xe.target.style[Se]=Y.ColorConverters[`${qe}_HTML`](it),this.annotationStorage.setValue(this.data.id,{[Se]:Y.ColorConverters[`${qe}_rgb`](it)})};return(0,R.shadow)(this,"_commonActions",{display:U=>{const{display:Se}=U.detail,xe=Se%2===1;this.container.style.visibility=xe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:xe,noPrint:Se===1||Se===2})},print:U=>{this.annotationStorage.setValue(this.data.id,{noPrint:!U.detail.print})},hidden:U=>{const{hidden:Se}=U.detail;this.container.style.visibility=Se?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Se,noView:Se})},focus:U=>{setTimeout(()=>U.target.focus({preventScroll:!1}),0)},userName:U=>{U.target.title=U.detail.userName},readonly:U=>{U.target.disabled=U.detail.readonly},required:U=>{this._setRequired(U.target,U.detail.required)},bgColor:U=>{Me("bgColor","backgroundColor",U)},fillColor:U=>{Me("fillColor","backgroundColor",U)},fgColor:U=>{Me("fgColor","color",U)},textColor:U=>{Me("textColor","color",U)},borderColor:U=>{Me("borderColor","borderColor",U)},strokeColor:U=>{Me("strokeColor","borderColor",U)},rotation:U=>{const Se=U.detail.rotation;this.setRotation(Se),this.annotationStorage.setValue(this.data.id,{rotation:Se})}})}_dispatchEventFromSandbox(Me,U){const Se=this._commonActions;for(const xe of Object.keys(U.detail)){const Be=Me[xe]||Se[xe];Be==null||Be(U)}}_setDefaultPropertiesFromJS(Me){if(!this.enableScripting)return;const U=this.annotationStorage.getRawValue(this.data.id);if(!U)return;const Se=this._commonActions;for(const[xe,Be]of Object.entries(U)){const qe=Se[xe];if(qe){const it={detail:{[xe]:Be},target:Me};qe(it),delete U[xe]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Me}=this.data;if(!Me)return;const[U,Se,xe,Be]=this.data.rect;if(Me.length===1){const[,{x:cn,y:_n},{x:An,y:Gn}]=Me[0];if(xe===cn&&Be===_n&&U===An&&Se===Gn)return}const{style:qe}=this.container;let it;if(V(this,J)){const{borderColor:cn,borderWidth:_n}=qe;qe.borderWidth=0,it=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${cn}" stroke-width="${_n}">`],this.container.classList.add("hasBorder")}const _t=xe-U,Rt=Be-Se,{svgFactory:Tt}=this,tn=Tt.createElement("svg");tn.classList.add("quadrilateralsContainer"),tn.setAttribute("width",0),tn.setAttribute("height",0);const It=Tt.createElement("defs");tn.append(It);const Dt=Tt.createElement("clipPath"),Xt=`clippath_${this.data.id}`;Dt.setAttribute("id",Xt),Dt.setAttribute("clipPathUnits","objectBoundingBox"),It.append(Dt);for(const[,{x:cn,y:_n},{x:An,y:Gn}]of Me){const On=Tt.createElement("rect"),tr=(An-U)/_t,rr=(Be-_n)/Rt,cr=(cn-An)/_t,Nr=(_n-Gn)/Rt;On.setAttribute("x",tr),On.setAttribute("y",rr),On.setAttribute("width",cr),On.setAttribute("height",Nr),Dt.append(On),it==null||it.push(`<rect vector-effect="non-scaling-stroke" x="${tr}" y="${rr}" width="${cr}" height="${Nr}"/>`)}V(this,J)&&(it.push("</g></svg>')"),qe.backgroundImage=it.join("")),this.container.append(tn),this.container.style.clipPath=`url(#${Xt})`}_createPopup(){const{container:Me,data:U}=this;Me.setAttribute("aria-haspopup","dialog");const Se=new ve({data:{color:U.color,titleObj:U.titleObj,modificationDate:U.modificationDate,contentsObj:U.contentsObj,richText:U.richText,parentRect:U.rect,borderStyle:0,id:`popup_${U.id}`,rotation:U.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Se.render())}render(){(0,R.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Me,U=null){const Se=[];if(this._fieldObjects){const xe=this._fieldObjects[Me];if(xe)for(const{page:Be,id:qe,exportValues:it}of xe){if(Be===-1||qe===U)continue;const _t=typeof it=="string"?it:null,Rt=document.querySelector(`[data-element-id="${qe}"]`);if(Rt&&!Ee.has(Rt)){(0,R.warn)(`_getElementsByName - element not allowed: ${qe}`);continue}Se.push({id:qe,exportValue:_t,domElement:Rt})}return Se}for(const xe of document.getElementsByName(Me)){const{exportValue:Be}=xe,qe=xe.getAttribute("data-element-id");qe!==U&&Ee.has(xe)&&Se.push({id:qe,exportValue:Be,domElement:xe})}return Se}show(){var Me;this.container&&(this.container.hidden=!1),(Me=this.popup)==null||Me.maybeShow()}hide(){var Me;this.container&&(this.container.hidden=!0),(Me=this.popup)==null||Me.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Me=this.getElementsToTriggerPopup();if(Array.isArray(Me))for(const U of Me)U.classList.add("highlightArea");else Me.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Me,data:{id:U}}=this;this.container.addEventListener("dblclick",()=>{var Se;(Se=this.linkService.eventBus)==null||Se.dispatch("switchannotationeditormode",{source:this,mode:Me,editId:U})})}};J=new WeakMap;let re=G;class Q extends re{constructor(U,Se=null){super(U,{isRenderable:!0,ignoreBorder:!!(Se!=null&&Se.ignoreBorder),createQuadrilaterals:!0});$e(this,ie);$e(this,ye);this.isTooltipOnly=U.data.isTooltipOnly}render(){const{data:U,linkService:Se}=this,xe=document.createElement("a");xe.setAttribute("data-element-id",U.id);let Be=!1;return U.url?(Se.addLinkAttributes(xe,U.url,U.newWindow),Be=!0):U.action?(this._bindNamedAction(xe,U.action),Be=!0):U.attachment?(this._bindAttachment(xe,U.attachment),Be=!0):U.setOCGState?(ze(this,ye,$a).call(this,xe,U.setOCGState),Be=!0):U.dest?(this._bindLink(xe,U.dest),Be=!0):(U.actions&&(U.actions.Action||U.actions["Mouse Up"]||U.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(xe,U),Be=!0),U.resetForm?(this._bindResetFormAction(xe,U.resetForm),Be=!0):this.isTooltipOnly&&!Be&&(this._bindLink(xe,""),Be=!0)),this.container.classList.add("linkAnnotation"),Be&&this.container.append(xe),this.container}_bindLink(U,Se){U.href=this.linkService.getDestinationHash(Se),U.onclick=()=>(Se&&this.linkService.goToDestination(Se),!1),(Se||Se==="")&&ze(this,ie,_r).call(this)}_bindNamedAction(U,Se){U.href=this.linkService.getAnchorUrl(""),U.onclick=()=>(this.linkService.executeNamedAction(Se),!1),ze(this,ie,_r).call(this)}_bindAttachment(U,Se){U.href=this.linkService.getAnchorUrl(""),U.onclick=()=>{var xe;return(xe=this.downloadManager)==null||xe.openOrDownloadData(this.container,Se.content,Se.filename),!1},ze(this,ie,_r).call(this)}_bindJSAction(U,Se){U.href=this.linkService.getAnchorUrl("");const xe=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Be of Object.keys(Se.actions)){const qe=xe.get(Be);qe&&(U[qe]=()=>{var it;return(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Se.id,name:Be}}),!1})}U.onclick||(U.onclick=()=>!1),ze(this,ie,_r).call(this)}_bindResetFormAction(U,Se){const xe=U.onclick;if(xe||(U.href=this.linkService.getAnchorUrl("")),ze(this,ie,_r).call(this),!this._fieldObjects){(0,R.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),xe||(U.onclick=()=>!1);return}U.onclick=()=>{var tn;xe==null||xe();const{fields:Be,refs:qe,include:it}=Se,_t=[];if(Be.length!==0||qe.length!==0){const It=new Set(qe);for(const Dt of Be){const Xt=this._fieldObjects[Dt]||[];for(const{id:cn}of Xt)It.add(cn)}for(const Dt of Object.values(this._fieldObjects))for(const Xt of Dt)It.has(Xt.id)===it&&_t.push(Xt)}else for(const It of Object.values(this._fieldObjects))_t.push(...It);const Rt=this.annotationStorage,Tt=[];for(const It of _t){const{id:Dt}=It;switch(Tt.push(Dt),It.type){case"text":{const cn=It.defaultValue||"";Rt.setValue(Dt,{value:cn});break}case"checkbox":case"radiobutton":{const cn=It.defaultValue===It.exportValues;Rt.setValue(Dt,{value:cn});break}case"combobox":case"listbox":{const cn=It.defaultValue||"";Rt.setValue(Dt,{value:cn});break}default:continue}const Xt=document.querySelector(`[data-element-id="${Dt}"]`);if(Xt){if(!Ee.has(Xt)){(0,R.warn)(`_bindResetFormAction - element not allowed: ${Dt}`);continue}}else continue;Xt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((tn=this.linkService.eventBus)==null||tn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Tt,name:"ResetForm"}})),!1}}}ie=new WeakSet,_r=function(){this.container.setAttribute("data-internal-link","")},ye=new WeakSet,$a=function(U,Se){U.href=this.linkService.getAnchorUrl(""),U.onclick=()=>(this.linkService.executeSetOCGState(Se),!1),ze(this,ie,_r).call(this)};class q extends re{constructor(Me){super(Me,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Me=document.createElement("img");return Me.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Me.alt="[{{type}} Annotation]",Me.dataset.l10nId="text_annotation_type",Me.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Me),this.container}}class oe extends re{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Me){var U;this.data.hasOwnCanvas&&(((U=Me.previousSibling)==null?void 0:U.nodeName)==="CANVAS"&&(Me.previousSibling.hidden=!0),Me.hidden=!1)}_getKeyModifier(Me){const{isWin:U,isMac:Se}=R.FeatureTest.platform;return U&&Me.ctrlKey||Se&&Me.metaKey}_setEventListener(Me,U,Se,xe,Be){Se.includes("mouse")?Me.addEventListener(Se,qe=>{var it;(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xe,value:Be(qe),shift:qe.shiftKey,modifier:this._getKeyModifier(qe)}})}):Me.addEventListener(Se,qe=>{var it;if(Se==="blur"){if(!U.focused||!qe.relatedTarget)return;U.focused=!1}else if(Se==="focus"){if(U.focused)return;U.focused=!0}Be&&((it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xe,value:Be(qe)}}))})}_setEventListeners(Me,U,Se,xe){var Be,qe,it;for(const[_t,Rt]of Se)(Rt==="Action"||(Be=this.data.actions)!=null&&Be[Rt])&&((Rt==="Focus"||Rt==="Blur")&&(U||(U={focused:!1})),this._setEventListener(Me,U,_t,Rt,xe),Rt==="Focus"&&!((qe=this.data.actions)!=null&&qe.Blur)?this._setEventListener(Me,U,"blur","Blur",null):Rt==="Blur"&&!((it=this.data.actions)!=null&&it.Focus)&&this._setEventListener(Me,U,"focus","Focus",null))}_setBackgroundColor(Me){const U=this.data.backgroundColor||null;Me.style.backgroundColor=U===null?"transparent":R.Util.makeHexColor(U[0],U[1],U[2])}_setTextStyle(Me){const U=["left","center","right"],{fontColor:Se}=this.data.defaultAppearanceData,xe=this.data.defaultAppearanceData.fontSize||K,Be=Me.style;let qe;const it=2,_t=Rt=>Math.round(10*Rt)/10;if(this.data.multiLine){const Rt=Math.abs(this.data.rect[3]-this.data.rect[1]-it),Tt=Math.round(Rt/(R.LINE_FACTOR*xe))||1,tn=Rt/Tt;qe=Math.min(xe,_t(tn/R.LINE_FACTOR))}else{const Rt=Math.abs(this.data.rect[3]-this.data.rect[1]-it);qe=Math.min(xe,_t(Rt/R.LINE_FACTOR))}Be.fontSize=`calc(${qe}px * var(--scale-factor))`,Be.color=R.Util.makeHexColor(Se[0],Se[1],Se[2]),this.data.textAlignment!==null&&(Be.textAlign=U[this.data.textAlignment])}_setRequired(Me,U){U?Me.setAttribute("required",!0):Me.removeAttribute("required"),Me.setAttribute("aria-required",U)}}class se extends oe{constructor(Me){const U=Me.renderForms||!Me.data.hasAppearance&&!!Me.data.fieldValue;super(Me,{isRenderable:U})}setPropertyOnSiblings(Me,U,Se,xe){const Be=this.annotationStorage;for(const qe of this._getElementsByName(Me.name,Me.id))qe.domElement&&(qe.domElement[U]=Se),Be.setValue(qe.id,{[xe]:Se})}render(){var xe,Be;const Me=this.annotationStorage,U=this.data.id;this.container.classList.add("textWidgetAnnotation");let Se=null;if(this.renderForms){const qe=Me.getValue(U,{value:this.data.fieldValue});let it=qe.value||"";const _t=Me.getValue(U,{charLimit:this.data.maxLen}).charLimit;_t&&it.length>_t&&(it=it.slice(0,_t));let Rt=qe.formattedValue||((xe=this.data.textContent)==null?void 0:xe.join(`
`))||null;Rt&&this.data.comb&&(Rt=Rt.replaceAll(/\s+/g,""));const Tt={userValue:it,formattedValue:Rt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Se=document.createElement("textarea"),Se.textContent=Rt??it,this.data.doNotScroll&&(Se.style.overflowY="hidden")):(Se=document.createElement("input"),Se.type="text",Se.setAttribute("value",Rt??it),this.data.doNotScroll&&(Se.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Se.hidden=!0),Ee.add(Se),Se.setAttribute("data-element-id",U),Se.disabled=this.data.readOnly,Se.name=this.data.fieldName,Se.tabIndex=de,this._setRequired(Se,this.data.required),_t&&(Se.maxLength=_t),Se.addEventListener("input",It=>{Me.setValue(U,{value:It.target.value}),this.setPropertyOnSiblings(Se,"value",It.target.value,"value"),Tt.formattedValue=null}),Se.addEventListener("resetform",It=>{const Dt=this.data.defaultFieldValue??"";Se.value=Tt.userValue=Dt,Tt.formattedValue=null});let tn=It=>{const{formattedValue:Dt}=Tt;Dt!=null&&(It.target.value=Dt),It.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Se.addEventListener("focus",Dt=>{if(Tt.focused)return;const{target:Xt}=Dt;Tt.userValue&&(Xt.value=Tt.userValue),Tt.lastCommittedValue=Xt.value,Tt.commitKey=1,Tt.focused=!0}),Se.addEventListener("updatefromsandbox",Dt=>{this.showElementAndHideCanvas(Dt.target);const Xt={value(cn){Tt.userValue=cn.detail.value??"",Me.setValue(U,{value:Tt.userValue.toString()}),cn.target.value=Tt.userValue},formattedValue(cn){const{formattedValue:_n}=cn.detail;Tt.formattedValue=_n,_n!=null&&cn.target!==document.activeElement&&(cn.target.value=_n),Me.setValue(U,{formattedValue:_n})},selRange(cn){cn.target.setSelectionRange(...cn.detail.selRange)},charLimit:cn=>{var On;const{charLimit:_n}=cn.detail,{target:An}=cn;if(_n===0){An.removeAttribute("maxLength");return}An.setAttribute("maxLength",_n);let Gn=Tt.userValue;!Gn||Gn.length<=_n||(Gn=Gn.slice(0,_n),An.value=Tt.userValue=Gn,Me.setValue(U,{value:Gn}),(On=this.linkService.eventBus)==null||On.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Gn,willCommit:!0,commitKey:1,selStart:An.selectionStart,selEnd:An.selectionEnd}}))}};this._dispatchEventFromSandbox(Xt,Dt)}),Se.addEventListener("keydown",Dt=>{var _n;Tt.commitKey=1;let Xt=-1;if(Dt.key==="Escape"?Xt=0:Dt.key==="Enter"&&!this.data.multiLine?Xt=2:Dt.key==="Tab"&&(Tt.commitKey=3),Xt===-1)return;const{value:cn}=Dt.target;Tt.lastCommittedValue!==cn&&(Tt.lastCommittedValue=cn,Tt.userValue=cn,(_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:cn,willCommit:!0,commitKey:Xt,selStart:Dt.target.selectionStart,selEnd:Dt.target.selectionEnd}}))});const It=tn;tn=null,Se.addEventListener("blur",Dt=>{var cn;if(!Tt.focused||!Dt.relatedTarget)return;Tt.focused=!1;const{value:Xt}=Dt.target;Tt.userValue=Xt,Tt.lastCommittedValue!==Xt&&((cn=this.linkService.eventBus)==null||cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Xt,willCommit:!0,commitKey:Tt.commitKey,selStart:Dt.target.selectionStart,selEnd:Dt.target.selectionEnd}})),It(Dt)}),(Be=this.data.actions)!=null&&Be.Keystroke&&Se.addEventListener("beforeinput",Dt=>{var rr;Tt.lastCommittedValue=null;const{data:Xt,target:cn}=Dt,{value:_n,selectionStart:An,selectionEnd:Gn}=cn;let On=An,tr=Gn;switch(Dt.inputType){case"deleteWordBackward":{const cr=_n.substring(0,An).match(/\w*[^\w]*$/);cr&&(On-=cr[0].length);break}case"deleteWordForward":{const cr=_n.substring(An).match(/^[^\w]*\w*/);cr&&(tr+=cr[0].length);break}case"deleteContentBackward":An===Gn&&(On-=1);break;case"deleteContentForward":An===Gn&&(tr+=1);break}Dt.preventDefault(),(rr=this.linkService.eventBus)==null||rr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:_n,change:Xt||"",willCommit:!1,selStart:On,selEnd:tr}})}),this._setEventListeners(Se,Tt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Dt=>Dt.target.value)}if(tn&&Se.addEventListener("blur",tn),this.data.comb){const Dt=(this.data.rect[2]-this.data.rect[0])/_t;Se.classList.add("comb"),Se.style.letterSpacing=`calc(${Dt}px * var(--scale-factor) - 1ch)`}}else Se=document.createElement("div"),Se.textContent=this.data.fieldValue,Se.style.verticalAlign="middle",Se.style.display="table-cell";return this._setTextStyle(Se),this._setBackgroundColor(Se),this._setDefaultPropertiesFromJS(Se),this.container.append(Se),this.container}}class ue extends oe{constructor(Me){super(Me,{isRenderable:!!Me.data.hasOwnCanvas})}}class pe extends oe{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){const Me=this.annotationStorage,U=this.data,Se=U.id;let xe=Me.getValue(Se,{value:U.exportValue===U.fieldValue}).value;typeof xe=="string"&&(xe=xe!=="Off",Me.setValue(Se,{value:xe})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Be=document.createElement("input");return Ee.add(Be),Be.setAttribute("data-element-id",Se),Be.disabled=U.readOnly,this._setRequired(Be,this.data.required),Be.type="checkbox",Be.name=U.fieldName,xe&&Be.setAttribute("checked",!0),Be.setAttribute("exportValue",U.exportValue),Be.tabIndex=de,Be.addEventListener("change",qe=>{const{name:it,checked:_t}=qe.target;for(const Rt of this._getElementsByName(it,Se)){const Tt=_t&&Rt.exportValue===U.exportValue;Rt.domElement&&(Rt.domElement.checked=Tt),Me.setValue(Rt.id,{value:Tt})}Me.setValue(Se,{value:_t})}),Be.addEventListener("resetform",qe=>{const it=U.defaultFieldValue||"Off";qe.target.checked=it===U.exportValue}),this.enableScripting&&this.hasJSActions&&(Be.addEventListener("updatefromsandbox",qe=>{const it={value(_t){_t.target.checked=_t.detail.value!=="Off",Me.setValue(Se,{value:_t.target.checked})}};this._dispatchEventFromSandbox(it,qe)}),this._setEventListeners(Be,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],qe=>qe.target.checked)),this._setBackgroundColor(Be),this._setDefaultPropertiesFromJS(Be),this.container.append(Be),this.container}}class ee extends oe{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Me=this.annotationStorage,U=this.data,Se=U.id;let xe=Me.getValue(Se,{value:U.fieldValue===U.buttonValue}).value;typeof xe=="string"&&(xe=xe!==U.buttonValue,Me.setValue(Se,{value:xe}));const Be=document.createElement("input");if(Ee.add(Be),Be.setAttribute("data-element-id",Se),Be.disabled=U.readOnly,this._setRequired(Be,this.data.required),Be.type="radio",Be.name=U.fieldName,xe&&Be.setAttribute("checked",!0),Be.tabIndex=de,Be.addEventListener("change",qe=>{const{name:it,checked:_t}=qe.target;for(const Rt of this._getElementsByName(it,Se))Me.setValue(Rt.id,{value:!1});Me.setValue(Se,{value:_t})}),Be.addEventListener("resetform",qe=>{const it=U.defaultFieldValue;qe.target.checked=it!=null&&it===U.buttonValue}),this.enableScripting&&this.hasJSActions){const qe=U.buttonValue;Be.addEventListener("updatefromsandbox",it=>{const _t={value:Rt=>{const Tt=qe===Rt.detail.value;for(const tn of this._getElementsByName(Rt.target.name)){const It=Tt&&tn.id===Se;tn.domElement&&(tn.domElement.checked=It),Me.setValue(tn.id,{value:It})}}};this._dispatchEventFromSandbox(_t,it)}),this._setEventListeners(Be,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],it=>it.target.checked)}return this._setBackgroundColor(Be),this._setDefaultPropertiesFromJS(Be),this.container.append(Be),this.container}}class ae extends Q{constructor(Me){super(Me,{ignoreBorder:Me.data.hasAppearance})}render(){const Me=super.render();Me.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Me.title=this.data.alternativeText);const U=Me.lastChild;return this.enableScripting&&this.hasJSActions&&U&&(this._setDefaultPropertiesFromJS(U),U.addEventListener("updatefromsandbox",Se=>{this._dispatchEventFromSandbox({},Se)})),Me}}class Ae extends oe{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Me=this.annotationStorage,U=this.data.id,Se=Me.getValue(U,{value:this.data.fieldValue}),xe=document.createElement("select");Ee.add(xe),xe.setAttribute("data-element-id",U),xe.disabled=this.data.readOnly,this._setRequired(xe,this.data.required),xe.name=this.data.fieldName,xe.tabIndex=de;let Be=this.data.combo&&this.data.options.length>0;this.data.combo||(xe.size=this.data.options.length,this.data.multiSelect&&(xe.multiple=!0)),xe.addEventListener("resetform",Tt=>{const tn=this.data.defaultFieldValue;for(const It of xe.options)It.selected=It.value===tn});for(const Tt of this.data.options){const tn=document.createElement("option");tn.textContent=Tt.displayValue,tn.value=Tt.exportValue,Se.value.includes(Tt.exportValue)&&(tn.setAttribute("selected",!0),Be=!1),xe.append(tn)}let qe=null;if(Be){const Tt=document.createElement("option");Tt.value=" ",Tt.setAttribute("hidden",!0),Tt.setAttribute("selected",!0),xe.prepend(Tt),qe=()=>{Tt.remove(),xe.removeEventListener("input",qe),qe=null},xe.addEventListener("input",qe)}const it=Tt=>{const tn=Tt?"value":"textContent",{options:It,multiple:Dt}=xe;return Dt?Array.prototype.filter.call(It,Xt=>Xt.selected).map(Xt=>Xt[tn]):It.selectedIndex===-1?null:It[It.selectedIndex][tn]};let _t=it(!1);const Rt=Tt=>{const tn=Tt.target.options;return Array.prototype.map.call(tn,It=>({displayValue:It.textContent,exportValue:It.value}))};return this.enableScripting&&this.hasJSActions?(xe.addEventListener("updatefromsandbox",Tt=>{const tn={value(It){qe==null||qe();const Dt=It.detail.value,Xt=new Set(Array.isArray(Dt)?Dt:[Dt]);for(const cn of xe.options)cn.selected=Xt.has(cn.value);Me.setValue(U,{value:it(!0)}),_t=it(!1)},multipleSelection(It){xe.multiple=!0},remove(It){const Dt=xe.options,Xt=It.detail.remove;Dt[Xt].selected=!1,xe.remove(Xt),Dt.length>0&&Array.prototype.findIndex.call(Dt,_n=>_n.selected)===-1&&(Dt[0].selected=!0),Me.setValue(U,{value:it(!0),items:Rt(It)}),_t=it(!1)},clear(It){for(;xe.length!==0;)xe.remove(0);Me.setValue(U,{value:null,items:[]}),_t=it(!1)},insert(It){const{index:Dt,displayValue:Xt,exportValue:cn}=It.detail.insert,_n=xe.children[Dt],An=document.createElement("option");An.textContent=Xt,An.value=cn,_n?_n.before(An):xe.append(An),Me.setValue(U,{value:it(!0),items:Rt(It)}),_t=it(!1)},items(It){const{items:Dt}=It.detail;for(;xe.length!==0;)xe.remove(0);for(const Xt of Dt){const{displayValue:cn,exportValue:_n}=Xt,An=document.createElement("option");An.textContent=cn,An.value=_n,xe.append(An)}xe.options.length>0&&(xe.options[0].selected=!0),Me.setValue(U,{value:it(!0),items:Rt(It)}),_t=it(!1)},indices(It){const Dt=new Set(It.detail.indices);for(const Xt of It.target.options)Xt.selected=Dt.has(Xt.index);Me.setValue(U,{value:it(!0)}),_t=it(!1)},editable(It){It.target.disabled=!It.detail.editable}};this._dispatchEventFromSandbox(tn,Tt)}),xe.addEventListener("input",Tt=>{var It;const tn=it(!0);Me.setValue(U,{value:tn}),Tt.preventDefault(),(It=this.linkService.eventBus)==null||It.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:_t,changeEx:tn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(xe,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Tt=>Tt.target.value)):xe.addEventListener("input",function(Tt){Me.setValue(U,{value:it(!0)})}),this.data.combo&&this._setTextStyle(xe),this._setBackgroundColor(xe),this._setDefaultPropertiesFromJS(xe),this.container.append(xe),this.container}}class ve extends re{constructor(Me){const{data:U,elements:Se}=Me;super(Me,{isRenderable:re._hasPopupData(U)}),this.elements=Se}render(){this.container.classList.add("popupAnnotation");const Me=new te({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),U=[];for(const Se of this.elements)Se.popup=Me,U.push(Se.data.id),Se.addHighlightArea();return this.container.setAttribute("aria-controls",U.map(Se=>`${R.AnnotationPrefix}${Se}`).join(",")),this.container}}class te{constructor({container:Me,color:U,elements:Se,titleObj:xe,modificationDate:Be,contentsObj:qe,richText:it,parent:_t,rect:Rt,parentRect:Tt,open:tn}){$e(this,Ht);$e(this,qt);$e(this,rn);$e(this,ln);$e(this,Re,null);$e(this,Xe,ze(this,Ht,Ra).bind(this));$e(this,Ge,ze(this,ln,zi).bind(this));$e(this,tt,ze(this,rn,ji).bind(this));$e(this,st,ze(this,qt,Jr).bind(this));$e(this,vt,null);$e(this,ut,null);$e(this,ft,null);$e(this,gt,null);$e(this,pt,null);$e(this,Ft,null);$e(this,ot,!1);$e(this,We,null);$e(this,Ue,null);$e(this,ct,null);$e(this,At,null);$e(this,Ct,!1);var Dt;rt(this,ut,Me),rt(this,At,xe),rt(this,ft,qe),rt(this,ct,it),rt(this,pt,_t),rt(this,vt,U),rt(this,Ue,Rt),rt(this,Ft,Tt),rt(this,gt,Se);const It=O.PDFDateString.toDateObject(Be);It&&rt(this,Re,_t.l10n.get("annotation_date_string",{date:It.toLocaleDateString(),time:It.toLocaleTimeString()})),this.trigger=Se.flatMap(Xt=>Xt.getElementsToTriggerPopup());for(const Xt of this.trigger)Xt.addEventListener("click",V(this,st)),Xt.addEventListener("mouseenter",V(this,tt)),Xt.addEventListener("mouseleave",V(this,Ge)),Xt.classList.add("popupTriggerArea");for(const Xt of Se)(Dt=Xt.container)==null||Dt.addEventListener("keydown",V(this,Xe));V(this,ut).hidden=!0,tn&&ze(this,qt,Jr).call(this)}render(){if(V(this,We))return;const{page:{view:Me},viewport:{rawDims:{pageWidth:U,pageHeight:Se,pageX:xe,pageY:Be}}}=V(this,pt),qe=rt(this,We,document.createElement("div"));if(qe.className="popup",V(this,vt)){const On=qe.style.outlineColor=R.Util.makeHexColor(...V(this,vt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?qe.style.backgroundColor=`color-mix(in srgb, ${On} 30%, white)`:qe.style.backgroundColor=R.Util.makeHexColor(...V(this,vt).map(rr=>Math.floor(.7*(255-rr)+rr)))}const it=document.createElement("span");it.className="header";const _t=document.createElement("h1");if(it.append(_t),{dir:_t.dir,str:_t.textContent}=V(this,At),qe.append(it),V(this,Re)){const On=document.createElement("span");On.classList.add("popupDate"),V(this,Re).then(tr=>{On.textContent=tr}),it.append(On)}const Rt=V(this,ft),Tt=V(this,ct);if(Tt!=null&&Tt.str&&(!(Rt!=null&&Rt.str)||Rt.str===Tt.str))fe.XfaLayer.render({xfaHtml:Tt.html,intent:"richText",div:qe}),qe.lastChild.classList.add("richText","popupContent");else{const On=this._formatContents(Rt);qe.append(On)}let tn=!!V(this,Ft),It=tn?V(this,Ft):V(this,Ue);for(const On of V(this,gt))if(!It||R.Util.intersect(On.data.rect,It)!==null){It=On.data.rect,tn=!0;break}const Dt=R.Util.normalizeRect([It[0],Me[3]-It[1]+Me[1],It[2],Me[3]-It[3]+Me[1]]),cn=tn?It[2]-It[0]+5:0,_n=Dt[0]+cn,An=Dt[1],{style:Gn}=V(this,ut);Gn.left=`${100*(_n-xe)/U}%`,Gn.top=`${100*(An-Be)/Se}%`,V(this,ut).append(qe)}_formatContents({str:Me,dir:U}){const Se=document.createElement("p");Se.classList.add("popupContent"),Se.dir=U;const xe=Me.split(/(?:\r\n?|\n)/);for(let Be=0,qe=xe.length;Be<qe;++Be){const it=xe[Be];Se.append(document.createTextNode(it)),Be<qe-1&&Se.append(document.createElement("br"))}return Se}forceHide(){rt(this,Ct,this.isVisible),V(this,Ct)&&(V(this,ut).hidden=!0)}maybeShow(){V(this,Ct)&&(rt(this,Ct,!1),V(this,ut).hidden=!1)}get isVisible(){return V(this,ut).hidden===!1}}Re=new WeakMap,Xe=new WeakMap,Ge=new WeakMap,tt=new WeakMap,st=new WeakMap,vt=new WeakMap,ut=new WeakMap,ft=new WeakMap,gt=new WeakMap,pt=new WeakMap,Ft=new WeakMap,ot=new WeakMap,We=new WeakMap,Ue=new WeakMap,ct=new WeakMap,At=new WeakMap,Ct=new WeakMap,Ht=new WeakSet,Ra=function(Me){Me.altKey||Me.shiftKey||Me.ctrlKey||Me.metaKey||(Me.key==="Enter"||Me.key==="Escape"&&V(this,ot))&&ze(this,qt,Jr).call(this)},qt=new WeakSet,Jr=function(){rt(this,ot,!V(this,ot)),V(this,ot)?(ze(this,rn,ji).call(this),V(this,ut).addEventListener("click",V(this,st)),V(this,ut).addEventListener("keydown",V(this,Xe))):(ze(this,ln,zi).call(this),V(this,ut).removeEventListener("click",V(this,st)),V(this,ut).removeEventListener("keydown",V(this,Xe)))},rn=new WeakSet,ji=function(){V(this,We)||this.render(),this.isVisible?V(this,ot)&&V(this,ut).classList.add("focused"):(V(this,ut).hidden=!1,V(this,ut).style.zIndex=parseInt(V(this,ut).style.zIndex)+1e3)},ln=new WeakSet,zi=function(){V(this,ut).classList.remove("focused"),!(V(this,ot)||!this.isVisible)&&(V(this,ut).hidden=!0,V(this,ut).style.zIndex=parseInt(V(this,ut).style.zIndex)-1e3)};class _e extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Me.data.textContent,this.textPosition=Me.data.textPosition,this.annotationEditorType=R.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Me=document.createElement("div");Me.classList.add("annotationTextContent"),Me.setAttribute("role","comment");for(const U of this.textContent){const Se=document.createElement("span");Se.textContent=U,Me.append(Se)}this.container.append(Me)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=_e;class he extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});$e(this,Ve,null)}render(){this.container.classList.add("lineAnnotation");const U=this.data,{width:Se,height:xe}=le(U.rect),Be=this.svgFactory.create(Se,xe,!0),qe=rt(this,Ve,this.svgFactory.createElement("svg:line"));return qe.setAttribute("x1",U.rect[2]-U.lineCoordinates[0]),qe.setAttribute("y1",U.rect[3]-U.lineCoordinates[1]),qe.setAttribute("x2",U.rect[2]-U.lineCoordinates[2]),qe.setAttribute("y2",U.rect[3]-U.lineCoordinates[3]),qe.setAttribute("stroke-width",U.borderStyle.width||1),qe.setAttribute("stroke","transparent"),qe.setAttribute("fill","transparent"),Be.append(qe),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,Ve)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ve=new WeakMap;class Pe extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});$e(this,Ne,null)}render(){this.container.classList.add("squareAnnotation");const U=this.data,{width:Se,height:xe}=le(U.rect),Be=this.svgFactory.create(Se,xe,!0),qe=U.borderStyle.width,it=rt(this,Ne,this.svgFactory.createElement("svg:rect"));return it.setAttribute("x",qe/2),it.setAttribute("y",qe/2),it.setAttribute("width",Se-qe),it.setAttribute("height",xe-qe),it.setAttribute("stroke-width",qe||1),it.setAttribute("stroke","transparent"),it.setAttribute("fill","transparent"),Be.append(it),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,Ne)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ne=new WeakMap;class De extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});$e(this,St,null)}render(){this.container.classList.add("circleAnnotation");const U=this.data,{width:Se,height:xe}=le(U.rect),Be=this.svgFactory.create(Se,xe,!0),qe=U.borderStyle.width,it=rt(this,St,this.svgFactory.createElement("svg:ellipse"));return it.setAttribute("cx",Se/2),it.setAttribute("cy",xe/2),it.setAttribute("rx",Se/2-qe/2),it.setAttribute("ry",xe/2-qe/2),it.setAttribute("stroke-width",qe||1),it.setAttribute("stroke","transparent"),it.setAttribute("fill","transparent"),Be.append(it),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,St)}addHighlightArea(){this.container.classList.add("highlightArea")}}St=new WeakMap;class be extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});$e(this,dt,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const U=this.data,{width:Se,height:xe}=le(U.rect),Be=this.svgFactory.create(Se,xe,!0);let qe=[];for(const _t of U.vertices){const Rt=_t.x-U.rect[0],Tt=U.rect[3]-_t.y;qe.push(Rt+","+Tt)}qe=qe.join(" ");const it=rt(this,dt,this.svgFactory.createElement(this.svgElementName));return it.setAttribute("points",qe),it.setAttribute("stroke-width",U.borderStyle.width||1),it.setAttribute("stroke","transparent"),it.setAttribute("fill","transparent"),Be.append(it),this.container.append(Be),!U.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,dt)}addHighlightArea(){this.container.classList.add("highlightArea")}}dt=new WeakMap;class Te extends be{constructor(Me){super(Me),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class He extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Qe extends re{constructor(U){super(U,{isRenderable:!0,ignoreBorder:!0});$e(this,mn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=R.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const U=this.data,{width:Se,height:xe}=le(U.rect),Be=this.svgFactory.create(Se,xe,!0);for(const qe of U.inkLists){let it=[];for(const Rt of qe){const Tt=Rt.x-U.rect[0],tn=U.rect[3]-Rt.y;it.push(`${Tt},${tn}`)}it=it.join(" ");const _t=this.svgFactory.createElement(this.svgElementName);V(this,mn).push(_t),_t.setAttribute("points",it),_t.setAttribute("stroke-width",U.borderStyle.width||1),_t.setAttribute("stroke","transparent"),_t.setAttribute("fill","transparent"),!U.popupRef&&this.hasPopupData&&this._createPopup(),Be.append(_t)}return this.container.append(Be),this.container}getElementsToTriggerPopup(){return V(this,mn)}addHighlightArea(){this.container.classList.add("highlightArea")}}mn=new WeakMap,$.InkAnnotationElement=Qe;class Fe extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class nt extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class at extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ht extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class yt extends re{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=yt;class we extends re{constructor(U){var Be;super(U,{isRenderable:!0});$e(this,Ye);$e(this,Pn,null);const{filename:Se,content:xe}=this.data.file;this.filename=(0,O.getFilenameFromUrl)(Se,!0),this.content=xe,(Be=this.linkService.eventBus)==null||Be.dispatch("fileattachmentannotation",{source:this,filename:Se,content:xe})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:U,data:Se}=this;let xe;Se.hasAppearance||Se.fillAlpha===0?xe=document.createElement("div"):(xe=document.createElement("img"),xe.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Se.name)?"paperclip":"pushpin"}.svg`,Se.fillAlpha&&Se.fillAlpha<1&&(xe.style=`filter: opacity(${Math.round(Se.fillAlpha*100)}%);`)),xe.addEventListener("dblclick",ze(this,Ye,Hi).bind(this)),rt(this,Pn,xe);const{isMac:Be}=R.FeatureTest.platform;return U.addEventListener("keydown",qe=>{qe.key==="Enter"&&(Be?qe.metaKey:qe.ctrlKey)&&ze(this,Ye,Hi).call(this)}),!Se.popupRef&&this.hasPopupData?this._createPopup():xe.classList.add("popupTriggerArea"),U.append(xe),U}getElementsToTriggerPopup(){return V(this,Pn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pn=new WeakMap,Ye=new WeakSet,Hi=function(){var U;(U=this.downloadManager)==null||U.openOrDownloadData(this.container,this.content,this.filename)};class W{constructor({div:Me,accessibilityManager:U,annotationCanvasMap:Se,l10n:xe,page:Be,viewport:qe}){$e(this,zt);$e(this,wt);$e(this,Nt,null);$e(this,xt,null);$e(this,Bt,new Map);this.div=Me,rt(this,Nt,U),rt(this,xt,Se),this.l10n=xe,this.page=Be,this.viewport=qe,this.zIndex=0,this.l10n||(this.l10n=ge.NullL10n)}async render(Me){const{annotations:U}=Me,Se=this.div;(0,O.setLayerDimensions)(Se,this.viewport);const xe=new Map,Be={data:null,layer:Se,linkService:Me.linkService,downloadManager:Me.downloadManager,imageResourcesPath:Me.imageResourcesPath||"",renderForms:Me.renderForms!==!1,svgFactory:new O.DOMSVGFactory,annotationStorage:Me.annotationStorage||new B.AnnotationStorage,enableScripting:Me.enableScripting===!0,hasJSActions:Me.hasJSActions,fieldObjects:Me.fieldObjects,parent:this,elements:null};for(const qe of U){if(qe.noHTML)continue;const it=qe.annotationType===R.AnnotationType.POPUP;if(it){const Tt=xe.get(qe.id);if(!Tt)continue;Be.elements=Tt}else{const{width:Tt,height:tn}=le(qe.rect);if(Tt<=0||tn<=0)continue}Be.data=qe;const _t=ne.create(Be);if(!_t.isRenderable)continue;if(!it&&qe.popupRef){const Tt=xe.get(qe.popupRef);Tt?Tt.push(_t):xe.set(qe.popupRef,[_t])}_t.annotationEditorType>0&&V(this,Bt).set(_t.data.id,_t);const Rt=_t.render();qe.hidden&&(Rt.style.visibility="hidden"),ze(this,zt,Fa).call(this,Rt,qe.id)}ze(this,wt,Vi).call(this),await this.l10n.translate(Se)}update({viewport:Me}){const U=this.div;this.viewport=Me,(0,O.setLayerDimensions)(U,{rotation:Me.rotation}),ze(this,wt,Vi).call(this),U.hidden=!1}getEditableAnnotations(){return Array.from(V(this,Bt).values())}getEditableAnnotation(Me){return V(this,Bt).get(Me)}}Nt=new WeakMap,xt=new WeakMap,Bt=new WeakMap,zt=new WeakSet,Fa=function(Me,U){var xe;const Se=Me.firstChild||Me;Se.id=`${R.AnnotationPrefix}${U}`,this.div.append(Me),(xe=V(this,Nt))==null||xe.moveElementInDOM(this.div,Me,Se,!1)},wt=new WeakSet,Vi=function(){if(!V(this,xt))return;const Me=this.div;for(const[U,Se]of V(this,xt)){const xe=Me.querySelector(`[data-annotation-id="${U}"]`);if(!xe)continue;const{firstChild:Be}=xe;Be?Be.nodeName==="CANVAS"?Be.replaceWith(Se):Be.before(Se):xe.append(Se)}V(this,xt).clear()},$.AnnotationLayer=W},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function H(B){return Math.floor(Math.max(0,Math.min(1,B))*255).toString(16).padStart(2,"0")}function R(B){return Math.max(0,Math.min(255,255*B))}class O{static CMYK_G([Y,ge,fe,de]){return["G",1-Math.min(1,.3*Y+.59*fe+.11*ge+de)]}static G_CMYK([Y]){return["CMYK",0,0,0,1-Y]}static G_RGB([Y]){return["RGB",Y,Y,Y]}static G_rgb([Y]){return Y=R(Y),[Y,Y,Y]}static G_HTML([Y]){const ge=H(Y);return`#${ge}${ge}${ge}`}static RGB_G([Y,ge,fe]){return["G",.3*Y+.59*ge+.11*fe]}static RGB_rgb(Y){return Y.map(R)}static RGB_HTML(Y){return`#${Y.map(H).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Y,ge,fe,de]){return["RGB",1-Math.min(1,Y+de),1-Math.min(1,fe+de),1-Math.min(1,ge+de)]}static CMYK_rgb([Y,ge,fe,de]){return[R(1-Math.min(1,Y+de)),R(1-Math.min(1,fe+de)),R(1-Math.min(1,ge+de))]}static CMYK_HTML(Y){const ge=this.CMYK_RGB(Y).slice(1);return this.RGB_HTML(ge)}static RGB_CMYK([Y,ge,fe]){const de=1-Y,K=1-ge,Ee=1-fe,le=Math.min(de,K,Ee);return["CMYK",de,K,Ee,le]}}$.ColorConverters=O},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=R;const H={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};H.print_progress_percent="{{progress}}%";function R(Y,ge){switch(Y){case"find_match_count":Y=`find_match_count[${ge.total===1?"one":"other"}]`;break;case"find_match_count_limit":Y=`find_match_count_limit[${ge.limit===1?"one":"other"}]`;break}return H[Y]||""}function O(Y,ge){return ge?Y.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(fe,de)=>de in ge?ge[de]:"{{"+de+"}}"):Y}const B={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Y,ge=null,fe=R(Y,ge)){return O(fe,ge)},async translate(Y){}};$.NullL10n=B},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var R=H(25);class O{static setupStorage(Y,ge,fe,de,K){const Ee=de.getValue(ge,{value:null});switch(fe.name){case"textarea":if(Ee.value!==null&&(Y.textContent=Ee.value),K==="print")break;Y.addEventListener("input",le=>{de.setValue(ge,{value:le.target.value})});break;case"input":if(fe.attributes.type==="radio"||fe.attributes.type==="checkbox"){if(Ee.value===fe.attributes.xfaOn?Y.setAttribute("checked",!0):Ee.value===fe.attributes.xfaOff&&Y.removeAttribute("checked"),K==="print")break;Y.addEventListener("change",le=>{de.setValue(ge,{value:le.target.checked?le.target.getAttribute("xfaOn"):le.target.getAttribute("xfaOff")})})}else{if(Ee.value!==null&&Y.setAttribute("value",Ee.value),K==="print")break;Y.addEventListener("input",le=>{de.setValue(ge,{value:le.target.value})})}break;case"select":if(Ee.value!==null){Y.setAttribute("value",Ee.value);for(const le of fe.children)le.attributes.value===Ee.value?le.attributes.selected=!0:le.attributes.hasOwnProperty("selected")&&delete le.attributes.selected}Y.addEventListener("input",le=>{const ne=le.target.options,re=ne.selectedIndex===-1?"":ne[ne.selectedIndex].value;de.setValue(ge,{value:re})});break}}static setAttributes({html:Y,element:ge,storage:fe=null,intent:de,linkService:K}){const{attributes:Ee}=ge,le=Y instanceof HTMLAnchorElement;Ee.type==="radio"&&(Ee.name=`${Ee.name}-${de}`);for(const[ne,re]of Object.entries(Ee))if(re!=null)switch(ne){case"class":re.length&&Y.setAttribute(ne,re.join(" "));break;case"dataId":break;case"id":Y.setAttribute("data-element-id",re);break;case"style":Object.assign(Y.style,re);break;case"textContent":Y.textContent=re;break;default:(!le||ne!=="href"&&ne!=="newWindow")&&Y.setAttribute(ne,re)}le&&K.addLinkAttributes(Y,Ee.href,Ee.newWindow),fe&&Ee.dataId&&this.setupStorage(Y,Ee.dataId,ge,fe)}static render(Y){var Q;const ge=Y.annotationStorage,fe=Y.linkService,de=Y.xfaHtml,K=Y.intent||"display",Ee=document.createElement(de.name);de.attributes&&this.setAttributes({html:Ee,element:de,intent:K,linkService:fe});const le=[[de,-1,Ee]],ne=Y.div;if(ne.append(Ee),Y.viewport){const q=`matrix(${Y.viewport.transform.join(",")})`;ne.style.transform=q}K!=="richText"&&ne.setAttribute("class","xfaLayer xfaFont");const re=[];for(;le.length>0;){const[q,oe,se]=le.at(-1);if(oe+1===q.children.length){le.pop();continue}const ue=q.children[++le.at(-1)[1]];if(ue===null)continue;const{name:pe}=ue;if(pe==="#text"){const ae=document.createTextNode(ue.value);re.push(ae),se.append(ae);continue}const ee=(Q=ue==null?void 0:ue.attributes)!=null&&Q.xmlns?document.createElementNS(ue.attributes.xmlns,pe):document.createElement(pe);if(se.append(ee),ue.attributes&&this.setAttributes({html:ee,element:ue,storage:ge,intent:K,linkService:fe}),ue.children&&ue.children.length>0)le.push([ue,-1,ee]);else if(ue.value){const ae=document.createTextNode(ue.value);R.XfaText.shouldBuildText(pe)&&re.push(ae),ee.append(ae)}}for(const q of ne.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))q.setAttribute("readOnly",!0);return{textDivs:re}}static update(Y){const ge=`matrix(${Y.viewport.transform.join(",")})`;Y.div.style.transform=ge,Y.div.hidden=!1}}$.XfaLayer=O},(A,$,H)=>{var de,K,Ee,le,ne,re,Q,q,oe,se,ue,pe,ee,ae,Ae,La,te,Ia,he,Da,De,Oa,Te,Wi,Qe,Na,nt,Ui,ht,Ba,we,ja,J,za,ie,Ha,ye,Va,Re,dr,Ge,Gi,st,Qr,ut,ei,gt,Pr,Ft,qi,We,ti,ct,Wa,Ct,Xi,Zt,Ua,Qt,Ga,Vt,Ki,lt,ni,Ne,kr;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var R=H(1),O=H(4),B=H(29),Y=H(6),ge=H(5);const dt=class dt extends O.AnnotationEditor{constructor(Ye){super({...Ye,name:"inkEditor"});$e(this,Ae);$e(this,te);$e(this,he);$e(this,De);$e(this,Te);$e(this,Qe);$e(this,nt);$e(this,ht);$e(this,we);$e(this,J);$e(this,ie);$e(this,ye);$e(this,Re);$e(this,Ge);$e(this,st);$e(this,ut);$e(this,gt);$e(this,Ft);$e(this,We);$e(this,Qt);$e(this,Vt);$e(this,lt);$e(this,Ne);$e(this,de,0);$e(this,K,0);$e(this,Ee,this.canvasPointermove.bind(this));$e(this,le,this.canvasPointerleave.bind(this));$e(this,ne,this.canvasPointerup.bind(this));$e(this,re,this.canvasPointerdown.bind(this));$e(this,Q,new Path2D);$e(this,q,!1);$e(this,oe,!1);$e(this,se,!1);$e(this,ue,null);$e(this,pe,0);$e(this,ee,0);$e(this,ae,null);this.color=Ye.color||null,this.thickness=Ye.thickness||null,this.opacity=Ye.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ye){O.AnnotationEditor.initialize(Ye,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ye,Pt){switch(Ye){case R.AnnotationEditorParamsType.INK_THICKNESS:dt._defaultThickness=Pt;break;case R.AnnotationEditorParamsType.INK_COLOR:dt._defaultColor=Pt;break;case R.AnnotationEditorParamsType.INK_OPACITY:dt._defaultOpacity=Pt/100;break}}updateParams(Ye,Pt){switch(Ye){case R.AnnotationEditorParamsType.INK_THICKNESS:ze(this,Ae,La).call(this,Pt);break;case R.AnnotationEditorParamsType.INK_COLOR:ze(this,te,Ia).call(this,Pt);break;case R.AnnotationEditorParamsType.INK_OPACITY:ze(this,he,Da).call(this,Pt);break}}static get defaultPropertiesToUpdate(){return[[R.AnnotationEditorParamsType.INK_THICKNESS,dt._defaultThickness],[R.AnnotationEditorParamsType.INK_COLOR,dt._defaultColor||O.AnnotationEditor._defaultLineColor],[R.AnnotationEditorParamsType.INK_OPACITY,Math.round(dt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[R.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||dt._defaultThickness],[R.AnnotationEditorParamsType.INK_COLOR,this.color||dt._defaultColor||O.AnnotationEditor._defaultLineColor],[R.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??dt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ze(this,st,Qr).call(this),ze(this,ut,ei).call(this)),this.isAttachedToDOM||(this.parent.add(this),ze(this,gt,Pr).call(this)),ze(this,Ne,kr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,V(this,ue).disconnect(),rt(this,ue,null),super.remove())}setParent(Ye){!this.parent&&Ye?this._uiManager.removeShouldRescale(this):this.parent&&Ye===null&&this._uiManager.addShouldRescale(this),super.setParent(Ye)}onScaleChanging(){const[Ye,Pt]=this.parentDimensions,Nt=this.width*Ye,xt=this.height*Pt;this.setDimensions(Nt,xt)}enableEditMode(){V(this,q)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",V(this,re)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",V(this,re)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){V(this,q)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),rt(this,q,!0),this.div.classList.add("disabled"),ze(this,Ne,kr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ye){this._focusEventsAllowed&&(super.focusin(Ye),this.enableEditMode())}canvasPointerdown(Ye){Ye.button!==0||!this.isInEditMode()||V(this,q)||(this.setInForeground(),Ye.preventDefault(),Ye.type!=="mouse"&&this.div.focus(),ze(this,Qe,Na).call(this,Ye.offsetX,Ye.offsetY))}canvasPointermove(Ye){Ye.preventDefault(),ze(this,nt,Ui).call(this,Ye.offsetX,Ye.offsetY)}canvasPointerup(Ye){Ye.preventDefault(),ze(this,Ge,Gi).call(this,Ye)}canvasPointerleave(Ye){ze(this,Ge,Gi).call(this,Ye)}get isResizable(){return!this.isEmpty()&&V(this,q)}render(){if(this.div)return this.div;let Ye,Pt;this.width&&(Ye=this.x,Pt=this.y),super.render(),O.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(En=>{var wt;return(wt=this.div)==null?void 0:wt.setAttribute("aria-label",En)});const[Nt,xt,Bt,zt]=ze(this,De,Oa).call(this);if(this.setAt(Nt,xt,0,0),this.setDims(Bt,zt),ze(this,st,Qr).call(this),this.width){const[En,wt]=this.parentDimensions;this.setAspectRatio(this.width*En,this.height*wt),this.setAt(Ye*En,Pt*wt,this.width*En,this.height*wt),rt(this,se,!0),ze(this,gt,Pr).call(this),this.setDims(this.width*En,this.height*wt),ze(this,Re,dr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ze(this,ut,ei).call(this),this.div}setDimensions(Ye,Pt){const Nt=Math.round(Ye),xt=Math.round(Pt);if(V(this,pe)===Nt&&V(this,ee)===xt)return;rt(this,pe,Nt),rt(this,ee,xt),this.canvas.style.visibility="hidden";const[Bt,zt]=this.parentDimensions;this.width=Ye/Bt,this.height=Pt/zt,this.fixAndSetPosition(),V(this,q)&&ze(this,Ft,qi).call(this,Ye,Pt),ze(this,gt,Pr).call(this),ze(this,Re,dr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ye,Pt,Nt){var Be,qe,it;if(Ye instanceof B.InkAnnotationElement)return null;const xt=super.deserialize(Ye,Pt,Nt);xt.thickness=Ye.thickness,xt.color=R.Util.makeHexColor(...Ye.color),xt.opacity=Ye.opacity;const[Bt,zt]=xt.pageDimensions,En=xt.width*Bt,wt=xt.height*zt,fn=xt.parentScale,Ot=Ye.thickness/2;rt(xt,q,!0),rt(xt,pe,Math.round(En)),rt(xt,ee,Math.round(wt));const{paths:Me,rect:U,rotation:Se}=Ye;for(let{bezier:_t}of Me){_t=ze(Be=dt,Zt,Ua).call(Be,_t,U,Se);const Rt=[];xt.paths.push(Rt);let Tt=fn*(_t[0]-Ot),tn=fn*(_t[1]-Ot);for(let Dt=2,Xt=_t.length;Dt<Xt;Dt+=6){const cn=fn*(_t[Dt]-Ot),_n=fn*(_t[Dt+1]-Ot),An=fn*(_t[Dt+2]-Ot),Gn=fn*(_t[Dt+3]-Ot),On=fn*(_t[Dt+4]-Ot),tr=fn*(_t[Dt+5]-Ot);Rt.push([[Tt,tn],[cn,_n],[An,Gn],[On,tr]]),Tt=On,tn=tr}const It=ze(this,ct,Wa).call(this,Rt);xt.bezierPath2D.push(It)}const xe=ze(qe=xt,Vt,Ki).call(qe);return rt(xt,K,Math.max(O.AnnotationEditor.MIN_SIZE,xe[2]-xe[0])),rt(xt,de,Math.max(O.AnnotationEditor.MIN_SIZE,xe[3]-xe[1])),ze(it=xt,Ft,qi).call(it,En,wt),xt}serialize(){if(this.isEmpty())return null;const Ye=this.getRect(0,0),Pt=O.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:R.AnnotationEditorType.INK,color:Pt,thickness:this.thickness,opacity:this.opacity,paths:ze(this,Qt,Ga).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ye),pageIndex:this.pageIndex,rect:Ye,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};de=new WeakMap,K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakMap,se=new WeakMap,ue=new WeakMap,pe=new WeakMap,ee=new WeakMap,ae=new WeakMap,Ae=new WeakSet,La=function(Ye){const Pt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ye,ze(this,Ne,kr).call(this)},undo:()=>{this.thickness=Pt,ze(this,Ne,kr).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},te=new WeakSet,Ia=function(Ye){const Pt=this.color;this.addCommands({cmd:()=>{this.color=Ye,ze(this,Re,dr).call(this)},undo:()=>{this.color=Pt,ze(this,Re,dr).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},he=new WeakSet,Da=function(Ye){Ye/=100;const Pt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ye,ze(this,Re,dr).call(this)},undo:()=>{this.opacity=Pt,ze(this,Re,dr).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},De=new WeakSet,Oa=function(){const{parentRotation:Ye,parentDimensions:[Pt,Nt]}=this;switch(Ye){case 90:return[0,Nt,Nt,Pt];case 180:return[Pt,Nt,Pt,Nt];case 270:return[Pt,0,Nt,Pt];default:return[0,0,Pt,Nt]}},Te=new WeakSet,Wi=function(){const{ctx:Ye,color:Pt,opacity:Nt,thickness:xt,parentScale:Bt,scaleFactor:zt}=this;Ye.lineWidth=xt*Bt/zt,Ye.lineCap="round",Ye.lineJoin="round",Ye.miterLimit=10,Ye.strokeStyle=`${Pt}${(0,ge.opacityToHex)(Nt)}`},Qe=new WeakSet,Na=function(Ye,Pt){this.canvas.addEventListener("contextmenu",Y.noContextMenu),this.canvas.addEventListener("pointerleave",V(this,le)),this.canvas.addEventListener("pointermove",V(this,Ee)),this.canvas.addEventListener("pointerup",V(this,ne)),this.canvas.removeEventListener("pointerdown",V(this,re)),this.isEditing=!0,V(this,se)||(rt(this,se,!0),ze(this,gt,Pr).call(this),this.thickness||(this.thickness=dt._defaultThickness),this.color||(this.color=dt._defaultColor||O.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=dt._defaultOpacity)),this.currentPath.push([Ye,Pt]),rt(this,oe,!1),ze(this,Te,Wi).call(this),rt(this,ae,()=>{ze(this,J,za).call(this),V(this,ae)&&window.requestAnimationFrame(V(this,ae))}),window.requestAnimationFrame(V(this,ae))},nt=new WeakSet,Ui=function(Ye,Pt){const[Nt,xt]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ye===Nt&&Pt===xt)return;const Bt=this.currentPath;let zt=V(this,Q);if(Bt.push([Ye,Pt]),rt(this,oe,!0),Bt.length<=2){zt.moveTo(...Bt[0]),zt.lineTo(Ye,Pt);return}Bt.length===3&&(rt(this,Q,zt=new Path2D),zt.moveTo(...Bt[0])),ze(this,ie,Ha).call(this,zt,...Bt.at(-3),...Bt.at(-2),Ye,Pt)},ht=new WeakSet,Ba=function(){if(this.currentPath.length===0)return;const Ye=this.currentPath.at(-1);V(this,Q).lineTo(...Ye)},we=new WeakSet,ja=function(Ye,Pt){rt(this,ae,null),Ye=Math.min(Math.max(Ye,0),this.canvas.width),Pt=Math.min(Math.max(Pt,0),this.canvas.height),ze(this,nt,Ui).call(this,Ye,Pt),ze(this,ht,Ba).call(this);let Nt;if(this.currentPath.length!==1)Nt=ze(this,ye,Va).call(this);else{const wt=[Ye,Pt];Nt=[[wt,wt.slice(),wt.slice(),wt]]}const xt=V(this,Q),Bt=this.currentPath;this.currentPath=[],rt(this,Q,new Path2D);const zt=()=>{this.allRawPaths.push(Bt),this.paths.push(Nt),this.bezierPath2D.push(xt),this.rebuild()},En=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ze(this,st,Qr).call(this),ze(this,ut,ei).call(this)),ze(this,Ne,kr).call(this))};this.addCommands({cmd:zt,undo:En,mustExec:!0})},J=new WeakSet,za=function(){if(!V(this,oe))return;rt(this,oe,!1);const Ye=Math.ceil(this.thickness*this.parentScale),Pt=this.currentPath.slice(-3),Nt=Pt.map(zt=>zt[0]),xt=Pt.map(zt=>zt[1]);Math.min(...Nt)-Ye,Math.max(...Nt)+Ye,Math.min(...xt)-Ye,Math.max(...xt)+Ye;const{ctx:Bt}=this;Bt.save(),Bt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const zt of this.bezierPath2D)Bt.stroke(zt);Bt.stroke(V(this,Q)),Bt.restore()},ie=new WeakSet,Ha=function(Ye,Pt,Nt,xt,Bt,zt,En){const wt=(Pt+xt)/2,fn=(Nt+Bt)/2,Ot=(xt+zt)/2,Me=(Bt+En)/2;Ye.bezierCurveTo(wt+2*(xt-wt)/3,fn+2*(Bt-fn)/3,Ot+2*(xt-Ot)/3,Me+2*(Bt-Me)/3,Ot,Me)},ye=new WeakSet,Va=function(){const Ye=this.currentPath;if(Ye.length<=2)return[[Ye[0],Ye[0],Ye.at(-1),Ye.at(-1)]];const Pt=[];let Nt,[xt,Bt]=Ye[0];for(Nt=1;Nt<Ye.length-2;Nt++){const[U,Se]=Ye[Nt],[xe,Be]=Ye[Nt+1],qe=(U+xe)/2,it=(Se+Be)/2,_t=[xt+2*(U-xt)/3,Bt+2*(Se-Bt)/3],Rt=[qe+2*(U-qe)/3,it+2*(Se-it)/3];Pt.push([[xt,Bt],_t,Rt,[qe,it]]),[xt,Bt]=[qe,it]}const[zt,En]=Ye[Nt],[wt,fn]=Ye[Nt+1],Ot=[xt+2*(zt-xt)/3,Bt+2*(En-Bt)/3],Me=[wt+2*(zt-wt)/3,fn+2*(En-fn)/3];return Pt.push([[xt,Bt],Ot,Me,[wt,fn]]),Pt},Re=new WeakSet,dr=function(){if(this.isEmpty()){ze(this,We,ti).call(this);return}ze(this,Te,Wi).call(this);const{canvas:Ye,ctx:Pt}=this;Pt.setTransform(1,0,0,1,0,0),Pt.clearRect(0,0,Ye.width,Ye.height),ze(this,We,ti).call(this);for(const Nt of this.bezierPath2D)Pt.stroke(Nt)},Ge=new WeakSet,Gi=function(Ye){this.canvas.removeEventListener("pointerleave",V(this,le)),this.canvas.removeEventListener("pointermove",V(this,Ee)),this.canvas.removeEventListener("pointerup",V(this,ne)),this.canvas.addEventListener("pointerdown",V(this,re)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Y.noContextMenu)},10),ze(this,we,ja).call(this,Ye.offsetX,Ye.offsetY),this.addToAnnotationStorage(),this.setInBackground()},st=new WeakSet,Qr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",O.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ye=>{var Pt;return(Pt=this.canvas)==null?void 0:Pt.setAttribute("aria-label",Ye)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ut=new WeakSet,ei=function(){rt(this,ue,new ResizeObserver(Ye=>{const Pt=Ye[0].contentRect;Pt.width&&Pt.height&&this.setDimensions(Pt.width,Pt.height)})),V(this,ue).observe(this.div)},gt=new WeakSet,Pr=function(){if(!V(this,se))return;const[Ye,Pt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ye),this.canvas.height=Math.ceil(this.height*Pt),ze(this,We,ti).call(this)},Ft=new WeakSet,qi=function(Ye,Pt){const Nt=ze(this,lt,ni).call(this),xt=(Ye-Nt)/V(this,K),Bt=(Pt-Nt)/V(this,de);this.scaleFactor=Math.min(xt,Bt)},We=new WeakSet,ti=function(){const Ye=ze(this,lt,ni).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ye,this.translationY*this.scaleFactor+Ye)},ct=new WeakSet,Wa=function(Ye){const Pt=new Path2D;for(let Nt=0,xt=Ye.length;Nt<xt;Nt++){const[Bt,zt,En,wt]=Ye[Nt];Nt===0&&Pt.moveTo(...Bt),Pt.bezierCurveTo(zt[0],zt[1],En[0],En[1],wt[0],wt[1])}return Pt},Ct=new WeakSet,Xi=function(Ye,Pt,Nt){const[xt,Bt,zt,En]=Pt;switch(Nt){case 0:for(let wt=0,fn=Ye.length;wt<fn;wt+=2)Ye[wt]+=xt,Ye[wt+1]=En-Ye[wt+1];break;case 90:for(let wt=0,fn=Ye.length;wt<fn;wt+=2){const Ot=Ye[wt];Ye[wt]=Ye[wt+1]+xt,Ye[wt+1]=Ot+Bt}break;case 180:for(let wt=0,fn=Ye.length;wt<fn;wt+=2)Ye[wt]=zt-Ye[wt],Ye[wt+1]+=Bt;break;case 270:for(let wt=0,fn=Ye.length;wt<fn;wt+=2){const Ot=Ye[wt];Ye[wt]=zt-Ye[wt+1],Ye[wt+1]=En-Ot}break;default:throw new Error("Invalid rotation")}return Ye},Zt=new WeakSet,Ua=function(Ye,Pt,Nt){const[xt,Bt,zt,En]=Pt;switch(Nt){case 0:for(let wt=0,fn=Ye.length;wt<fn;wt+=2)Ye[wt]-=xt,Ye[wt+1]=En-Ye[wt+1];break;case 90:for(let wt=0,fn=Ye.length;wt<fn;wt+=2){const Ot=Ye[wt];Ye[wt]=Ye[wt+1]-Bt,Ye[wt+1]=Ot-xt}break;case 180:for(let wt=0,fn=Ye.length;wt<fn;wt+=2)Ye[wt]=zt-Ye[wt],Ye[wt+1]-=Bt;break;case 270:for(let wt=0,fn=Ye.length;wt<fn;wt+=2){const Ot=Ye[wt];Ye[wt]=En-Ye[wt+1],Ye[wt+1]=zt-Ot}break;default:throw new Error("Invalid rotation")}return Ye},Qt=new WeakSet,Ga=function(Ye,Pt,Nt,xt){var fn,Ot;const Bt=[],zt=this.thickness/2,En=Ye*Pt+zt,wt=Ye*Nt+zt;for(const Me of this.paths){const U=[],Se=[];for(let xe=0,Be=Me.length;xe<Be;xe++){const[qe,it,_t,Rt]=Me[xe],Tt=Ye*qe[0]+En,tn=Ye*qe[1]+wt,It=Ye*it[0]+En,Dt=Ye*it[1]+wt,Xt=Ye*_t[0]+En,cn=Ye*_t[1]+wt,_n=Ye*Rt[0]+En,An=Ye*Rt[1]+wt;xe===0&&(U.push(Tt,tn),Se.push(Tt,tn)),U.push(It,Dt,Xt,cn,_n,An),Se.push(It,Dt),xe===Be-1&&Se.push(_n,An)}Bt.push({bezier:ze(fn=dt,Ct,Xi).call(fn,U,xt,this.rotation),points:ze(Ot=dt,Ct,Xi).call(Ot,Se,xt,this.rotation)})}return Bt},Vt=new WeakSet,Ki=function(){let Ye=1/0,Pt=-1/0,Nt=1/0,xt=-1/0;for(const Bt of this.paths)for(const[zt,En,wt,fn]of Bt){const Ot=R.Util.bezierBoundingBox(...zt,...En,...wt,...fn);Ye=Math.min(Ye,Ot[0]),Nt=Math.min(Nt,Ot[1]),Pt=Math.max(Pt,Ot[2]),xt=Math.max(xt,Ot[3])}return[Ye,Nt,Pt,xt]},lt=new WeakSet,ni=function(){return V(this,q)?Math.ceil(this.thickness*this.parentScale):0},Ne=new WeakSet,kr=function(Ye=!1){if(this.isEmpty())return;if(!V(this,q)){ze(this,Re,dr).call(this);return}const Pt=ze(this,Vt,Ki).call(this),Nt=ze(this,lt,ni).call(this);rt(this,K,Math.max(O.AnnotationEditor.MIN_SIZE,Pt[2]-Pt[0])),rt(this,de,Math.max(O.AnnotationEditor.MIN_SIZE,Pt[3]-Pt[1]));const xt=Math.ceil(Nt+V(this,K)*this.scaleFactor),Bt=Math.ceil(Nt+V(this,de)*this.scaleFactor),[zt,En]=this.parentDimensions;this.width=xt/zt,this.height=Bt/En,this.setAspectRatio(xt,Bt);const wt=this.translationX,fn=this.translationY;this.translationX=-Pt[0],this.translationY=-Pt[1],ze(this,gt,Pr).call(this),ze(this,Re,dr).call(this),rt(this,pe,xt),rt(this,ee,Bt),this.setDims(xt,Bt);const Ot=Ye?Nt/this.scaleFactor/2:0;this.translate(wt-this.translationX-Ot,fn-this.translationY-Ot)},$e(dt,ct),$e(dt,Ct),$e(dt,Zt),Dn(dt,"_defaultColor",null),Dn(dt,"_defaultOpacity",1),Dn(dt,"_defaultThickness",1),Dn(dt,"_type","ink");let fe=dt;$.InkEditor=fe},(A,$,H)=>{var fe,de,K,Ee,le,ne,re,Q,q,oe,se,Dr,pe,Or,ae,ri,ve,Yi,_e,qa,Pe,Xa,be,Zi,He,ii,Fe,Ka;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var R=H(1),O=H(4),B=H(6),Y=H(29);const at=class at extends O.AnnotationEditor{constructor(we){super({...we,name:"stampEditor"});$e(this,se);$e(this,pe);$e(this,ae);$e(this,ve);$e(this,_e);$e(this,Pe);$e(this,be);$e(this,He);$e(this,Fe);$e(this,fe,null);$e(this,de,null);$e(this,K,null);$e(this,Ee,null);$e(this,le,null);$e(this,ne,null);$e(this,re,null);$e(this,Q,null);$e(this,q,!1);$e(this,oe,!1);rt(this,Ee,we.bitmapUrl),rt(this,le,we.bitmapFile)}static initialize(we){O.AnnotationEditor.initialize(we)}static get supportedTypes(){const we=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,R.shadow)(this,"supportedTypes",we.map(W=>`image/${W}`))}static get supportedTypesStr(){return(0,R.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(we){return this.supportedTypes.includes(we)}static paste(we,W){W.pasteEditor(R.AnnotationEditorType.STAMP,{bitmapFile:we.getAsFile()})}remove(){var we,W;V(this,de)&&(rt(this,fe,null),this._uiManager.imageManager.deleteId(V(this,de)),(we=V(this,ne))==null||we.remove(),rt(this,ne,null),(W=V(this,re))==null||W.disconnect(),rt(this,re,null)),super.remove()}rebuild(){if(!this.parent){V(this,de)&&ze(this,ae,ri).call(this);return}super.rebuild(),this.div!==null&&(V(this,de)&&ze(this,ae,ri).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(V(this,K)||V(this,fe)||V(this,Ee)||V(this,le))}get isResizable(){return!0}render(){if(this.div)return this.div;let we,W;if(this.width&&(we=this.x,W=this.y),super.render(),this.div.hidden=!0,V(this,fe)?ze(this,ve,Yi).call(this):ze(this,ae,ri).call(this),this.width){const[J,G]=this.parentDimensions;this.setAt(we*J,W*G,this.width*J,this.height*G)}return this.div}static deserialize(we,W,J){if(we instanceof Y.StampAnnotationElement)return null;const G=super.deserialize(we,W,J),{rect:ie,bitmapUrl:ce,bitmapId:ye,isSvg:Ce,accessibilityData:Re}=we;ye&&J.imageManager.isValidId(ye)?rt(G,de,ye):rt(G,Ee,ce),rt(G,q,Ce);const[Xe,Ge]=G.pageDimensions;return G.width=(ie[2]-ie[0])/Xe,G.height=(ie[3]-ie[1])/Ge,Re&&(G.altTextData=Re),G}serialize(we=!1,W=null){if(this.isEmpty())return null;const J={annotationType:R.AnnotationEditorType.STAMP,bitmapId:V(this,de),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:V(this,q),structTreeParentId:this._structTreeParentId};if(we)return J.bitmapUrl=ze(this,He,ii).call(this,!0),J.accessibilityData=this.altTextData,J;const{decorative:G,altText:ie}=this.altTextData;if(!G&&ie&&(J.accessibilityData={type:"Figure",alt:ie}),W===null)return J;W.stamps||(W.stamps=new Map);const ce=V(this,q)?(J.rect[2]-J.rect[0])*(J.rect[3]-J.rect[1]):null;if(!W.stamps.has(V(this,de)))W.stamps.set(V(this,de),{area:ce,serialized:J}),J.bitmap=ze(this,He,ii).call(this,!1);else if(V(this,q)){const ye=W.stamps.get(V(this,de));ce>ye.area&&(ye.area=ce,ye.serialized.bitmap.close(),ye.serialized.bitmap=ze(this,He,ii).call(this,!1))}return J}};fe=new WeakMap,de=new WeakMap,K=new WeakMap,Ee=new WeakMap,le=new WeakMap,ne=new WeakMap,re=new WeakMap,Q=new WeakMap,q=new WeakMap,oe=new WeakMap,se=new WeakSet,Dr=function(we,W=!1){if(!we){this.remove();return}rt(this,fe,we.bitmap),W||(rt(this,de,we.id),rt(this,q,we.isSvg)),ze(this,ve,Yi).call(this)},pe=new WeakSet,Or=function(){rt(this,K,null),this._uiManager.enableWaiting(!1),V(this,ne)&&this.div.focus()},ae=new WeakSet,ri=function(){if(V(this,de)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(V(this,de)).then(W=>ze(this,se,Dr).call(this,W,!0)).finally(()=>ze(this,pe,Or).call(this));return}if(V(this,Ee)){const W=V(this,Ee);rt(this,Ee,null),this._uiManager.enableWaiting(!0),rt(this,K,this._uiManager.imageManager.getFromUrl(W).then(J=>ze(this,se,Dr).call(this,J)).finally(()=>ze(this,pe,Or).call(this)));return}if(V(this,le)){const W=V(this,le);rt(this,le,null),this._uiManager.enableWaiting(!0),rt(this,K,this._uiManager.imageManager.getFromFile(W).then(J=>ze(this,se,Dr).call(this,J)).finally(()=>ze(this,pe,Or).call(this)));return}const we=document.createElement("input");we.type="file",we.accept=at.supportedTypesStr,rt(this,K,new Promise(W=>{we.addEventListener("change",async()=>{if(!we.files||we.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const J=await this._uiManager.imageManager.getFromFile(we.files[0]);ze(this,se,Dr).call(this,J)}W()}),we.addEventListener("cancel",()=>{this.remove(),W()})}).finally(()=>ze(this,pe,Or).call(this))),we.click()},ve=new WeakSet,Yi=function(){const{div:we}=this;let{width:W,height:J}=V(this,fe);const[G,ie]=this.pageDimensions,ce=.75;if(this.width)W=this.width*G,J=this.height*ie;else if(W>ce*G||J>ce*ie){const Xe=Math.min(ce*G/W,ce*ie/J);W*=Xe,J*=Xe}const[ye,Ce]=this.parentDimensions;this.setDims(W*ye/G,J*Ce/ie),this._uiManager.enableWaiting(!1);const Re=rt(this,ne,document.createElement("canvas"));we.append(Re),we.hidden=!1,ze(this,be,Zi).call(this,W,J),ze(this,Fe,Ka).call(this),V(this,oe)||(this.parent.addUndoableEditor(this),rt(this,oe,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},_e=new WeakSet,qa=function(we,W){var ce;const[J,G]=this.parentDimensions;this.width=we/J,this.height=W/G,this.setDims(we,W),(ce=this._initialOptions)!=null&&ce.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,V(this,Q)!==null&&clearTimeout(V(this,Q)),rt(this,Q,setTimeout(()=>{rt(this,Q,null),ze(this,be,Zi).call(this,we,W)},200))},Pe=new WeakSet,Xa=function(we,W){const{width:J,height:G}=V(this,fe);let ie=J,ce=G,ye=V(this,fe);for(;ie>2*we||ce>2*W;){const Ce=ie,Re=ce;ie>2*we&&(ie=ie>=16384?Math.floor(ie/2)-1:Math.ceil(ie/2)),ce>2*W&&(ce=ce>=16384?Math.floor(ce/2)-1:Math.ceil(ce/2));const Xe=new OffscreenCanvas(ie,ce);Xe.getContext("2d").drawImage(ye,0,0,Ce,Re,0,0,ie,ce),ye=Xe.transferToImageBitmap()}return ye},be=new WeakSet,Zi=function(we,W){we=Math.ceil(we),W=Math.ceil(W);const J=V(this,ne);if(!J||J.width===we&&J.height===W)return;J.width=we,J.height=W;const G=V(this,q)?V(this,fe):ze(this,Pe,Xa).call(this,we,W),ie=J.getContext("2d");ie.filter=this._uiManager.hcmFilter,ie.drawImage(G,0,0,G.width,G.height,0,0,we,W)},He=new WeakSet,ii=function(we){if(we){if(V(this,q)){const G=this._uiManager.imageManager.getSvgUrl(V(this,de));if(G)return G}const W=document.createElement("canvas");return{width:W.width,height:W.height}=V(this,fe),W.getContext("2d").drawImage(V(this,fe),0,0),W.toDataURL()}if(V(this,q)){const[W,J]=this.pageDimensions,G=Math.round(this.width*W*B.PixelsPerInch.PDF_TO_CSS_UNITS),ie=Math.round(this.height*J*B.PixelsPerInch.PDF_TO_CSS_UNITS),ce=new OffscreenCanvas(G,ie);return ce.getContext("2d").drawImage(V(this,fe),0,0,V(this,fe).width,V(this,fe).height,0,0,G,ie),ce.transferToImageBitmap()}return structuredClone(V(this,fe))},Fe=new WeakSet,Ka=function(){rt(this,re,new ResizeObserver(we=>{const W=we[0].contentRect;W.width&&W.height&&ze(this,_e,qa).call(this,W.width,W.height)})),V(this,re).observe(this.div)},Dn(at,"_type","stamp");let ge=at;$.StampEditor=ge}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var $=__webpack_module_cache__[A];if($!==void 0)return $.exports;var H=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](H,H.exports,__w_pdfjs_require__),H.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return B.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Y.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return ge.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(A,"DOMSVGFactory",{enumerable:!0,get:function(){return R.DOMSVGFactory}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return fe.GlobalWorkerOptions}}),Object.defineProperty(A,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return R.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return R.PixelsPerInch}}),Object.defineProperty(A,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return R.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return H.SVGGraphics}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return de.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return R.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return R.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return R.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return R.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return R.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return R.loadScript}}),Object.defineProperty(A,"noContextMenu",{enumerable:!0,get:function(){return R.noContextMenu}}),Object.defineProperty(A,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return O.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return R.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return O.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return H.version}});var $=__w_pdfjs_require__(1),H=__w_pdfjs_require__(2),R=__w_pdfjs_require__(6),O=__w_pdfjs_require__(26),B=__w_pdfjs_require__(27),Y=__w_pdfjs_require__(5),ge=__w_pdfjs_require__(29),fe=__w_pdfjs_require__(14),de=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(A){var $=reactExports,H=pdfExports;function R(X){var me=Object.create(null);return X&&Object.keys(X).forEach(function(ke){if(ke!=="default"){var Le=Object.getOwnPropertyDescriptor(X,ke);Object.defineProperty(me,ke,Le.get?Le:{enumerable:!0,get:function(){return X[ke]}})}}),me.default=X,Object.freeze(me)}var O,B=R($),Y=R(H);A.AnnotationType=void 0,(O=A.AnnotationType||(A.AnnotationType={}))[O.Text=1]="Text",O[O.Link=2]="Link",O[O.FreeText=3]="FreeText",O[O.Line=4]="Line",O[O.Square=5]="Square",O[O.Circle=6]="Circle",O[O.Polygon=7]="Polygon",O[O.Polyline=8]="Polyline",O[O.Highlight=9]="Highlight",O[O.Underline=10]="Underline",O[O.Squiggly=11]="Squiggly",O[O.StrikeOut=12]="StrikeOut",O[O.Stamp=13]="Stamp",O[O.Caret=14]="Caret",O[O.Ink=15]="Ink",O[O.Popup=16]="Popup",O[O.FileAttachment=17]="FileAttachment";var ge=function(X,me){return ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ke,Le){ke.__proto__=Le}||function(ke,Le){for(var Oe in Le)Object.prototype.hasOwnProperty.call(Le,Oe)&&(ke[Oe]=Le[Oe])},ge(X,me)};function fe(X,me){if(typeof me!="function"&&me!==null)throw new TypeError("Class extends value "+String(me)+" is not a constructor or null");function ke(){this.constructor=X}ge(X,me),X.prototype=me===null?Object.create(me):(ke.prototype=me.prototype,new ke)}var de,K=function(){return K=Object.assign||function(X){for(var me,ke=1,Le=arguments.length;ke<Le;ke++)for(var Oe in me=arguments[ke])Object.prototype.hasOwnProperty.call(me,Oe)&&(X[Oe]=me[Oe]);return X},K.apply(this,arguments)};A.TextDirection=void 0,(de=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",de.LeftToRight="LTR";var Ee,le=B.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ne=function(X){var me=[];return Object.keys(X).forEach(function(ke){ke&&X[ke]&&me.push(ke)}),me.join(" ")},re=typeof window<"u"?B.useLayoutEffect:B.useEffect,Q=function(X){var me=B.useRef(null),ke=X.once,Le=X.threshold,Oe=X.onVisibilityChanged;return re(function(){var je=me.current;if(je){var et=new IntersectionObserver(function(Ke){Ke.forEach(function(Ie){var Je=Ie.isIntersecting,Ze=Ie.intersectionRatio;Oe({isVisible:Je,ratio:Ze}),Je&&ke&&(et.unobserve(je),et.disconnect())})},{threshold:Le||0});return et.observe(je),function(){et.unobserve(je),et.disconnect()}}},[]),me},q=function(X){var me=X.children,ke=X.ignoreDirection,Le=ke!==void 0&&ke,Oe=X.size,je=Oe===void 0?24:Oe,et=B.useContext(le).direction,Ke=!Le&&et===A.TextDirection.RightToLeft,Ie="".concat(je||24,"px");return B.createElement("svg",{"aria-hidden":"true",className:ne({"rpv-core__icon":!0,"rpv-core__icon--rtl":Ke}),focusable:"false",height:Ie,viewBox:"0 0 24 24",width:Ie},me)},oe=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},se=function(X){var me=X.children,ke=X.testId,Le=X.onClick,Oe=B.useContext(le).direction===A.TextDirection.RightToLeft,je=ke?{"data-testid":ke}:{};return B.createElement("button",K({className:ne({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Oe}),type:"button",onClick:Le},je),me)},ue=function(X){var me=X.size,ke=me===void 0?"4rem":me,Le=X.testId,Oe=B.useState(!1),je=Oe[0],et=Oe[1],Ke=Le?{"data-testid":Le}:{},Ie=Q({onVisibilityChanged:function(Je){et(Je.isVisible)}});return B.createElement("div",K({},Ke,{className:ne({"rpv-core__spinner":!0,"rpv-core__spinner--animating":je}),ref:Ie,style:{height:ke,width:ke}}))},pe=function(X){var me=X.ariaLabel,ke=me===void 0?"":me,Le=X.autoFocus,Oe=Le!==void 0&&Le,je=X.placeholder,et=je===void 0?"":je,Ke=X.testId,Ie=X.type,Je=Ie===void 0?"text":Ie,Ze=X.value,Et=Ze===void 0?"":Ze,bt=X.onChange,mt=X.onKeyDown,Lt=mt===void 0?function(){}:mt,$t=B.useContext(le).direction,Mt=B.useRef(),bn=$t===A.TextDirection.RightToLeft,Jt={ref:Mt,"data-testid":"","aria-label":ke,className:ne({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":bn}),placeholder:et,value:Et,onChange:function(en){return bt(en.target.value)},onKeyDown:Lt};return Ke&&(Jt["data-testid"]=Ke),re(function(){if(Oe){var en=Mt.current;if(en){var sn=window.scrollX,Wt=window.scrollY;en.focus(),window.scrollTo(sn,Wt)}}},[]),Je==="text"?B.createElement("input",K({type:"text"},Jt)):B.createElement("input",K({type:"password"},Jt))};(function(X){X[X.ExitFullScreen=0]="ExitFullScreen",X[X.FullScreenChange=1]="FullScreenChange",X[X.FullScreenElement=2]="FullScreenElement",X[X.FullScreenEnabled=3]="FullScreenEnabled",X[X.RequestFullScreen=4]="RequestFullScreen"})(Ee||(Ee={}));var ee,ae={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Ae={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},ve={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},te=typeof window<"u",_e=te&&(Ee.FullScreenEnabled in document&&ae||Ae.FullScreenEnabled in document&&Ae||ve.FullScreenEnabled in document&&ve)||ae,he=function(){return te&&_e.FullScreenEnabled in document&&document[_e.FullScreenEnabled]===!0},Pe=function(X){return te?X[_e.ExitFullScreen]():Promise.resolve({})},De=function(){return te?document[_e.FullScreenElement]:null},be=function(X,me){var ke=B.useRef(),Le=function(){ke.current&&clearTimeout(ke.current)};return B.useEffect(function(){return function(){return Le()}},[]),B.useCallback(function(){for(var Oe=[],je=0;je<arguments.length;je++)Oe[je]=arguments[je];Le(),ke.current=setTimeout(function(){X.apply(void 0,Oe)},me)},[X,me])},Te=function(){var X=B.useRef(!1);return B.useEffect(function(){return X.current=!0,function(){X.current=!1}},[]),X},He=function(X){var me=B.useRef(X);return B.useEffect(function(){me.current=X},[X]),me.current};(function(X){X.NotRenderedYet="NotRenderedYet",X.Rendering="Rendering",X.Rendered="Rendered"})(ee||(ee={}));var Qe,Fe=-9999,nt=function(X){var me=X.doc,ke=me.numPages,Le=me.loadingTask.docId,Oe=B.useMemo(function(){return Array(ke).fill(null).map(function(Ke,Ie){return{pageIndex:Ie,renderStatus:ee.NotRenderedYet,visibility:Fe}})},[Le]),je=B.useRef({currentRenderingPage:-1,startRange:0,endRange:ke-1,visibilities:Oe}),et=function(Ke,Ie){je.current.visibilities[Ke].visibility=Ie};return{getHighestPriorityPage:function(){var Ke=je.current.visibilities.slice(je.current.startRange,je.current.endRange+1).filter(function(bt){return bt.visibility>Fe});if(!Ke.length)return-1;for(var Ie=Ke[0].pageIndex,Je=Ke[Ke.length-1].pageIndex,Ze=Ke.length,Et=0;Et<Ze;Et++){if(Ke[Et].renderStatus===ee.Rendering)return-1;if(Ke[Et].renderStatus===ee.NotRenderedYet)return Ke[Et].pageIndex}return Je+1<ke&&je.current.visibilities[Je+1].renderStatus!==ee.Rendered?Je+1:Ie-1>=0&&je.current.visibilities[Ie-1].renderStatus!==ee.Rendered?Ie-1:-1},isInRange:function(Ke){return Ke>=je.current.startRange&&Ke<=je.current.endRange},markNotRendered:function(){for(var Ke=0;Ke<ke;Ke++)je.current.visibilities[Ke].renderStatus=ee.NotRenderedYet},markRendered:function(Ke){je.current.visibilities[Ke].renderStatus=ee.Rendered},markRendering:function(Ke){je.current.currentRenderingPage!==-1&&je.current.currentRenderingPage!==Ke&&je.current.visibilities[je.current.currentRenderingPage].renderStatus===ee.Rendering&&(je.current.visibilities[je.current.currentRenderingPage].renderStatus=ee.NotRenderedYet),je.current.visibilities[Ke].renderStatus=ee.Rendering,je.current.currentRenderingPage=Ke},setOutOfRange:function(Ke){et(Ke,Fe)},setRange:function(Ke,Ie){je.current.startRange=Ke,je.current.endRange=Ie;for(var Je=0;Je<ke;Je++)(Je<Ke||Je>Ie)&&(je.current.visibilities[Je].visibility=Fe,je.current.visibilities[Je].renderStatus=ee.NotRenderedYet)},setVisibility:et}},at={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},ht=B.createContext({l10n:at,setL10n:function(){}}),yt=0,we=function(){return yt++},W=function(X,me,ke){var Le=function(Oe){var je=me.current;if(je){var et=Oe.target;if(et instanceof Element&&et.shadowRoot){var Ke=Oe.composedPath();Ke.length>0&&!je.contains(Ke[0])&&ke()}else je.contains(et)||ke()}};B.useEffect(function(){if(X){var Oe={capture:!0};return document.addEventListener("click",Le,Oe),function(){document.removeEventListener("click",Le,Oe)}}},[])},J=function(X){var me=function(ke){ke.key==="Escape"&&X()};B.useEffect(function(){return document.addEventListener("keyup",me),function(){document.removeEventListener("keyup",me)}},[])},G=function(X){var me=X.ariaControlsSuffix,ke=X.children,Le=X.closeOnClickOutside,Oe=X.closeOnEscape,je=X.onToggle,et=B.useRef(),Ke=B.useContext(le).direction===A.TextDirection.RightToLeft;return B.useEffect(function(){var Ie=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Ie}},[]),J(function(){et.current&&Oe&&je()}),W(Le,et,je),re(function(){var Ie=et.current;if(Ie){var Je=.75*document.body.clientHeight;Ie.getBoundingClientRect().height>=Je&&(Ie.style.overflow="auto",Ie.style.maxHeight="".concat(Je,"px"))}},[]),B.createElement("div",{"aria-modal":"true",className:ne({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Ke}),id:"rpv-core__modal-body-".concat(me),ref:et,role:"dialog",tabIndex:-1},ke)},ie=function(X){var me=X.children;return B.createElement("div",{className:"rpv-core__modal-overlay"},me)};A.ToggleStatus=void 0,(Qe=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",Qe.Open="Open",Qe.Toggle="Toggle";var ce,ye=function(X){var me=B.useState(X),ke=me[0],Le=me[1];return{opened:ke,toggle:function(Oe){switch(Oe){case A.ToggleStatus.Close:Le(!1);break;case A.ToggleStatus.Open:Le(!0);break;case A.ToggleStatus.Toggle:default:Le(function(je){return!je})}}}},Ce=function(X){var me=X.content,ke=X.isOpened,Le=ke!==void 0&&ke,Oe=X.target,je=ye(Le),et=je.opened,Ke=je.toggle;return B.createElement(B.Fragment,null,Oe&&Oe(Ke,et),et&&me(Ke))};A.Position=void 0,(ce=A.Position||(A.Position={})).TopLeft="TOP_LEFT",ce.TopCenter="TOP_CENTER",ce.TopRight="TOP_RIGHT",ce.RightTop="RIGHT_TOP",ce.RightCenter="RIGHT_CENTER",ce.RightBottom="RIGHT_BOTTOM",ce.BottomLeft="BOTTOM_LEFT",ce.BottomCenter="BOTTOM_CENTER",ce.BottomRight="BOTTOM_RIGHT",ce.LeftTop="LEFT_TOP",ce.LeftCenter="LEFT_CENTER",ce.LeftBottom="LEFT_BOTTOM";var Re,Xe,Ge,tt,st,vt,ut,ft,gt=function(X,me,ke,Le,Oe){re(function(){var je=me.current,et=X.current,Ke=ke.current;if(et&&je&&Ke){var Ie=Ke.getBoundingClientRect(),Je=function(bt,mt,Lt,$t){var Mt=mt.getBoundingClientRect(),bn=bt.getBoundingClientRect(),Jt=bn.height,en=bn.width,sn=0,Wt=0;switch(Lt){case A.Position.TopLeft:sn=Mt.top-Jt,Wt=Mt.left;break;case A.Position.TopCenter:sn=Mt.top-Jt,Wt=Mt.left+Mt.width/2-en/2;break;case A.Position.TopRight:sn=Mt.top-Jt,Wt=Mt.left+Mt.width-en;break;case A.Position.RightTop:sn=Mt.top,Wt=Mt.left+Mt.width;break;case A.Position.RightCenter:sn=Mt.top+Mt.height/2-Jt/2,Wt=Mt.left+Mt.width;break;case A.Position.RightBottom:sn=Mt.top+Mt.height-Jt,Wt=Mt.left+Mt.width;break;case A.Position.BottomLeft:sn=Mt.top+Mt.height,Wt=Mt.left;break;case A.Position.BottomCenter:sn=Mt.top+Mt.height,Wt=Mt.left+Mt.width/2-en/2;break;case A.Position.BottomRight:sn=Mt.top+Mt.height,Wt=Mt.left+Mt.width-en;break;case A.Position.LeftTop:sn=Mt.top,Wt=Mt.left-en;break;case A.Position.LeftCenter:sn=Mt.top+Mt.height/2-Jt/2,Wt=Mt.left-en;break;case A.Position.LeftBottom:sn=Mt.top+Mt.height-Jt,Wt=Mt.left-en}return{left:Wt+($t.left||0),top:sn+($t.top||0)}}(et,je,Le,Oe),Ze=Je.top,Et=Je.left;et.style.top="".concat(Ze-Ie.top,"px"),et.style.left="".concat(Et-Ie.left,"px")}},[])},pt=function(X){var me,ke=X.customClassName,Le=X.position;return B.createElement("div",{className:ne((me={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Le===A.Position.TopLeft,"rpv-core__arrow--tc":Le===A.Position.TopCenter,"rpv-core__arrow--tr":Le===A.Position.TopRight,"rpv-core__arrow--rt":Le===A.Position.RightTop,"rpv-core__arrow--rc":Le===A.Position.RightCenter,"rpv-core__arrow--rb":Le===A.Position.RightBottom,"rpv-core__arrow--bl":Le===A.Position.BottomLeft,"rpv-core__arrow--bc":Le===A.Position.BottomCenter,"rpv-core__arrow--br":Le===A.Position.BottomRight,"rpv-core__arrow--lt":Le===A.Position.LeftTop,"rpv-core__arrow--lc":Le===A.Position.LeftCenter,"rpv-core__arrow--lb":Le===A.Position.LeftBottom},me["".concat(ke)]=ke!=="",me))})},Ft=function(X){var me=X.ariaControlsSuffix,ke=X.children,Le=X.closeOnClickOutside,Oe=X.offset,je=X.position,et=X.targetRef,Ke=X.onClose,Ie=B.useRef(),Je=B.useRef(),Ze=B.useRef(),Et=B.useContext(le).direction===A.TextDirection.RightToLeft;W(Le,Ie,Ke),gt(Ie,et,Ze,je,Oe),re(function(){var mt=Je.current;if(mt){var Lt=.75*document.body.clientHeight;mt.getBoundingClientRect().height>=Lt&&(mt.style.overflow="auto",mt.style.maxHeight="".concat(Lt,"px"))}},[]);var bt="rpv-core__popover-body-inner-".concat(me);return B.createElement(B.Fragment,null,B.createElement("div",{ref:Ze,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{"aria-describedby":bt,className:ne({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Et}),id:"rpv-core__popover-body-".concat(me),ref:Ie,role:"dialog",tabIndex:-1},B.createElement(pt,{customClassName:"rpv-core__popover-body-arrow",position:je}),B.createElement("div",{id:bt,ref:Je},ke)))},ot=function(X){var me=X.closeOnEscape,ke=X.onClose,Le=B.useRef();return J(function(){Le.current&&me&&ke()}),B.createElement("div",{className:"rpv-core__popover-overlay",ref:Le})},We=function(X){var me=X.ariaControlsSuffix,ke=X.children,Le=X.contentRef,Oe=X.offset,je=X.position,et=X.targetRef,Ke=B.useRef(),Ie=B.useContext(le).direction===A.TextDirection.RightToLeft;return gt(Le,et,Ke,je,Oe),B.createElement(B.Fragment,null,B.createElement("div",{ref:Ke,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{className:ne({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Ie}),id:"rpv-core__tooltip-body-".concat(me),ref:Le,role:"tooltip"},B.createElement(pt,{customClassName:"rpv-core__tooltip-body-arrow",position:je}),B.createElement("div",{className:"rpv-core__tooltip-body-content"},ke)))};A.FullScreenMode=void 0,(Re=A.FullScreenMode||(A.FullScreenMode={})).Normal="Normal",Re.Entering="Entering",Re.Entered="Entered",Re.EnteredCompletely="EnteredCompletely",Re.Exitting="Exitting",Re.Exited="Exited",A.LayerRenderStatus=void 0,(Xe=A.LayerRenderStatus||(A.LayerRenderStatus={}))[Xe.PreRender=0]="PreRender",Xe[Xe.DidRender=1]="DidRender",A.PageMode=void 0,(Ge=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",Ge.Bookmarks="UseOutlines",Ge.ContentGroup="UseOC",Ge.Default="UserNone",Ge.FullScreen="FullScreen",Ge.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(tt=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",tt.WrongPassword="WrongPassword",A.RotateDirection=void 0,(st=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",st.Forward="Forward",A.ScrollMode=void 0,(vt=A.ScrollMode||(A.ScrollMode={})).Page="Page",vt.Horizontal="Horizontal",vt.Vertical="Vertical",vt.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(ut=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",ut.PageFit="PageFit",ut.PageWidth="PageWidth",A.ViewMode=void 0,(ft=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",ft.DualPageWithCover="DualPageWithCover",ft.SinglePage="SinglePage";var Ue,ct=function(X,me){return X.reduce(function(ke,Le,Oe){return Oe%me?ke[ke.length-1].push(Le):ke.push([Le]),ke},[])},At=function(X,me){switch(me[1].name){case"XYZ":return{bottomOffset:function(ke,Le){return me[3]===null?Le:me[3]},leftOffset:function(ke,Le){return me[2]===null?0:me[2]},pageIndex:X,scaleTo:me[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:X,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:me[2],leftOffset:0,pageIndex:X,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:X,scaleTo:1}}},Ct=new Map,Ht=new Map,Zt=function(X,me){return"".concat(X.loadingTask.docId,"___").concat(me.num,"R").concat(me.gen===0?"":me.gen)},qt=function(X,me,ke){Ct.set(Zt(X,me),ke)},Qt=function(X,me){if(!X)return Promise.reject("The document is not loaded yet");var ke="".concat(X.loadingTask.docId,"___").concat(me),Le=Ht.get(ke);return Le?Promise.resolve(Le):new Promise(function(Oe,je){X.getPage(me+1).then(function(et){Ht.set(ke,et),et.ref&&qt(X,et.ref,me),Oe(et)})})},rn=function(X,me){return new Promise(function(ke){new Promise(function(Le){typeof me=="string"?X.getDestination(me).then(function(Oe){Le(Oe)}):Le(me)}).then(function(Le){if(typeof Le[0]=="object"&&Le[0]!==null){var Oe=Le[0],je=function(Ke,Ie){var Je=Zt(Ke,Ie);return Ct.has(Je)?Ct.get(Je):null}(X,Oe);je===null?X.getPageIndex(Oe).then(function(Ke){qt(X,Oe,Ke),rn(X,me).then(function(Ie){return ke(Ie)})}):ke(At(je,Le))}else{var et=At(Le[0],Le);ke(et)}})})};(function(X){X[X.Solid=1]="Solid",X[X.Dashed=2]="Dashed",X[X.Beveled=3]="Beveled",X[X.Inset=4]="Inset",X[X.Underline=5]="Underline"})(Ue||(Ue={}));var Vt,ln=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),lt=function(X,me,ke,Le){var Oe=parseInt(X,10);return Oe>=me&&Oe<=ke?Oe:Le},Ve=function(X){return X.contentsObj?X.contentsObj.str:X.contents||""},Ne=function(X){return X.titleObj?X.titleObj.str:X.title||""},St=function(X){var me=X.annotation,ke=B.useContext(le).direction,Le=Ne(me),Oe=Ve(me),je=ke===A.TextDirection.RightToLeft,et=B.useRef(),Ke="";if(me.modificationDate){var Ie=function(Je){var Ze=ln.exec(Je);if(!Ze)return null;var Et=parseInt(Ze[1],10),bt=lt(Ze[2],1,12,1)-1,mt=lt(Ze[3],1,31,1),Lt=lt(Ze[4],0,23,0),$t=lt(Ze[5],0,59,0),Mt=lt(Ze[6],0,59,0),bn=Ze[7]||"Z",Jt=lt(Ze[8],0,23,0),en=lt(Ze[9],0,59,0);switch(bn){case"-":Lt+=Jt,$t+=en;break;case"+":Lt-=Jt,$t-=en}return new Date(Date.UTC(Et,bt,mt,Lt,$t,Mt))}(me.modificationDate);Ke=Ie?"".concat(Ie.toLocaleDateString(),", ").concat(Ie.toLocaleTimeString()):""}return B.useLayoutEffect(function(){if(et.current){var Je=document.querySelector('[data-annotation-id="'.concat(me.id,'"]'));if(Je){var Ze=Je;return Ze.style.zIndex+=1,function(){Ze.style.zIndex="".concat(parseInt(Ze.style.zIndex,10)-1)}}}},[]),B.createElement("div",{ref:et,className:ne({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":je}),style:{top:me.annotationType===A.AnnotationType.Popup?"":"100%"}},Le&&B.createElement(B.Fragment,null,B.createElement("div",{className:ne({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!je,"rpv-core__annotation-popup-title--rtl":je})},Le),B.createElement("div",{className:"rpv-core__annotation-popup-date"},Ke)),Oe&&B.createElement("div",{className:"rpv-core__annotation-popup-content"},Oe.split(`
`).map(function(Je,Ze){return B.createElement(B.Fragment,{key:Ze},Je,B.createElement("br",null))})))};(function(X){X.Click="Click",X.Hover="Hover"})(Vt||(Vt={}));var dt,mn=function(X){var me,ke=X.annotation,Le=X.children,Oe=X.ignoreBorder,je=X.hasPopup,et=X.isRenderable,Ke=X.page,Ie=X.viewport,Je=ke.rect,Ze=function(){var an=ye(!1),kn=an.opened,Cn=an.toggle,Mn=B.useState(Vt.Hover),xn=Mn[0],$n=Mn[1];return{opened:kn,closeOnHover:function(){xn===Vt.Hover&&Cn(A.ToggleStatus.Close)},openOnHover:function(){xn===Vt.Hover&&Cn(A.ToggleStatus.Open)},toggleOnClick:function(){switch(xn){case Vt.Click:kn&&$n(Vt.Hover),Cn(A.ToggleStatus.Toggle);break;case Vt.Hover:$n(Vt.Click),Cn(A.ToggleStatus.Open)}}}}(),Et=Ze.closeOnHover,bt=Ze.opened,mt=Ze.openOnHover,Lt=Ze.toggleOnClick,$t=(me=[Je[0],Ke.view[3]+Ke.view[1]-Je[1],Je[2],Ke.view[3]+Ke.view[1]-Je[3]],[Math.min(me[0],me[2]),Math.min(me[1],me[3]),Math.max(me[0],me[2]),Math.max(me[1],me[3])]),Mt=Je[2]-Je[0],bn=Je[3]-Je[1],Jt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Oe&&ke.borderStyle.width>0){switch(ke.borderStyle.style){case Ue.Dashed:Jt.borderStyle="dashed";break;case Ue.Solid:Jt.borderStyle="solid";break;case Ue.Underline:Jt=Object.assign({borderBottomStyle:"solid"},Jt);case Ue.Beveled:case Ue.Inset:}var en=ke.borderStyle.width;Jt.borderWidth="".concat(en,"px"),ke.borderStyle.style!==Ue.Underline&&(Mt-=2*en,bn-=2*en);var sn=ke.borderStyle,Wt=sn.horizontalCornerRadius,un=sn.verticalCornerRadius;(Wt>0||un>0)&&(Jt.borderRadius="".concat(Wt,"px / ").concat(un,"px")),ke.color?Jt.borderColor="rgb(".concat(0|ke.color[0],", ").concat(0|ke.color[1],", ").concat(0|ke.color[2],")"):Jt.borderWidth="0"}return B.createElement(B.Fragment,null,et&&Le({popup:{opened:bt,closeOnHover:Et,openOnHover:mt,toggleOnClick:Lt},slot:{attrs:{style:Object.assign({height:"".concat(bn,"px"),left:"".concat($t[0],"px"),top:"".concat($t[1],"px"),transform:"matrix(".concat(Ie.transform.join(","),")"),transformOrigin:"-".concat($t[0],"px -").concat($t[1],"px"),width:"".concat(Mt,"px")},Jt)},children:B.createElement(B.Fragment,null,je&&bt&&B.createElement(St,{annotation:ke}))}}))},Pn=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et);return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Ye=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],Et=me.borderStyle.width;return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(bt){return B.createElement("div",K({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},B.createElement("circle",{cy:Ze/2,fill:"none",rx:Je/2-Et/2,ry:Ze/2-Et/2,stroke:"transparent",strokeWidth:Et||1})),bt.slot.children)})},Pt=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=Ne(me),je=Ve(me),et=!(me.hasPopup!==!1||!Oe&&!je),Ke=function(){var Ie,Je,Ze,Et,bt=me.file;bt&&(Ie=bt.filename,Je=bt.content,Ze=typeof Je=="string"?"":URL.createObjectURL(new Blob([Je],{type:""})),(Et=document.createElement("a")).style.display="none",Et.href=Ze||Ie,Et.setAttribute("download",function(mt){var Lt=mt.split("/").pop();return Lt?Lt.split("#")[0].split("?")[0]:mt}(Ie)),document.body.appendChild(Et),Et.click(),document.body.removeChild(Et),Ze&&URL.revokeObjectURL(Ze))};return B.createElement(mn,{annotation:me,hasPopup:et,ignoreBorder:!0,isRenderable:!0,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onDoubleClick:Ke,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Nt=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et);return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},xt=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=Ne(me),je=Ve(me),et=!(!Oe&&!je),Ke=!me.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(me.parentType)!==-1;return re(function(){if(me.parentId){var Ie=document.querySelector('[data-annotation-id="'.concat(me.parentId,'"]')),Je=document.querySelector('[data-annotation-id="'.concat(me.id,'"]'));if(Ie&&Je){var Ze=parseFloat(Ie.style.left),Et=parseFloat(Ie.style.top)+parseFloat(Ie.style.height);Je.style.left="".concat(Ze,"px"),Je.style.top="".concat(Et,"px"),Je.style.transformOrigin="-".concat(Ze,"px -").concat(Et,"px")}}},[]),B.createElement(mn,{annotation:me,hasPopup:Ke,ignoreBorder:!1,isRenderable:et,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":me.id}),B.createElement(St,{annotation:me}))})},Bt=function(X){var me=X.annotation,ke=X.childAnnotation,Le=X.page,Oe=X.viewport,je=me.hasPopup===!1,et=Ne(me),Ke=Ve(me),Ie=!!(me.hasPopup||et||Ke);if(me.quadPoints&&me.quadPoints.length>0){var Je=me.quadPoints.map(function(Ze){return Object.assign({},me,{rect:[Ze[2].x,Ze[2].y,Ze[1].x,Ze[1].y],quadPoints:[]})});return B.createElement(B.Fragment,null,Je.map(function(Ze,Et){return B.createElement(Bt,{key:Et,annotation:Ze,childAnnotation:ke,page:Le,viewport:Oe})}))}return B.createElement(mn,{annotation:me,hasPopup:je,ignoreBorder:!0,isRenderable:Ie,page:Le,viewport:Oe},function(Ze){return B.createElement(B.Fragment,null,B.createElement("div",K({},Ze.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":me.id,onClick:Ze.popup.toggleOnClick,onMouseEnter:Ze.popup.openOnHover,onMouseLeave:Ze.popup.closeOnHover}),Ze.slot.children),ke&&ke.annotationType===A.AnnotationType.Popup&&Ze.popup.opened&&B.createElement(xt,{annotation:ke,page:Le,viewport:Oe}))})},zt=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],Et=me.borderStyle.width;return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(bt){return B.createElement("div",K({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),me.inkLists&&me.inkLists.length&&B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},me.inkLists.map(function(mt,Lt){return B.createElement("polyline",{key:Lt,fill:"none",stroke:"transparent",strokeWidth:Et||1,points:mt.map(function($t){return"".concat($t.x-Ie[0],",").concat(Ie[3]-$t.y)}).join(" ")})})),bt.slot.children)})},En=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],Et=me.borderStyle.width;return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(bt){return B.createElement("div",K({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},B.createElement("line",{stroke:"transparent",strokeWidth:Et||1,x1:Ie[2]-me.lineCoordinates[0],x2:Ie[2]-me.lineCoordinates[2],y1:Ie[3]-me.lineCoordinates[1],y2:Ie[3]-me.lineCoordinates[3]})),bt.slot.children)})},wt=/^([^\w]*)(javascript|data|vbscript)/im,fn=/&#(\w+)(^\w|;)?/g,Ot=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Me=/^([^:]+):/gm,U=function(X,me){var ke,Le=(ke=X||"",ke.replace(fn,function(Ke,Ie){return String.fromCharCode(Ie)})).replace(Ot,"").trim();if(!Le)return me;var Oe=Le[0];if(Oe==="."||Oe==="/")return Le;var je=Le.match(Me);if(!je)return Le;var et=je[0];return wt.test(et)?me:Le},Se=function(X){var me,ke=X.annotation,Le=X.annotationContainerRef,Oe=X.doc,je=X.outlines,et=X.page,Ke=X.pageIndex,Ie=X.scale,Je=X.viewport,Ze=X.onExecuteNamedAction,Et=X.onJumpFromLinkAnnotation,bt=X.onJumpToDest,mt=B.useRef(),Lt=je&&je.length&&ke.dest&&typeof ke.dest=="string"?(me=je.find(function(Jt){return Jt.dest===ke.dest}))===null||me===void 0?void 0:me.title:"",$t=!!(ke.url||ke.dest||ke.action||ke.unsafeUrl),Mt={};if(ke.url||ke.unsafeUrl){var bn=U(ke.url||ke.unsafeUrl,"");bn?Mt={"data-target":"external",href:bn,rel:"noopener noreferrer nofollow",target:ke.newWindow?"_blank":"",title:bn}:$t=!1}else Mt={href:"","data-annotation-link":ke.id,onClick:function(Jt){Jt.preventDefault(),ke.action?Ze(ke.action):rn(Oe,ke.dest).then(function(en){var sn=mt.current,Wt=Le.current;if(sn&&Wt){var un=sn.getBoundingClientRect();Wt.style.setProperty("height","100%"),Wt.style.setProperty("width","100%");var an=Wt.getBoundingClientRect();Wt.style.removeProperty("height"),Wt.style.removeProperty("width");var kn=(un.left-an.left)/Ie,Cn=(an.bottom-un.bottom+un.height)/Ie;Et({bottomOffset:Cn,label:Lt,leftOffset:kn,pageIndex:Ke})}bt(en)})}};return Lt&&(Mt=Object.assign({},Mt,{title:Lt,"aria-label":Lt})),B.createElement(mn,{annotation:ke,hasPopup:!1,ignoreBorder:!1,isRenderable:$t,page:et,viewport:Je},function(Jt){return B.createElement("div",K({},Jt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":ke.id,"data-testid":"core__annotation--link-".concat(ke.id)}),B.createElement("a",K({ref:mt},Mt)))})},xe=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],Et=me.borderStyle.width;return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(bt){return B.createElement("div",K({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),me.vertices&&me.vertices.length&&B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},B.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Et||1,points:me.vertices.map(function(mt){return"".concat(mt.x-Ie[0],",").concat(Ie[3]-mt.y)}).join(" ")})),bt.slot.children)})},Be=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],Et=me.borderStyle.width;return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(bt){return B.createElement("div",K({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),me.vertices&&me.vertices.length&&B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},B.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Et||1,points:me.vertices.map(function(mt){return"".concat(mt.x-Ie[0],",").concat(Ie[3]-mt.y)}).join(" ")})),bt.slot.children)})},qe=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et),Ie=me.rect,Je=Ie[2]-Ie[0],Ze=Ie[3]-Ie[1],Et=me.borderStyle.width;return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(bt){return B.createElement("div",K({},bt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":me.id,onClick:bt.popup.toggleOnClick,onMouseEnter:bt.popup.openOnHover,onMouseLeave:bt.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Ze,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Je," ").concat(Ze),width:"".concat(Je,"px")},B.createElement("rect",{height:Ze-Et,fill:"none",stroke:"transparent",strokeWidth:Et||1,x:Et/2,y:Et/2,width:Je-Et})),bt.slot.children)})},it=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et);return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},_t=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et);return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Rt=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et);return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Tt=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),B.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),B.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),B.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},tn=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),B.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),B.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),B.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),B.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),B.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),B.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),B.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),B.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),B.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},It=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),B.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Dt=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),B.createElement("path",{d:"M6 4.5L6 0.5"}),B.createElement("path",{d:"M18 4.5L18 0.5"}),B.createElement("path",{d:"M10 4.5L10 0.5"}),B.createElement("path",{d:"M14 4.5L14 0.5"}))},Xt=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),B.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),B.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},cn=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},_n=function(X){var me=X.annotation,ke=X.childAnnotation,Le=X.page,Oe=X.viewport,je=me.hasPopup===!1,et=Ne(me),Ke=Ve(me),Ie=!!(me.hasPopup||et||Ke),Je=me.name?me.name.toLowerCase():"";return B.createElement(mn,{annotation:me,hasPopup:je,ignoreBorder:!1,isRenderable:Ie,page:Le,viewport:Oe},function(Ze){return B.createElement(B.Fragment,null,B.createElement("div",K({},Ze.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":me.id,onClick:Ze.popup.toggleOnClick,onMouseEnter:Ze.popup.openOnHover,onMouseLeave:Ze.popup.closeOnHover}),Je&&B.createElement("div",{className:"rpv-core__annotation-text-icon"},Je==="check"&&B.createElement(oe,null),Je==="comment"&&B.createElement(Tt,null),Je==="help"&&B.createElement(tn,null),Je==="insert"&&B.createElement(cn,null),Je==="key"&&B.createElement(It,null),Je==="note"&&B.createElement(Dt,null),(Je==="newparagraph"||Je==="paragraph")&&B.createElement(Xt,null)),Ze.slot.children),ke&&ke.annotationType===A.AnnotationType.Popup&&Ze.popup.opened&&B.createElement(xt,{annotation:ke,page:Le,viewport:Oe}))})},An=function(X){var me=X.annotation,ke=X.page,Le=X.viewport,Oe=me.hasPopup===!1,je=Ne(me),et=Ve(me),Ke=!!(me.hasPopup||je||et);return B.createElement(mn,{annotation:me,hasPopup:Oe,ignoreBorder:!0,isRenderable:Ke,page:ke,viewport:Le},function(Ie){return B.createElement("div",K({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":me.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children)})},Gn=function(X){var me=X.annotations,ke=X.doc,Le=X.outlines,Oe=X.page,je=X.pageIndex,et=X.plugins,Ke=X.rotation,Ie=X.scale,Je=X.onExecuteNamedAction,Ze=X.onJumpFromLinkAnnotation,Et=X.onJumpToDest,bt=B.useRef(),mt=Oe.getViewport({rotation:Ke,scale:Ie}).clone({dontFlip:!0}),Lt=me.filter(function($t){return!$t.parentId});return re(function(){var $t=bt.current;$t&&et.forEach(function(Mt){Mt.onAnnotationLayerRender&&Mt.onAnnotationLayerRender({annotations:Lt,container:$t,pageIndex:je,rotation:Ke,scale:Ie})})},[]),B.createElement("div",{ref:bt,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(je)},Lt.map(function($t){var Mt=me.find(function(bn){return bn.parentId===$t.id});switch($t.annotationType){case A.AnnotationType.Caret:return B.createElement(Pn,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.Circle:return B.createElement(Ye,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.FileAttachment:return B.createElement(Pt,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.FreeText:return B.createElement(Nt,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.Highlight:return B.createElement(Bt,{key:$t.id,annotation:$t,childAnnotation:Mt,page:Oe,viewport:mt});case A.AnnotationType.Ink:return B.createElement(zt,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.Line:return B.createElement(En,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.Link:return B.createElement(Se,{key:$t.id,annotation:$t,annotationContainerRef:bt,doc:ke,outlines:Le,page:Oe,pageIndex:je,scale:Ie,viewport:mt,onExecuteNamedAction:Je,onJumpFromLinkAnnotation:Ze,onJumpToDest:Et});case A.AnnotationType.Polygon:return B.createElement(xe,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.Polyline:return B.createElement(Be,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.Popup:return B.createElement(xt,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.Square:return B.createElement(qe,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.Squiggly:return B.createElement(it,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.Stamp:return B.createElement(_t,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.StrikeOut:return B.createElement(Rt,{key:$t.id,annotation:$t,page:Oe,viewport:mt});case A.AnnotationType.Text:return B.createElement(_n,{key:$t.id,annotation:$t,childAnnotation:Mt,page:Oe,viewport:mt});case A.AnnotationType.Underline:return B.createElement(An,{key:$t.id,annotation:$t,page:Oe,viewport:mt});default:return B.createElement(B.Fragment,{key:$t.id})}}))},On=function(X){var me=X.page,ke=X.renderAnnotations,Le=Te(),Oe=B.useState({loading:!0,annotations:[]}),je=Oe[0],et=Oe[1];return B.useEffect(function(){me.getAnnotations({intent:"display"}).then(function(Ke){Le.current&&et({loading:!1,annotations:Ke})})},[]),je.loading?B.createElement(B.Fragment,null):ke(je.annotations)},tr=function(X){var me=X.doc,ke=X.outlines,Le=X.page,Oe=X.pageIndex,je=X.plugins,et=X.rotation,Ke=X.scale,Ie=X.onExecuteNamedAction,Je=X.onJumpFromLinkAnnotation,Ze=X.onJumpToDest;return B.createElement(On,{page:Le,renderAnnotations:function(Et){return B.createElement(Gn,{annotations:Et,doc:me,outlines:ke,page:Le,pageIndex:Oe,plugins:je,rotation:et,scale:Ke,onExecuteNamedAction:Ie,onJumpFromLinkAnnotation:Je,onJumpToDest:Ze})}})},rr=function(X,me){var ke=X%me;return ke===0?X:Math.floor(X-ke)},cr=function(X){var me=X.canvasLayerRef,ke=X.height,Le=X.page,Oe=X.pageIndex,je=X.plugins,et=X.rotation,Ke=X.scale,Ie=X.width,Je=X.onRenderCanvasCompleted,Ze=B.useRef();return re(function(){var Et=Ze.current;Et&&Et.cancel();var bt=me.current;bt.removeAttribute("data-testid"),je.forEach(function(an){an.onCanvasLayerRender&&an.onCanvasLayerRender({ele:bt,pageIndex:Oe,rotation:et,scale:Ke,status:A.LayerRenderStatus.PreRender})});var mt=Le.getViewport({rotation:et,scale:Ke}),Lt=window.devicePixelRatio||1,$t=Math.sqrt(16777216/(mt.width*mt.height)),Mt=Lt>$t;Mt?bt.style.transform="scale(1, 1)":bt.style.removeProperty("transform");var bn=Math.min($t,Lt),Jt=function(an,kn){var Cn,Mn;if(Math.floor(an)===an)return[an,1];var xn=1/an;if(xn>kn)return[1,kn];if(Math.floor(xn)===xn)return[1,xn];for(var $n=an>1?xn:an,qn=0,jn=1,Xn=1,Hn=1;;){var Wn=qn+Xn,Un=jn+Hn;if(Un>kn)break;$n<=Wn/Un?(Xn=(Cn=[Wn,Un])[0],Hn=Cn[1]):(qn=(Mn=[Wn,Un])[0],jn=Mn[1])}return $n<(qn/jn+Xn/Hn)/2?$n===an?[qn,jn]:[jn,qn]:$n===an?[Xn,Hn]:[Hn,Xn]}(bn,8),en=Jt[0],sn=Jt[1];bt.width=rr(mt.width*bn,en),bt.height=rr(mt.height*bn,en),bt.style.width="".concat(rr(mt.width,sn),"px"),bt.style.height="".concat(rr(mt.height,sn),"px"),bt.hidden=!0;var Wt=bt.getContext("2d",{alpha:!1}),un=Mt||Lt!==1?[bn,0,0,bn,0,0]:null;return Ze.current=Le.render({canvasContext:Wt,transform:un,viewport:mt}),Ze.current.promise.then(function(){bt.hidden=!1,bt.setAttribute("data-testid","core__canvas-layer-".concat(Oe)),je.forEach(function(an){an.onCanvasLayerRender&&an.onCanvasLayerRender({ele:bt,pageIndex:Oe,rotation:et,scale:Ke,status:A.LayerRenderStatus.DidRender})}),Je()},function(){Je()}),function(){bt&&(bt.width=0,bt.height=0)}},[]),B.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(ke,"px"),width:"".concat(Ie,"px")}},B.createElement("canvas",{ref:me}))},Nr=function(X){var me=X.height,ke=X.page,Le=X.rotation,Oe=X.scale,je=X.width,et=B.useRef();return re(function(){var Ke=et.current,Ie=ke.getViewport({rotation:Le,scale:Oe});ke.getOperatorList().then(function(Je){(function(){var Ze=et.current;Ze&&(Ze.innerHTML="")})(),new Y.SVGGraphics(ke.commonObjs,ke.objs).getSVG(Je,Ie).then(function(Ze){Ze.style.height="".concat(me,"px"),Ze.style.width="".concat(je,"px"),Ke.appendChild(Ze)})})},[]),B.createElement("div",{className:"rpv-core__svg-layer",ref:et})},Ya=function(X){var me=X.containerRef,ke=X.page,Le=X.pageIndex,Oe=X.plugins,je=X.rotation,et=X.scale,Ke=X.onRenderTextCompleted,Ie=B.useRef(),Je=function(){var Ze=me.current;Ze&&([].slice.call(Ze.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Et){return Ze.removeChild(Et)}),[].slice.call(Ze.querySelectorAll('br[role="presentation"]')).forEach(function(Et){return Ze.removeChild(Et)}))};return re(function(){var Ze=Ie.current;Ze&&Ze.cancel();var Et=me.current;if(Et){Et.removeAttribute("data-testid");var bt=ke.getViewport({rotation:je,scale:et});return Oe.forEach(function(mt){mt.onTextLayerRender&&mt.onTextLayerRender({ele:Et,pageIndex:Le,scale:et,status:A.LayerRenderStatus.PreRender})}),ke.getTextContent().then(function(mt){Je(),Ie.current=Y.renderTextLayer({container:Et,textContent:mt,textContentSource:mt,viewport:bt}),Ie.current.promise.then(function(){Et.setAttribute("data-testid","core__text-layer-".concat(Le)),[].slice.call(Et.children).forEach(function(Lt){Lt.classList.contains("rpv-core__text-layer-text--not")||Lt.classList.add("rpv-core__text-layer-text")}),Oe.forEach(function(Lt){Lt.onTextLayerRender&&Lt.onTextLayerRender({ele:Et,pageIndex:Le,scale:et,status:A.LayerRenderStatus.DidRender})}),Ke()},function(){Et.removeAttribute("data-testid"),Ke()})}),function(){var mt;Je(),(mt=Ie.current)===null||mt===void 0||mt.cancel()}}},[]),B.createElement("div",{className:"rpv-core__text-layer",ref:me})},Za=function(X){var me=X.doc,ke=X.measureRef,Le=X.outlines,Oe=X.pageIndex,je=X.pageRotation,et=X.pageSize,Ke=X.plugins,Ie=X.renderPage,Je=X.renderQueueKey,Ze=X.rotation,Et=X.scale,bt=X.shouldRender,mt=X.viewMode,Lt=X.onExecuteNamedAction,$t=X.onJumpFromLinkAnnotation,Mt=X.onJumpToDest,bn=X.onRenderCompleted,Jt=X.onRotatePage,en=Te(),sn=B.useState(null),Wt=sn[0],un=sn[1],an=B.useState(!1),kn=an[0],Cn=an[1],Mn=B.useState(!1),xn=Mn[0],$n=Mn[1],qn=B.useRef(),jn=B.useRef(),Xn=Math.abs(Ze+je)%180==0,Hn=et.pageWidth*Et,Wn=et.pageHeight*Et,Un=Xn?Hn:Wn,Vn=Xn?Wn:Hn,er=(et.rotation+Ze+je)%360,lr=B.useRef(0),sr=Ie||function(Zn){return B.createElement(B.Fragment,null,Zn.canvasLayer.children,Zn.textLayer.children,Zn.annotationLayer.children)};return B.useEffect(function(){un(null),Cn(!1),$n(!1)},[je,Ze,Et]),B.useEffect(function(){bt&&en.current&&!Wt&&Qt(me,Oe).then(function(Zn){en.current&&(lr.current=Je,un(Zn))})},[bt,Wt]),B.useEffect(function(){kn&&xn&&(Je!==lr.current?(un(null),Cn(!1),$n(!1)):bn(Oe))},[kn,xn]),B.createElement("div",{className:ne({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":mt===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":mt===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":mt===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Oe),ref:ke,style:{height:"".concat(Vn,"px"),width:"".concat(Un,"px")}},Wt?B.createElement(B.Fragment,null,sr({annotationLayer:{attrs:{},children:B.createElement(tr,{doc:me,outlines:Le,page:Wt,pageIndex:Oe,plugins:Ke,rotation:er,scale:Et,onExecuteNamedAction:Lt,onJumpFromLinkAnnotation:$t,onJumpToDest:Mt})},canvasLayer:{attrs:{},children:B.createElement(cr,{canvasLayerRef:qn,height:Vn,page:Wt,pageIndex:Oe,plugins:Ke,rotation:er,scale:Et,width:Un,onRenderCanvasCompleted:function(){en.current&&Cn(!0)}})},canvasLayerRendered:kn,doc:me,height:Vn,pageIndex:Oe,rotation:er,scale:Et,svgLayer:{attrs:{},children:B.createElement(Nr,{height:Vn,page:Wt,rotation:er,scale:Et,width:Un})},textLayer:{attrs:{},children:B.createElement(Ya,{containerRef:jn,page:Wt,pageIndex:Oe,plugins:Ke,rotation:er,scale:Et,onRenderTextCompleted:function(){en.current&&$n(!0)}})},textLayerRendered:xn,width:Un,markRendered:bn,onRotatePage:function(Zn){return Jt(Oe,Zn)}}),Ke.map(function(Zn,nr){return Zn.renderPageLayer?B.createElement(B.Fragment,{key:nr},Zn.renderPageLayer({canvasLayerRef:qn,canvasLayerRendered:kn,doc:me,height:Vn,pageIndex:Oe,rotation:er,scale:Et,textLayerRef:jn,textLayerRendered:xn,width:Un})):B.createElement(B.Fragment,{key:nr})})):B.createElement(ue,{testId:"core__page-layer-loading-".concat(Oe)}))},Ja=function(X,me){var ke=me.rect;return X.height!==ke.height||X.width!==ke.width?ke:X};(function(X){X.Horizontal="Horizontal",X.Vertical="Vertical",X.Both="Both"})(dt||(dt={}));var Qa=function(X){return 1-Math.pow(1-X,4)},Br=1e-4,Ji={left:0,top:0},Qi={capture:!1,passive:!0},eo=function(X){var me=X.elementRef,ke=X.enableSmoothScroll,Le=X.isRtl,Oe=X.scrollDirection,je=X.onSmoothScroll,et=B.useState(Ji),Ke=et[0],Ie=et[1],Je=B.useState(me.current),Ze=Je[0],Et=Je[1],bt=Le?-1:1,mt=B.useRef(Oe);mt.current=Oe;var Lt=B.useRef(Ji),$t=B.useRef(!0),Mt=B.useCallback(function(){$t.current=!0,ke&&Ie(Lt.current),je(!1)},[]),bn=B.useCallback(function(){if(Ze){switch(mt.current){case dt.Horizontal:Lt.current={left:bt*Ze.scrollLeft,top:0};break;case dt.Both:Lt.current={left:bt*Ze.scrollLeft,top:Ze.scrollTop};break;case dt.Vertical:default:Lt.current={left:0,top:Ze.scrollTop}}ke&&!$t.current||Ie(Lt.current)}},[Ze]);re(function(){Et(me.current)}),re(function(){if(Ze)return Ze.addEventListener("scroll",bn,Qi),function(){Ze.removeEventListener("scroll",bn,Qi)}},[Ze]);var Jt=B.useCallback(function(en,sn){var Wt=me.current;if(!Wt)return Promise.resolve();var un={left:0,top:0};switch(mt.current){case dt.Horizontal:un.left=bt*en.left;break;case dt.Both:un.left=bt*en.left,un.top=en.top;break;case dt.Vertical:default:un.top=en.top}return sn?($t.current=!1,je(!0),new Promise(function(an,kn){(function(Cn,Mn,xn,$n,qn,jn){qn===void 0&&(qn=function(nr){return nr}),jn===void 0&&(jn=function(){});var Xn=0,Hn=0,Wn=!1;switch(Mn){case dt.Horizontal:Hn=Cn.scrollLeft,Xn=0;case dt.Both:Hn=Cn.scrollLeft,Xn=Cn.scrollTop;break;case dt.Vertical:default:Hn=0,Xn=Cn.scrollTop}var Un=function(){Wn||(Wn=!0,Cn.scrollLeft=xn.left,Cn.scrollTop=xn.top,jn())};if(Math.abs(Xn-xn.top)<=Br&&Mn===dt.Vertical)Un();else if(Math.abs(Hn-xn.left)<=Br&&Mn===dt.Horizontal)Un();else{var Vn,er=-1,lr=Hn-xn.left,sr=Xn-xn.top,Zn=function(nr){er===-1&&(er=nr);var ur=nr-er,on=Math.min(ur/$n,1),nn=qn(on),Ut={left:Hn-lr*nn,top:Xn-sr*nn};switch(Mn){case dt.Horizontal:Cn.scrollLeft=Ut.left;break;case dt.Both:Cn.scrollLeft=Ut.left,Cn.scrollTop=Ut.top;break;case dt.Vertical:default:Cn.scrollTop=Ut.top}Math.abs(Ut.top-xn.top)<=Br&&Math.abs(Ut.left-xn.left)<=Br&&!Wn&&(window.cancelAnimationFrame(Vn),Un()),ur<$n?Vn=window.requestAnimationFrame(Zn):window.cancelAnimationFrame(Vn)};Vn=window.requestAnimationFrame(Zn)}})(Wt,mt.current,un,400,Qa,function(){Mt(),an()})})):new Promise(function(an,kn){switch(mt.current){case dt.Horizontal:Wt.scrollLeft=un.left;break;case dt.Both:Wt.scrollLeft=un.left,Wt.scrollTop=un.top;break;case dt.Vertical:default:Wt.scrollTop=un.top}an()})},[me]);return{scrollOffset:Ke,scrollTo:Jt}},Mr=function(X,me,ke){return Math.max(X,Math.min(ke,me))},to=function(X,me){if(me!==A.ViewMode.DualPageWithCover)return 0;if(!function(Oe){var je=Oe.length;if(je===1)return!1;for(var et=1;et<je;et++)if(Oe[et].height!==Oe[0].height||Oe[et].width!==Oe[0].width)return!0;return!1}(X))return 2*X[0].width;var ke=ct(X.slice(1),2).map(function(Oe){return Oe.length===2?Oe[0].width+Oe[1].width:Oe[0].width}),Le=[X[0].width].concat(ke);return Math.max.apply(Math,Le)},no={left:0,top:0},ro={left:0,top:0},ai={left:0,top:0},io={left:0,top:0},ao={height:0,width:0},ea={left:0,top:0},ta="data-virtual-index",oo=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],so=function(X){var me=X.enableSmoothScroll,ke=X.isRtl,Le=X.numberOfItems,Oe=X.parentRef,je=X.setRenderRange,et=X.sizes,Ke=X.scrollMode,Ie=X.viewMode,Je=B.useState(!1),Ze=Je[0],Et=Je[1],bt=B.useCallback(function(on){return Et(on)},[]),mt=B.useRef(Ke);mt.current=Ke;var Lt=B.useRef(Ie);Lt.current=Ie;var $t=Ke===A.ScrollMode.Wrapped||Ie===A.ViewMode.DualPageWithCover||Ie===A.ViewMode.DualPage?dt.Both:Ke===A.ScrollMode.Horizontal?dt.Horizontal:dt.Vertical,Mt=eo({elementRef:Oe,enableSmoothScroll:me,isRtl:ke,scrollDirection:$t,onSmoothScroll:bt}),bn=Mt.scrollOffset,Jt=Mt.scrollTo,en=function(on){var nn=on.elementRef,Ut=B.useState(nn.current),Kt=Ut[0],Gt=Ut[1],dn=B.useRef(!1),hn=B.useReducer(Ja,{height:0,width:0}),Yt=hn[0],jt=hn[1];return re(function(){nn.current!==Kt&&Gt(nn.current)}),re(function(){if(Kt&&!dn.current){dn.current=!0;var gn=Kt.getBoundingClientRect(),yn=gn.height,Nn=gn.width;jt({rect:{height:yn,width:Nn}})}},[Kt]),B.useEffect(function(){if(Kt){var gn=new ResizeObserver(function(yn,Nn){yn.forEach(function(Ln){if(Ln.target===Kt){var Jn=Ln.contentRect,ir=Jn.height,vn=Jn.width;jt({rect:{height:ir,width:vn}})}})});return gn.observe(Kt),function(){gn.unobserve(Kt)}}},[Kt]),Yt}({elementRef:Oe}),sn=B.useRef({scrollOffset:ea,measurements:[]});sn.current.scrollOffset=bn;var Wt=B.useMemo(function(){return Array(Le).fill(-1)},[]),un=B.useState(Wt),an=un[0],kn=un[1],Cn=B.useMemo(function(){var on=new IntersectionObserver(function(nn){nn.forEach(function(Ut){var Kt=Ut.isIntersecting?Ut.intersectionRatio:-1,Gt=Ut.target.getAttribute(ta);if(Gt){var dn=parseInt(Gt,10);0<=dn&&dn<Le&&kn(function(hn){return hn[dn]=Kt,function(Yt,jt,gn){for(var yn,Nn=0,Ln=jt.length;Nn<Ln;Nn++)!yn&&Nn in jt||(yn||(yn=Array.prototype.slice.call(jt,0,Nn)),yn[Nn]=jt[Nn]);return Yt.concat(yn||Array.prototype.slice.call(jt))}([],hn)})}})},{threshold:oo});return on},[]),Mn=B.useMemo(function(){return Ke===A.ScrollMode.Page&&Ie===A.ViewMode.SinglePage?function(on,nn,Ut){for(var Kt=[],Gt=0;Gt<on;Gt++){var dn={height:Math.max(nn.height,Ut[Gt].height),width:Math.max(nn.width,Ut[Gt].width)},hn=Gt===0?io:Kt[Gt-1].end,Yt={left:hn.left+dn.width,top:hn.top+dn.height};Kt[Gt]={index:Gt,start:hn,size:dn,end:Yt,visibility:-1}}return Kt}(Le,en,et):Ie===A.ViewMode.DualPageWithCover?function(on,nn,Ut,Kt){for(var Gt=[],dn=0,hn=0,Yt=ai,jt=0;jt<on;jt++){var gn=jt===0?{height:Kt===A.ScrollMode.Page?Math.max(nn.height,Ut[jt].height):Ut[jt].height,width:Kt===A.ScrollMode.Page?Math.max(nn.width,Ut[jt].width):Ut[jt].width}:{height:Kt===A.ScrollMode.Page?Math.max(nn.height,Ut[jt].height):Ut[jt].height,width:Math.max(nn.width/2,Ut[jt].width)};Kt===A.ScrollMode.Page?Yt=jt===0?ai:{left:jt%2==0?gn.width:0,top:Math.floor((jt-1)/2)*gn.height+Gt[0].end.top}:jt===0?(Yt=ai,dn=Ut[0].height,hn=0):jt%2==1?(Yt={left:0,top:dn+=hn},hn=jt===on-1?Ut[jt].height:Math.max(Ut[jt].height,Ut[jt+1].height)):Yt={left:Gt[jt-1].end.left,top:dn};var yn={left:Yt.left+gn.width,top:Yt.top+gn.height};Gt[jt]={index:jt,start:Yt,size:gn,end:yn,visibility:-1}}return Gt}(Le,en,et,Ke):Ie===A.ViewMode.DualPage?function(on,nn,Ut,Kt){for(var Gt=[],dn=0,hn=0,Yt=ro,jt=0;jt<on;jt++){var gn={height:Kt===A.ScrollMode.Page?Math.max(nn.height,Ut[jt].height):Ut[jt].height,width:Math.max(nn.width/2,Ut[jt].width)};Kt===A.ScrollMode.Page?Yt={left:jt%2==0?0:gn.width,top:Math.floor(jt/2)*gn.height}:jt%2==0?(Yt={left:0,top:dn+=hn},hn=jt===on-1?Ut[jt].height:Math.max(Ut[jt].height,Ut[jt+1].height)):Yt={left:Gt[jt-1].end.left,top:dn};var yn={left:Yt.left+gn.width,top:Yt.top+gn.height};Gt[jt]={index:jt,start:Yt,size:gn,end:yn,visibility:-1}}return Gt}(Le,en,et,Ke):function(on,nn,Ut,Kt){for(var Gt=[],dn=0,hn={left:0,top:0},Yt=0,jt=no,gn=0;gn<on;gn++){var yn=Ut[gn];if(gn===0)dn=yn.width,hn={left:0,top:0},Yt=yn.height;else switch(Kt){case A.ScrollMode.Wrapped:(dn+=yn.width)<nn.width?(jt={left:Gt[gn-1].end.left,top:hn.top},Yt=Math.max(Yt,yn.height)):(dn=yn.width,hn={left:(jt={left:hn.left,top:hn.top+Yt}).left,top:jt.top},Yt=yn.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:jt=Gt[gn-1].end}var Nn={left:jt.left+yn.width,top:jt.top+yn.height};Gt[gn]={index:gn,start:jt,size:yn,end:Nn,visibility:-1}}return Gt}(Le,en,et,Ke)},[Ke,et,Ie,en]),xn=Mn[Le-1]?{height:Mn[Le-1].end.top,width:Mn[Le-1].end.left}:ao;sn.current.measurements=Mn;var $n=B.useMemo(function(){var on=function(gn,yn,Nn,Ln){var Jn=0;switch(gn){case dt.Horizontal:Jn=Ln.left;break;case dt.Vertical:default:Jn=Ln.top}var ir=yn.length-1,vn=function(Fn,hr,yr,zr){for(;Fn<=hr;){var vr=(Fn+hr)/2|0,xr=zr(vr);if(xr<yr)Fn=vr+1;else{if(!(xr>yr))return vr;hr=vr-1}}return Fn>0?Fn-1:0}(0,ir,Jn,function(Fn){switch(gn){case dt.Horizontal:return yn[Fn].start.left;case dt.Both:case dt.Vertical:default:return yn[Fn].start.top}});if(gn===dt.Both)for(var Qn=yn[vn].start.top;vn-1>=0&&yn[vn-1].start.top===Qn&&yn[vn-1].start.left>=Ln.left;)vn--;for(var Bn=vn;Bn<=ir;){var zn={top:yn[Bn].start.top-Ln.top,left:yn[Bn].start.left-Ln.left},Kn={height:Nn.height-zn.top,width:Nn.width-zn.left};if(gn===dt.Horizontal&&Kn.width<0||gn===dt.Vertical&&Kn.height<0||gn===dt.Both&&(Kn.width<0||Kn.height<0))break;Bn++}return{start:vn,end:Bn}}($t,Mn,en,bn),nn=on.start,Ut=on.end,Kt=an.slice(Mr(0,Le,nn),Mr(0,Le,Ut)),Gt=nn+Kt.reduce(function(gn,yn,Nn,Ln){return yn>Ln[gn]?Nn:gn},0),dn=Gt=Mr(0,Le-1,Gt),hn=je({endPage:Ut,numPages:Le,startPage:nn}),Yt=hn.startPage,jt=hn.endPage;switch(Yt=Math.max(Yt,0),jt=Math.min(jt,Le-1),Ie){case A.ViewMode.DualPageWithCover:Gt>0&&(dn=Gt%2==1?Gt:Gt-1),Yt=Yt===0?0:Yt%2==1?Yt:Yt-1,Le-(jt=jt%2==1?jt-1:jt)<=2&&(jt=Le-1);break;case A.ViewMode.DualPage:dn=Gt%2==0?Gt:Gt-1,Yt=Yt%2==0?Yt:Yt-1,jt=jt%2==1?jt:jt-1;break;case A.ViewMode.SinglePage:default:dn=Gt}return{startPage:Yt,endPage:jt,maxVisbilityIndex:dn}},[Mn,en,bn,Ie,an]),qn=$n.startPage,jn=$n.endPage,Xn=$n.maxVisbilityIndex,Hn=B.useMemo(function(){for(var on=[],nn=function(Kt){var Gt=Mn[Kt],dn=K(K({},Gt),{visibility:an[Kt]!==void 0?an[Kt]:-1,measureRef:function(hn){hn&&(hn.setAttribute(ta,"".concat(Kt)),Cn.observe(hn))}});on.push(dn)},Ut=qn;Ut<=jn;Ut++)nn(Ut);return on},[qn,jn,an,Mn]),Wn=B.useCallback(function(on,nn){var Ut=sn.current.measurements[Mr(0,Le-1,on)],Kt=mt.current===A.ScrollMode.Page?ea:nn;return Ut?Jt({left:Kt.left+Ut.start.left,top:Kt.top+Ut.start.top},me):Promise.resolve()},[Jt,me]),Un=B.useCallback(function(on,nn){var Ut=sn.current.measurements,Kt=Ut[on].start,Gt=Ut.find(function(hn){return hn.start.top-Kt.top>1e-12});if(!Gt)return Promise.resolve();var dn=Gt.index;switch(Lt.current){case A.ViewMode.DualPage:dn=dn%2==0?dn:dn+1;break;case A.ViewMode.DualPageWithCover:dn=dn%2==1?dn:dn+1}return Wn(dn,nn)},[]),Vn=B.useCallback(function(on,nn){for(var Ut=sn.current.measurements,Kt=Ut[on].start,Gt=on,dn=!1,hn=Le-1;hn>=0;hn--)if(Kt.top-Ut[hn].start.top>1e-12){dn=!0,Gt=Ut[hn].index;break}if(!dn)return Promise.resolve();switch(Lt.current){case A.ViewMode.DualPage:Gt=Gt%2==0?Gt:Gt-1;break;case A.ViewMode.DualPageWithCover:Gt=Gt%2==0?Gt-1:Gt}return Gt===on&&(Gt=on-1),Wn(Gt,nn)},[]),er=B.useCallback(function(on,nn){if(Lt.current===A.ViewMode.DualPageWithCover||Lt.current===A.ViewMode.DualPage)return Un(on,nn);switch(mt.current){case A.ScrollMode.Wrapped:return Un(on,nn);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Wn(on+1,nn)}},[]),lr=B.useCallback(function(on,nn){if(Lt.current===A.ViewMode.DualPageWithCover||Lt.current===A.ViewMode.DualPage)return Vn(on,nn);switch(mt.current){case A.ScrollMode.Wrapped:return Vn(on,nn);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return Wn(on-1,nn)}},[]),sr=B.useCallback(function(){return function(on,nn){switch(nn){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(on.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(on.height,"px"),width:"100%"}}}(xn,mt.current)},[xn]),Zn=B.useCallback(function(on){return function(nn,Ut,Kt){return Kt!==A.ScrollMode.Page?{}:{height:"".concat(Ut.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(nn.start.top,"px)")}}(on,en,mt.current)},[en]),nr=B.useCallback(function(on){return function(nn,Ut,Kt,Gt,dn){var hn,Yt,jt,gn,yn,Nn,Ln,Jn=Ut?"right":"left",ir=Ut?-1:1,vn=Kt.length,Qn=nn.start.left*ir,Bn=nn.size,zn=Bn.height,Kn=Bn.width;if(Gt===A.ViewMode.DualPageWithCover){var Fn=dn===A.ScrollMode.Page?0:nn.start.top;return nn.index===0||vn%2==0&&nn.index===vn-1?((hn={height:"".concat(zn,"px"),minWidth:"".concat(to(Kt,Gt),"px"),width:"100%"})[Jn]=0,hn.position="absolute",hn.top=0,hn.transform="translate(".concat(Qn,"px, ").concat(Fn,"px)"),hn):((Yt={height:"".concat(zn,"px"),width:"".concat(Kn,"px")})[Jn]=0,Yt.position="absolute",Yt.top=0,Yt.transform="translate(".concat(Qn,"px, ").concat(Fn,"px)"),Yt)}if(Gt===A.ViewMode.DualPage)return(jt={height:"".concat(zn,"px"),width:"".concat(Kn,"px")})[Jn]=0,jt.position="absolute",jt.top=0,jt.transform="translate(".concat(Qn,"px, ").concat(dn===A.ScrollMode.Page?0:nn.start.top,"px)"),jt;switch(dn){case A.ScrollMode.Horizontal:return(gn={height:"100%",width:"".concat(Kn,"px")})[Jn]=0,gn.position="absolute",gn.top=0,gn.transform="translateX(".concat(Qn,"px)"),gn;case A.ScrollMode.Page:return(yn={height:"".concat(zn,"px"),width:"".concat(Kn,"px")})[Jn]=0,yn.position="absolute",yn.top=0,yn;case A.ScrollMode.Wrapped:return(Nn={height:"".concat(zn,"px"),width:"".concat(Kn,"px")})[Jn]=0,Nn.position="absolute",Nn.top=0,Nn.transform="translate(".concat(Qn,"px, ").concat(nn.start.top,"px)"),Nn;case A.ScrollMode.Vertical:default:return(Ln={height:"".concat(zn,"px"),width:"100%"})[Jn]=0,Ln.position="absolute",Ln.top=0,Ln.transform="translateY(".concat(nn.start.top,"px)"),Ln}}(on,ke,et,Lt.current,mt.current)},[ke,et]),ur=B.useCallback(function(on,nn){var Ut=sn.current,Kt=Ut.measurements,Gt=Ut.scrollOffset,dn=Kt[Mr(0,Le-1,nn)];if(dn){var hn=mt.current===A.ScrollMode.Page?{left:dn.start.left,top:dn.start.top}:{left:Gt.left*on,top:Gt.top*on};return Jt(hn,!1)}return Promise.resolve()},[]);return B.useEffect(function(){return function(){Cn.disconnect()}},[]),{boundingClientRect:en,isSmoothScrolling:Ze,startPage:qn,endPage:jn,maxVisbilityIndex:Xn,virtualItems:Hn,getContainerStyles:sr,getItemContainerStyles:Zn,getItemStyles:nr,scrollToItem:Wn,scrollToNextItem:er,scrollToPreviousItem:lr,zoom:ur}},oi=function(X,me,ke,Le,Oe,je){var et=ke;switch(!0){case(Oe===A.ViewMode.DualPageWithCover&&je>=3):case(Oe===A.ViewMode.DualPage&&je>=3):et=2*ke;break;default:et=ke}switch(Le){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((X.clientWidth-17)/et,(X.clientHeight-16)/me);case A.SpecialZoomLevel.PageWidth:return(X.clientWidth-17)/et}},co=function(X){var me,ke,Le=X.getCurrentPage,Oe=(me=50,ke=B.useRef([]),B.useEffect(function(){return function(){ke.current=[]}},[]),{push:function(Je){var Ze=ke.current;Ze.length+1>me&&Ze.shift(),Ze.push(Je),ke.current=Ze},map:function(Je){return ke.current.map(function(Ze){return Je(Ze)})},pop:function(){var Je=ke.current;if(Je.length===0)return null;var Ze=Je.pop();return ke.current=Je,Ze}}),je=function(Je){var Ze=B.useRef([]);return B.useEffect(function(){return function(){Ze.current=[]}},[]),{dequeue:function(){var Et=Ze.current;if(Et.length===0)return null;var bt=Et.shift();return Ze.current=Et,bt||null},enqueue:function(Et){var bt=Ze.current;bt.length+1>Je&&bt.pop(),Ze.current=[Et].concat(bt)},map:function(Et){return Ze.current.map(function(bt){return Et(bt)})}}}(50),et=function(){var Je=je.dequeue();return Je&&Oe.push(Je),Je&&Je.pageIndex===Le()?et():Je},Ke=function(){var Je=Oe.pop();return Je&&je.enqueue(Je),Je&&Je.pageIndex===Le()?Ke():Je},Ie=B.useCallback(function(Je){Oe.push(Je)},[]);return{getNextDestination:et,getPreviousDestination:Ke,markVisitedDestination:Ie}},na=function(X){var me=[];return X.map(function(ke){me=me.concat(ke).concat(function(Le){var Oe=[];return Le.items&&Le.items.length>0&&(Oe=Oe.concat(na(Le.items))),Oe}(ke))}),me},ra={capture:!1,passive:!0},lo={height:0,width:0},si={height:0,width:0},uo=function(X){var me=X.getCurrentPage,ke=X.getCurrentScrollMode,Le=X.jumpToPage,Oe=X.targetRef,je=B.useState(A.FullScreenMode.Normal),et=je[0],Ke=je[1],Ie=function(){var an=B.useState(lo),kn=an[0],Cn=an[1],Mn=be(function(){Cn({height:window.innerHeight,width:window.innerWidth})},100);return re(function(){return window.addEventListener("resize",Mn,ra),function(){window.removeEventListener("resize",Mn,ra)}},[]),kn}(),Je=B.useState(si),Ze=Je[0],Et=Je[1],bt=B.useRef(si),mt=B.useRef(me()),Lt=B.useRef(si),$t=B.useState(Oe.current),Mt=$t[0],bn=$t[1],Jt=B.useRef();re(function(){Oe.current!==Mt&&bn(Oe.current)},[]),re(function(){if(Mt){var an=new ResizeObserver(function(kn){kn.forEach(function(Cn){var Mn=Cn.target.getBoundingClientRect(),xn=Mn.height,$n=Mn.width;Et({height:xn,width:$n})})});return an.observe(Mt),function(){an.unobserve(Mt),an.disconnect()}}},[Mt]);var en=B.useCallback(function(an){var kn=De();return kn&&kn!==an?(Ke(A.FullScreenMode.Normal),Pe(kn)):Promise.resolve()},[]),sn=B.useCallback(function(an){an&&he()&&(bn(an),en(an).then(function(){Jt.current=an,Ke(A.FullScreenMode.Entering),function(kn){te&&kn[_e.RequestFullScreen]()}(an)}))},[]),Wt=B.useCallback(function(){De()&&(Ke(A.FullScreenMode.Exitting),Pe(document))},[]),un=B.useCallback(function(){Mt&&De()!==Mt&&Ke(A.FullScreenMode.Exitting)},[Mt]);return B.useEffect(function(){switch(et){case A.FullScreenMode.Entering:Jt.current&&(Jt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),mt.current=me(),bt.current={height:window.innerHeight,width:window.innerWidth};break;case A.FullScreenMode.Entered:ke()===A.ScrollMode.Page?Le(mt.current).then(function(){Ke(A.FullScreenMode.EnteredCompletely)}):Ke(A.FullScreenMode.EnteredCompletely);break;case A.FullScreenMode.Exitting:Jt.current&&(Jt.current.style.backgroundColor="",Jt.current=null),mt.current=me();break;case A.FullScreenMode.Exited:Ke(A.FullScreenMode.Normal),ke()===A.ScrollMode.Page&&Le(mt.current)}},[et]),B.useEffect(function(){if(et!==A.FullScreenMode.Normal)return et===A.FullScreenMode.Entering&&Ie.height===Ze.height&&Ie.width===Ze.width&&Ie.height>0&&Ie.width>0&&(Lt.current.height===0||Ie.height==Lt.current.height)?(Lt.current={height:window.innerHeight,width:window.innerWidth},void Ke(A.FullScreenMode.Entered)):void(et===A.FullScreenMode.Exitting&&bt.current.height===Ie.height&&bt.current.width===Ie.width&&Ie.height>0&&Ie.width>0&&Ke(A.FullScreenMode.Exited))},[et,Ie,Ze]),B.useEffect(function(){var an;return an=un,te&&document.addEventListener(_e.FullScreenChange,an),function(){(function(kn){te&&document.removeEventListener(_e.FullScreenChange,kn)})(un)}},[Mt]),{enterFullScreenMode:sn,exitFullScreenMode:Wt,fullScreenMode:et}},ho={buildPageStyles:function(){return{}},transformSize:function(X){return X.size}},Er={left:0,top:0},fo=function(X){var me=X.currentFile,ke=X.defaultScale,Le=X.doc,Oe=X.enableSmoothScroll,je=X.initialPage,et=X.initialRotation,Ke=X.initialScale,Ie=X.pageLayout,Je=X.pageSizes,Ze=X.plugins,Et=X.renderPage,bt=X.scrollMode,mt=X.setRenderRange,Lt=X.viewMode,$t=X.viewerState,Mt=X.onDocumentLoad,bn=X.onOpenFile,Jt=X.onPageChange,en=X.onRotate,sn=X.onRotatePage,Wt=X.onZoom,un=Le.numPages,an=Le.loadingTask.docId,kn=B.useContext(ht).l10n,Cn=B.useContext(le),Mn=Cn.direction===A.TextDirection.RightToLeft,xn=B.useRef(),$n=B.useRef(),qn=B.useState(je),jn=qn[0],Xn=qn[1],Hn=B.useRef(null),Wn=co({getCurrentPage:function(){return vn.current.pageIndex}}),Un=B.useState(et),Vn=Un[0],er=Un[1],lr=He(Vn),sr=B.useState(!1),Zn=sr[0],nr=sr[1],ur=B.useState(new Map),on=ur[0],nn=ur[1],Ut=B.useState(bt),Kt=Ut[0],Gt=Ut[1],dn=He(Kt),hn=B.useState(Lt),Yt=hn[0],jt=hn[1],gn=He(Yt),yn=function(kt){var pn=Te(),Sn=B.useState([]),Rn=Sn[0],Tn=Sn[1];return B.useEffect(function(){kt.getOutline().then(function(wn){if(pn.current&&wn!==null){var Yn=na(wn);Tn(Yn)}})},[]),Rn}(Le),Nn=B.useState(Ke),Ln=Nn[0],Jn=Nn[1],ir=He(Ln),vn=B.useRef($t),Qn=B.useRef(typeof ke=="string"?ke:null),Bn=B.useRef(-1),zn=B.useRef(-1),Kn=B.useRef(je),Fn=uo({getCurrentPage:function(){return vn.current.pageIndex},getCurrentScrollMode:function(){return vn.current.scrollMode},jumpToPage:function(kt){return pr(kt)},targetRef:$n}),hr=B.useState(-1),yr=hr[0],zr=hr[1],vr=B.useState(0),xr=vr[0],_o=vr[1],ar=nt({doc:Le});B.useEffect(function(){return function(){Ct.clear(),Ht.clear()}},[an]);var sa=B.useMemo(function(){return Object.assign({},ho,Ie)},[]),Eo=B.useMemo(function(){return Array(un).fill(0).map(function(kt,pn){var Sn=[Je[pn].pageHeight,Je[pn].pageWidth],Rn=Math.abs(Vn)%180==0?{height:Sn[0],width:Sn[1]}:{height:Sn[1],width:Sn[0]},Tn={height:Rn.height*Ln,width:Rn.width*Ln};return sa.transformSize({numPages:un,pageIndex:pn,size:Tn})})},[Vn,Ln]),In=so({enableSmoothScroll:Oe,isRtl:Mn,numberOfItems:un,parentRef:$n,scrollMode:Kt,setRenderRange:mt,sizes:Eo,viewMode:Yt}),yo=be(function(){!Qn.current||vn.current.fullScreenMode!==A.FullScreenMode.Normal||je>0&&Kn.current===je||br(Qn.current)},200);(function(kt){var pn=kt.targetRef,Sn=kt.onResize;re(function(){var Rn=new ResizeObserver(function(wn){wn.forEach(function(Yn){Sn(Yn.target)})}),Tn=pn.current;if(Tn)return Rn.observe(Tn),function(){Rn.unobserve(Tn)}},[])})({targetRef:$n,onResize:yo});var fr=function(kt){var pn=kt;Ze.forEach(function(Sn){Sn.onViewerStateChange&&(pn=Sn.onViewerStateChange(pn))}),vn.current=pn},So=function(){return $n.current},wo=function(){return vn.current},Ao=B.useCallback(function(kt){Wn.markVisitedDestination(kt)},[]),ui=B.useCallback(function(kt){var pn=kt.pageIndex,Sn=kt.bottomOffset,Rn=kt.leftOffset,Tn=kt.scaleTo,wn=$n.current,Yn=vn.current;return wn&&Yn?new Promise(function(mr,gi){Qt(Le,pn).then(function(Hr){var gr=Hr.getViewport({scale:1}),Vr=0,ma=(typeof Sn=="function"?Sn(gr.width,gr.height):Sn)||0,Wr=(typeof Rn=="function"?Rn(gr.width,gr.height):Rn)||0,Sr=Yn.scale;switch(Tn){case A.SpecialZoomLevel.PageFit:Vr=0,Wr=0,br(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:Sr=oi(wn,Je[pn].pageHeight,Je[pn].pageWidth,A.SpecialZoomLevel.PageWidth,Lt,un),Vr=(gr.height-ma)*Sr,Wr*=Sr,br(Sr);break;default:Vr=(gr.height-ma)*Sr,Wr*=Sr}switch(Yn.scrollMode){case A.ScrollMode.Horizontal:In.scrollToItem(pn,{left:Wr,top:0}).then(function(){mr()});break;case A.ScrollMode.Vertical:default:In.scrollToItem(pn,{left:0,top:Vr}).then(function(){mr()})}})}):Promise.resolve()},[]),ca=B.useCallback(function(kt){return Wn.markVisitedDestination(kt),ui(kt)},[]),Co=B.useCallback(function(){var kt=Wn.getNextDestination();return kt?ui(kt):Promise.resolve()},[]),Po=B.useCallback(function(){var kt=Wn.getPreviousDestination();return kt?ui(kt):Promise.resolve()},[]),ko=B.useCallback(function(){return In.scrollToNextItem(vn.current.pageIndex,Er)},[]),pr=B.useCallback(function(kt){return 0<=kt&&kt<un?In.scrollToItem(kt,Er):Promise.resolve()},[]),Mo=B.useCallback(function(){return In.scrollToPreviousItem(vn.current.pageIndex,Er)},[]),la=B.useCallback(function(kt){var pn,Sn;(pn=kt.name,Sn=pn.split(/\./).pop(),Sn?Sn.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Rn){var Tn=new FileReader;Tn.readAsArrayBuffer(kt),Tn.onload=function(){var wn=new Uint8Array(Tn.result);Rn(wn)}}).then(function(Rn){bn(kt.name,Rn)})},[bn]),ua=B.useCallback(function(kt){var pn=kt===A.RotateDirection.Backward?-90:90,Sn=vn.current.rotation,Rn=Sn===360||Sn===-360?pn:Sn+pn;ar.markNotRendered(),er(Rn),fr(K(K({},vn.current),{rotation:Rn})),en({direction:kt,doc:Le,rotation:Rn})},[]),di=B.useCallback(function(kt,pn){var Sn=pn===A.RotateDirection.Backward?-90:90,Rn=vn.current.pagesRotation,Tn=(Rn.has(kt)?Rn.get(kt):et)+Sn,wn=Rn.set(kt,Tn);nn(wn),nr(function(Yn){return!Yn}),fr(K(K({},vn.current),{pagesRotation:wn,rotatedPage:kt})),sn({direction:pn,doc:Le,pageIndex:kt,rotation:Tn}),ar.markRendering(kt),zr(kt)},[]),da=B.useCallback(function(kt){fr(K(K({},vn.current),{scrollMode:kt})),Gt(kt)},[]),ha=B.useCallback(function(kt){fr(K(K({},vn.current),{viewMode:kt})),jt(kt)},[]),br=B.useCallback(function(kt){var pn=$n.current,Sn=vn.current.pageIndex;if(!(Sn<0||Sn>=un)){var Rn=Je[Sn].pageHeight,Tn=Je[Sn].pageWidth,wn=pn?typeof kt=="string"?oi(pn,Rn,Tn,kt,vn.current.viewMode,un):kt:1;Qn.current=typeof kt=="string"?kt:null,wn!==vn.current.scale&&(_o(function(Yn){return Yn+1}),ar.markNotRendered(),Jn(wn),Wt({doc:Le,scale:wn}),fr(K(K({},vn.current),{scale:wn})))}},[]),xo=B.useCallback(function(kt){Fn.enterFullScreenMode(kt)},[]),To=B.useCallback(function(){Fn.exitFullScreenMode()},[]);B.useEffect(function(){fr(K(K({},vn.current),{fullScreenMode:Fn.fullScreenMode}))},[Fn.fullScreenMode]),B.useEffect(function(){var kt={enterFullScreenMode:xo,exitFullScreenMode:To,getPagesContainer:So,getViewerState:wo,jumpToDestination:ca,jumpToNextDestination:Co,jumpToPreviousDestination:Po,jumpToNextPage:ko,jumpToPreviousPage:Mo,jumpToPage:pr,openFile:la,rotate:ua,rotatePage:di,setViewerState:fr,switchScrollMode:da,switchViewMode:ha,zoom:br};return Ze.forEach(function(pn){pn.install&&pn.install(kt)}),function(){Ze.forEach(function(pn){pn.uninstall&&pn.uninstall(kt)})}},[an]),B.useEffect(function(){Mt({doc:Le,file:me}),Ze.forEach(function(kt){kt.onDocumentLoad&&kt.onDocumentLoad({doc:Le,file:me})})},[an]);var hi,fi,pi,fa=In.boundingClientRect;hi=function(){je&&pr(je)},fi=fa.height>0&&fa.width>0,pi=B.useRef(!1),re(function(){fi&&!pi.current&&(pi.current=!0,hi())},[hi,fi]),re(function(){var kt=vn.current.pageIndex;kt>-1&&dn!==Kt&&In.scrollToItem(kt,Er).then(function(){Fn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(Oe||ar.markNotRendered(),Bn.current=-1)})},[Kt]),re(function(){var kt=vn.current.pageIndex;kt>-1&&lr!==Vn&&In.scrollToItem(kt,Er)},[Vn]),re(function(){ir!=0&&ir!=vn.current.scale&&In.zoom(vn.current.scale/ir,vn.current.pageIndex).then(function(){Fn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(zn.current=-1)})},[Ln]),re(function(){if(gn!==vn.current.viewMode){var kt=In.startPage,pn=In.endPage,Sn=In.virtualItems;ar.markNotRendered(),ar.setRange(kt,pn);for(var Rn=function(wn){var Yn=Sn.find(function(mr){return mr.index===wn});Yn&&ar.setVisibility(wn,Yn.visibility)},Tn=kt;Tn<=pn;Tn++)Rn(Tn);mi()}},[Yt]),re(function(){var kt=vn.current.pageIndex;kt>-1&&gn!==Yt&&In.scrollToItem(kt,Er)},[Yt]),re(function(){var kt=vn.current.pageIndex;kt>0&&kt===je&&Kn.current===je&&Qn.current&&(Kn.current=-1,br(Qn.current))},[jn]),B.useEffect(function(){In.isSmoothScrolling||Hn.current!==null&&Hn.current===jn||(Hn.current=jn,Jt({currentPage:jn,doc:Le}))},[jn,In.isSmoothScrolling]),B.useEffect(function(){Fn.fullScreenMode===A.FullScreenMode.Entering&&vn.current.scrollMode===A.ScrollMode.Page&&(Bn.current=vn.current.pageIndex),Fn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&vn.current.scrollMode===A.ScrollMode.Page&&Oe&&(Bn.current=-1),Fn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&Qn.current&&(zn.current=vn.current.pageIndex,br(Qn.current))},[Fn.fullScreenMode]),B.useEffect(function(){if(Fn.fullScreenMode!==A.FullScreenMode.Entering&&Fn.fullScreenMode!==A.FullScreenMode.Exitting&&!In.isSmoothScrolling){var kt=In.startPage,pn=In.endPage,Sn=In.maxVisbilityIndex,Rn=In.virtualItems,Tn=Sn,wn=Fn.fullScreenMode===A.FullScreenMode.Entered||Fn.fullScreenMode===A.FullScreenMode.EnteredCompletely;if(!(wn&&Tn!==Bn.current&&Bn.current>-1||wn&&Tn!==zn.current&&zn.current>-1)){Xn(Tn),fr(K(K({},vn.current),{pageIndex:Tn})),ar.setRange(kt,pn);for(var Yn=function(gi){var Hr=Rn.find(function(gr){return gr.index===gi});Hr&&ar.setVisibility(gi,Hr.visibility)},mr=kt;mr<=pn;mr++)Yn(mr);mi()}}},[In.startPage,In.endPage,In.isSmoothScrolling,In.maxVisbilityIndex,Fn.fullScreenMode,Zn,Vn,Ln]);var $o=B.useCallback(function(kt){ar.markRendered(kt),mi()},[xr]),mi=function(){var kt=ar.getHighestPriorityPage();kt>-1&&ar.isInRange(kt)&&(ar.markRendering(kt),zr(kt))},Ro=function(kt){var pn=jn-1,Sn=jn+1;switch(kt){case"FirstPage":pr(0);break;case"LastPage":pr(un-1);break;case"NextPage":Sn<un&&pr(Sn);break;case"PrevPage":pn>=0&&pr(pn)}},Fo=B.useCallback(function(){var kt=In.virtualItems,pn=[];switch(Yt){case A.ViewMode.DualPage:pn=ct(kt,2);break;case A.ViewMode.DualPageWithCover:kt.length&&(pn=kt[0].index===0?[[kt[0]]].concat(ct(kt.slice(1),2)):ct(kt,2));break;case A.ViewMode.SinglePage:default:pn=ct(kt,1)}var Sn=kn&&kn.core?kn.core.pageLabel:"Page {{pageIndex}}",Rn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:xn,style:{height:"100%"}},children:B.createElement(B.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ne({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Kt===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Mn,"rpv-core__inner-pages--single":Kt===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":Kt===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Kt===A.ScrollMode.Wrapped}),ref:$n,style:{height:"100%",position:"relative"}},children:B.createElement("div",{"data-testid":"core__inner-current-page-".concat(jn),style:Object.assign({"--scale-factor":Ln},In.getContainerStyles())},pn.map(function(Tn){return B.createElement("div",{className:ne({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Kt===A.ScrollMode.Page}),style:In.getItemContainerStyles(Tn[0]),key:"".concat(Tn[0].index,"-").concat(Yt)},Tn.map(function(wn){var Yn=Yt===A.ViewMode.DualPageWithCover&&(wn.index===0||un%2==0&&wn.index===un-1);return B.createElement("div",{"aria-label":Sn.replace("{{pageIndex}}","".concat(wn.index+1)),className:ne({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Yt===A.ViewMode.DualPage&&wn.index%2==0,"rpv-core__inner-page--dual-odd":Yt===A.ViewMode.DualPage&&wn.index%2==1,"rpv-core__inner-page--dual-cover":Yn,"rpv-core__inner-page--dual-cover-even":Yt===A.ViewMode.DualPageWithCover&&!Yn&&wn.index%2==0,"rpv-core__inner-page--dual-cover-odd":Yt===A.ViewMode.DualPageWithCover&&!Yn&&wn.index%2==1,"rpv-core__inner-page--single":Yt===A.ViewMode.SinglePage&&Kt===A.ScrollMode.Page}),role:"region",key:"".concat(wn.index,"-").concat(Yt),style:Object.assign({},In.getItemStyles(wn),sa.buildPageStyles({numPages:un,pageIndex:wn.index,scrollMode:Kt,viewMode:Yt}))},B.createElement(Za,{doc:Le,measureRef:wn.measureRef,outlines:yn,pageIndex:wn.index,pageRotation:on.has(wn.index)?on.get(wn.index):0,pageSize:Je[wn.index],plugins:Ze,renderPage:Et,renderQueueKey:xr,rotation:Vn,scale:Ln,shouldRender:yr===wn.index,viewMode:Yt,onExecuteNamedAction:Ro,onJumpFromLinkAnnotation:Ao,onJumpToDest:ca,onRenderCompleted:$o,onRotatePage:di}))}))}))}};return Ze.forEach(function(Tn){Tn.renderViewer&&(Rn=Tn.renderViewer({containerRef:xn,doc:Le,pagesContainerRef:$n,pagesRotation:on,pageSizes:Je,rotation:Vn,slot:Rn,themeContext:Cn,jumpToPage:pr,openFile:la,rotate:ua,rotatePage:di,switchScrollMode:da,switchViewMode:ha,zoom:br}))}),Rn},[Ze,In]),pa=B.useCallback(function(kt){return B.createElement("div",K({},kt.attrs,{style:kt.attrs&&kt.attrs.style?kt.attrs.style:{}}),kt.children,kt.subSlot&&pa(kt.subSlot))},[]);return pa(Fo())},ia=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],po=function(X){var me=X.defaultScale,ke=X.doc,Le=X.render,Oe=X.scrollMode,je=X.viewMode,et=B.useRef(),Ke=B.useState({pageSizes:[],scale:0}),Ie=Ke[0],Je=Ke[1];return B.useLayoutEffect(function(){var Ze=Array(ke.numPages).fill(0).map(function(Et,bt){return new Promise(function(mt,Lt){Qt(ke,bt).then(function($t){var Mt=$t.getViewport({scale:1});mt({pageHeight:Mt.height,pageWidth:Mt.width,rotation:Mt.rotation})})})});Promise.all(Ze).then(function(Et){var bt=et.current;if(bt&&Et.length!==0){var mt=Et[0].pageWidth,Lt=Et[0].pageHeight,$t=bt.parentElement,Mt=($t.clientWidth-45)/mt,bn=($t.clientHeight-45)/Lt,Jt=Mt;switch(Oe){case A.ScrollMode.Horizontal:Jt=Math.min(Mt,bn);break;case A.ScrollMode.Vertical:default:Jt=Mt}var en,sn,Wt=me?typeof me=="string"?oi($t,Lt,mt,me,je,ke.numPages):me:(en=Jt,(sn=ia.findIndex(function(un){return un>=en}))===-1||sn===0?en:ia[sn-1]);Je({pageSizes:Et,scale:Wt})}})},[ke.loadingTask.docId]),Ie.pageSizes.length===0||Ie.scale===0?B.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:et},B.createElement(ue,null)):Le(Ie.pageSizes,Ie.scale)},jr=function(){},ci=function(X){function me(ke,Le){var Oe=X.call(this)||this;return Oe.verifyPassword=ke,Oe.passwordStatus=Le,Oe}return fe(me,X),me}(jr),mo=function(X){var me=X.passwordStatus,ke=X.renderProtectedView,Le=X.verifyPassword,Oe=X.onDocumentAskPassword,je=B.useContext(ht).l10n,et=B.useState(""),Ke=et[0],Ie=et[1],Je=B.useContext(le).direction===A.TextDirection.RightToLeft,Ze=function(){return Le(Ke)};return B.useEffect(function(){Oe&&Oe({verifyPassword:Le})},[]),ke?ke({passwordStatus:me,verifyPassword:Le}):B.createElement("div",{className:"rpv-core__asking-password-wrapper"},B.createElement("div",{className:ne({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Je})},B.createElement("div",{className:"rpv-core__asking-password-message"},me===A.PasswordStatus.RequiredPassword&&je.core.askingPassword.requirePasswordToOpen,me===A.PasswordStatus.WrongPassword&&je.core.wrongPassword.tryAgain),B.createElement("div",{className:"rpv-core__asking-password-body"},B.createElement("div",{className:ne({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Je,"rpv-core__asking-password-input--rtl":Je})},B.createElement(pe,{testId:"core__asking-password-input",type:"password",value:Ke,onChange:Ie,onKeyDown:function(Et){Et.key==="Enter"&&Ze()}})),B.createElement(se,{onClick:Ze},je.core.askingPassword.submit))))},aa=function(X){function me(ke){var Le=X.call(this)||this;return Le.doc=ke,Le}return fe(me,X),me}(jr),oa=function(X){function me(ke){var Le=X.call(this)||this;return Le.error=ke,Le}return fe(me,X),me}(jr),li=function(X){function me(ke){var Le=X.call(this)||this;return Le.percentages=ke,Le}return fe(me,X),me}(jr),go=function(X){var me=X.characterMap,ke=X.file,Le=X.httpHeaders,Oe=X.render,je=X.renderError,et=X.renderLoader,Ke=X.renderProtectedView,Ie=X.transformGetDocumentParams,Je=X.withCredentials,Ze=X.onDocumentAskPassword,Et=B.useContext(le).direction===A.TextDirection.RightToLeft,bt=B.useState(new li(0)),mt=bt[0],Lt=bt[1],$t=B.useRef(""),Mt=Te();return B.useEffect(function(){$t.current="",Lt(new li(0));var bn=new Y.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Jt=Object.assign({httpHeaders:Le,withCredentials:Je,worker:bn},typeof ke=="string"?{url:ke}:{data:ke},me?{cMapUrl:me.url,cMapPacked:me.isCompressed}:{}),en=Ie?Ie(Jt):Jt,sn=Y.getDocument(en);return sn.onPassword=function(Wt,un){switch(un){case Y.PasswordResponses.NEED_PASSWORD:Mt.current&&Lt(new ci(Wt,A.PasswordStatus.RequiredPassword));break;case Y.PasswordResponses.INCORRECT_PASSWORD:Mt.current&&Lt(new ci(Wt,A.PasswordStatus.WrongPassword))}},sn.onProgress=function(Wt){var un=Wt.total>0?Math.min(100,100*Wt.loaded/Wt.total):100;Mt.current&&$t.current===""&&Lt(new li(un))},sn.promise.then(function(Wt){$t.current=Wt.loadingTask.docId,Mt.current&&Lt(new aa(Wt))},function(Wt){return Mt.current&&!bn.destroyed&&Lt(new oa({message:Wt.message||"Cannot load document",name:Wt.name}))}),function(){sn.destroy(),bn.destroy()}},[ke]),mt instanceof ci?B.createElement(mo,{passwordStatus:mt.passwordStatus,renderProtectedView:Ke,verifyPassword:mt.verifyPassword,onDocumentAskPassword:Ze}):mt instanceof aa?Oe(mt.doc):mt instanceof oa?je?je(mt.error):B.createElement("div",{className:ne({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Et})},B.createElement("div",{className:"rpv-core__doc-error-text"},mt.error.message)):B.createElement("div",{"data-testid":"core__doc-loading",className:ne({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Et})},et?et(mt.percentages):B.createElement(ue,null))},vo=function(X,me){var ke=B.useMemo(function(){return X==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":X},[]),Le=B.useState(ke),Oe=Le[0],je=Le[1],et=He(Oe);return B.useEffect(function(){if(X==="auto"){var Ke=window.matchMedia("(prefers-color-scheme: dark)"),Ie=function(Je){je(Je.matches?"dark":"light")};return Ke.addEventListener("change",Ie),function(){return Ke.removeEventListener("change",Ie)}}},[]),B.useEffect(function(){Oe!==et&&me&&me(Oe)},[Oe]),B.useEffect(function(){X!==Oe&&je(X)},[X]),{currentTheme:Oe,setCurrentTheme:je}},bo=function(X){return{startPage:X.startPage-3,endPage:X.endPage+3}};A.Button=function(X){var me=X.children,ke=X.testId,Le=X.onClick,Oe=B.useContext(le).direction===A.TextDirection.RightToLeft,je=ke?{"data-testid":ke}:{};return B.createElement("button",K({className:ne({"rpv-core__button":!0,"rpv-core__button--rtl":Oe}),type:"button",onClick:Le},je),me)},A.Icon=q,A.LazyRender=function(X){var me=X.attrs,ke=X.children,Le=X.testId,Oe=B.useState(!1),je=Oe[0],et=Oe[1],Ke=Le?K(K({},me),{"data-testid":Le}):me,Ie=Q({once:!0,onVisibilityChanged:function(Je){Je.isVisible&&et(!0)}});return B.createElement("div",K({ref:Ie},Ke),je&&ke)},A.LocalizationContext=ht,A.Menu=function(X){var me=X.children,ke=B.useRef(),Le=B.useRef([]),Oe=B.useContext(le).direction===A.TextDirection.RightToLeft,je=function(Ke){if(ke.current)switch(Ke.key){case"Tab":Ke.preventDefault();break;case"ArrowDown":Ke.preventDefault(),et(function(Ie,Je){return Je+1});break;case"ArrowUp":Ke.preventDefault(),et(function(Ie,Je){return Je-1});break;case"End":Ke.preventDefault(),et(function(Ie,Je){return Ie.length-1});break;case"Home":Ke.preventDefault(),et(function(Ie,Je){return 0})}},et=function(Ke){if(ke.current){var Ie=Le.current,Je=Ie.findIndex(function(Et){return Et.getAttribute("tabindex")==="0"}),Ze=Math.min(Ie.length-1,Math.max(0,Ke(Ie,Je)));Je>=0&&Je<=Ie.length-1&&Ie[Je].setAttribute("tabindex","-1"),Ie[Ze].setAttribute("tabindex","0"),Ie[Ze].focus()}};return re(function(){var Ke=ke.current;if(Ke){var Ie=function(Je){var Ze=[];return Je.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Et){if(Et instanceof HTMLElement){var bt=Et.parentElement;(bt===Je||window.getComputedStyle(bt).display!=="none")&&Ze.push(Et)}}),Ze}(Ke);Le.current=Ie}},[]),re(function(){return document.addEventListener("keydown",je),function(){document.removeEventListener("keydown",je)}},[]),B.createElement("div",{ref:ke,"aria-orientation":"vertical",className:ne({"rpv-core__menu":!0,"rpv-core__menu--rtl":Oe}),role:"menu",tabIndex:0},me)},A.MenuDivider=function(){return B.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(X){var me=X.checked,ke=me!==void 0&&me,Le=X.children,Oe=X.icon,je=Oe===void 0?null:Oe,et=X.isDisabled,Ke=et!==void 0&&et,Ie=X.testId,Je=X.onClick,Ze=B.useContext(le).direction===A.TextDirection.RightToLeft,Et=Ie?{"data-testid":Ie}:{};return B.createElement("button",K({className:ne({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Ke,"rpv-core__menu-item--ltr":!Ze,"rpv-core__menu-item--rtl":Ze}),role:"menuitem",tabIndex:-1,type:"button",onClick:Je},Et),B.createElement("div",{className:ne({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Ze,"rpv-core__menu-item-icon--rtl":Ze})},je),B.createElement("div",{className:ne({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Ze,"rpv-core__menu-item-label--rtl":Ze})},Le),B.createElement("div",{className:ne({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Ze,"rpv-core__menu-item-check--rtl":Ze})},ke&&B.createElement(oe,null)))},A.MinimalButton=function(X){var me=X.ariaLabel,ke=me===void 0?"":me,Le=X.ariaKeyShortcuts,Oe=Le===void 0?"":Le,je=X.children,et=X.isDisabled,Ke=et!==void 0&&et,Ie=X.isSelected,Je=Ie!==void 0&&Ie,Ze=X.testId,Et=X.onClick,bt=B.useContext(le).direction===A.TextDirection.RightToLeft,mt=Ze?{"data-testid":Ze}:{};return B.createElement("button",K({"aria-label":ke},Oe&&{"aria-keyshortcuts":Oe},Ke&&{"aria-disabled":!0},{className:ne({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Ke,"rpv-core__minimal-button--rtl":bt,"rpv-core__minimal-button--selected":Je}),type:"button",onClick:Et},mt),je)},A.Modal=function(X){var me=X.ariaControlsSuffix,ke=X.closeOnClickOutside,Le=X.closeOnEscape,Oe=X.content,je=X.isOpened,et=je!==void 0&&je,Ke=X.target,Ie=me||"".concat(we());return B.createElement(Ce,{target:Ke?function(Je,Ze){return B.createElement("div",{"aria-expanded":Ze?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Ie)},Ke(Je,Ze))}:null,content:function(Je){return B.createElement(ie,null,B.createElement(G,{ariaControlsSuffix:Ie,closeOnClickOutside:ke,closeOnEscape:Le,onToggle:Je},Oe(Je)))},isOpened:et})},A.Popover=function(X){var me=X.ariaHasPopup,ke=me===void 0?"dialog":me,Le=X.ariaControlsSuffix,Oe=X.closeOnClickOutside,je=X.closeOnEscape,et=X.content,Ke=X.lockScroll,Ie=Ke===void 0||Ke,Je=X.offset,Ze=X.position,Et=X.target,bt=ye(!1),mt=bt.opened,Lt=bt.toggle,$t=B.useRef(),Mt=B.useMemo(function(){return Le||"".concat(we())},[]);return B.createElement("div",{ref:$t,"aria-expanded":mt?"true":"false","aria-haspopup":ke,"aria-controls":"rpv-core__popver-body-".concat(Mt)},Et(Lt,mt),mt&&B.createElement(B.Fragment,null,Ie&&B.createElement(ot,{closeOnEscape:je,onClose:Lt}),B.createElement(Ft,{ariaControlsSuffix:Mt,closeOnClickOutside:Oe,offset:Je,position:Ze,targetRef:$t,onClose:Lt},et(Lt))))},A.PrimaryButton=se,A.ProgressBar=function(X){var me=X.progress,ke=B.useContext(le).direction===A.TextDirection.RightToLeft;return B.createElement("div",{className:ne({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":ke})},B.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(me,"%")}},me,"%"))},A.Separator=function(){return B.createElement("div",{className:"rpv-core__separator"})},A.Spinner=ue,A.Splitter=function(X){var me=X.constrain,ke=B.useContext(le).direction===A.TextDirection.RightToLeft,Le=B.useRef(),Oe=B.useRef(),je=B.useRef(),et=B.useRef(0),Ke=B.useRef(0),Ie=B.useRef(0),Je=B.useRef(0),Ze={capture:!0},Et=function(mt){var Lt=Le.current,$t=Oe.current,Mt=je.current;if(Lt&&$t&&Mt){var bn=Je.current,Jt=mt.clientX-et.current,en=Ie.current+(ke?-Jt:Jt),sn=Lt.parentElement.getBoundingClientRect().width,Wt=100*en/sn;if(Lt.classList.add("rpv-core__splitter--resizing"),me){var un=sn-en-bn;if(!me({firstHalfPercentage:Wt,firstHalfSize:en,secondHalfPercentage:100*un/sn,secondHalfSize:un}))return}$t.style.width="".concat(Wt,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),$t.classList.add("rpv-core__splitter-sibling--resizing"),Mt.classList.add("rpv-core__splitter-sibling--resizing")}},bt=function(mt){var Lt=Le.current,$t=Oe.current,Mt=je.current;Lt&&$t&&Mt&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Lt.classList.remove("rpv-core__splitter--resizing"),$t.classList.remove("rpv-core__splitter-sibling--resizing"),Mt.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Et,Ze),document.removeEventListener("mouseup",bt,Ze))};return B.useEffect(function(){var mt=Le.current;mt&&(Je.current=mt.getBoundingClientRect().width,Oe.current=mt.previousElementSibling,je.current=mt.nextElementSibling)},[]),B.createElement("div",{ref:Le,className:"rpv-core__splitter",onMouseDown:function(mt){var Lt=Oe.current;Lt&&(et.current=mt.clientX,Ke.current=mt.clientY,Ie.current=Lt.getBoundingClientRect().width,document.addEventListener("mousemove",Et,Ze),document.addEventListener("mouseup",bt,Ze))}})},A.TextBox=pe,A.ThemeContext=le,A.Tooltip=function(X){var me=X.ariaControlsSuffix,ke=X.content,Le=X.offset,Oe=X.position,je=X.target,et=ye(!1),Ke=et.opened,Ie=et.toggle,Je=B.useRef(),Ze=B.useRef(),Et=B.useMemo(function(){return me||"".concat(we())},[]);J(function(){Je.current&&document.activeElement&&Je.current.contains(document.activeElement)&&mt()});var bt=function(){Ie(A.ToggleStatus.Open)},mt=function(){Ie(A.ToggleStatus.Close)};return B.createElement(B.Fragment,null,B.createElement("div",{ref:Je,"aria-describedby":"rpv-core__tooltip-body-".concat(Et),onBlur:function(Lt){Lt.relatedTarget instanceof HTMLElement&&Lt.currentTarget.parentElement&&Lt.currentTarget.parentElement.contains(Lt.relatedTarget)?Ze.current&&(Ze.current.style.display="none"):mt()},onFocus:bt,onMouseEnter:bt,onMouseLeave:mt},je),Ke&&B.createElement(We,{ariaControlsSuffix:Et,contentRef:Ze,offset:Le,position:Oe,targetRef:Je},ke()))},A.Viewer=function(X){var me=X.characterMap,ke=X.defaultScale,Le=X.enableSmoothScroll,Oe=Le===void 0||Le,je=X.fileUrl,et=X.httpHeaders,Ke=et===void 0?{}:et,Ie=X.initialPage,Je=Ie===void 0?0:Ie,Ze=X.pageLayout,Et=X.initialRotation,bt=Et===void 0?0:Et,mt=X.localization,Lt=X.plugins,$t=Lt===void 0?[]:Lt,Mt=X.renderError,bn=X.renderLoader,Jt=X.renderPage,en=X.renderProtectedView,sn=X.scrollMode,Wt=sn===void 0?A.ScrollMode.Vertical:sn,un=X.setRenderRange,an=un===void 0?bo:un,kn=X.transformGetDocumentParams,Cn=X.theme,Mn=Cn===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:Cn,xn=X.viewMode,$n=xn===void 0?A.ViewMode.SinglePage:xn,qn=X.withCredentials,jn=qn!==void 0&&qn,Xn=X.onDocumentAskPassword,Hn=X.onDocumentLoad,Wn=Hn===void 0?function(){}:Hn,Un=X.onPageChange,Vn=Un===void 0?function(){}:Un,er=X.onRotate,lr=er===void 0?function(){}:er,sr=X.onRotatePage,Zn=sr===void 0?function(){}:sr,nr=X.onSwitchTheme,ur=nr===void 0?function(){}:nr,on=X.onZoom,nn=on===void 0?function(){}:on,Ut=B.useState({data:je,name:typeof je=="string"?je:"",shouldLoad:!1}),Kt=Ut[0],Gt=Ut[1],dn=function(Bn,zn){Gt({data:zn,name:Bn,shouldLoad:!0})},hn=B.useState(!1),Yt=hn[0],jt=hn[1],gn=He(Kt);B.useEffect(function(){var Bn,zn,Kn,Fn;Bn=gn.data,Fn=typeof(zn=je),(Kn=typeof Bn)=="string"&&Fn==="string"&&Bn===zn||Kn==="object"&&Fn==="object"&&Bn.length===zn.length&&Bn.every(function(hr,yr){return hr===zn[yr]})||Gt({data:je,name:typeof je=="string"?je:"",shouldLoad:Yt})},[je,Yt]);var yn=Q({onVisibilityChanged:function(Bn){jt(Bn.isVisible),Bn.isVisible&&Gt(function(zn){return Object.assign({},zn,{shouldLoad:!0})})}}),Nn=typeof Mn=="string"?{direction:A.TextDirection.LeftToRight,theme:Mn}:Mn,Ln=B.useState(mt||at),Jn=Ln[0],ir=Ln[1],vn={l10n:Jn,setL10n:ir},Qn=Object.assign({},{direction:Nn.direction},vo(Nn.theme||"light",ur));return B.useEffect(function(){mt&&ir(mt)},[mt]),B.createElement(ht.Provider,{value:vn},B.createElement(le.Provider,{value:Qn},B.createElement("div",{ref:yn,className:"rpv-core__viewer rpv-core__viewer--".concat(Qn.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Kt.shouldLoad&&B.createElement(go,{characterMap:me,file:Kt.data,httpHeaders:Ke,render:function(Bn){return B.createElement(po,{defaultScale:ke,doc:Bn,render:function(zn,Kn){return B.createElement(fo,{currentFile:{data:Kt.data,name:Kt.name},defaultScale:ke,doc:Bn,enableSmoothScroll:Oe,initialPage:Je,initialRotation:bt,initialScale:Kn,pageLayout:Ze,pageSizes:zn,plugins:$t,renderPage:Jt,scrollMode:Wt,setRenderRange:an,viewMode:$n,viewerState:{file:Kt,fullScreenMode:A.FullScreenMode.Normal,pageIndex:-1,pageHeight:zn[0].pageHeight,pageWidth:zn[0].pageWidth,pagesRotation:new Map,rotation:bt,scale:Kn,scrollMode:Wt,viewMode:$n},onDocumentLoad:Wn,onOpenFile:dn,onPageChange:Vn,onRotate:lr,onRotatePage:Zn,onZoom:nn})},scrollMode:Wt,viewMode:$n})},renderError:Mt,renderLoader:bn,renderProtectedView:en,transformGetDocumentParams:kn,withCredentials:jn,onDocumentAskPassword:Xn}))))},A.Worker=function(X){var me=X.children,ke=X.workerUrl;return Y.GlobalWorkerOptions.workerSrc=ke,B.createElement(B.Fragment,null,me)},A.chunk=ct,A.classNames=ne,A.createStore=function(X){var me=X||{},ke={},Le=function(je,et){var Ke;me=K(K({},me),((Ke={})[je]=et,Ke)),(ke[je]||[]).forEach(function(Ie){return Ie(me[je])})},Oe=function(je){return me[je]};return{subscribe:function(je,et){ke[je]=(ke[je]||[]).concat(et)},unsubscribe:function(je,et){ke[je]=(ke[je]||[]).filter(function(Ke){return Ke!==et})},update:function(je,et){Le(je,et)},updateCurrentValue:function(je,et){var Ke=Oe(je);Ke!==void 0&&Le(je,et(Ke))},get:function(je){return Oe(je)}}},A.getDestination=rn,A.getPage=Qt,A.isFullScreenEnabled=he,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useDebounceCallback=be,A.useIntersectionObserver=Q,A.useIsMounted=Te,A.useIsomorphicLayoutEffect=re,A.usePrevious=He,A.useRenderQueue=nt})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$e=t$e(reactExports),a$e=function(A){var $=A.files,H=n$e.useRef(),R=n$e.useContext(e$e.LocalizationContext).l10n,O=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,B=n$e.useRef([]),Y=R&&R.attachment?R.attachment.clickToDownload:"Click to download",ge=function(fe){var de=H.current,K=[].slice.call(de.getElementsByClassName("rpv-attachment__item"));if(K.length!==0){K.forEach(function(ne){return ne.setAttribute("tabindex","-1")});var Ee=document.activeElement,le=K[Math.min(K.length-1,Math.max(0,fe(K,Ee)))];le.setAttribute("tabindex","0"),le.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var fe=H.current;if(fe){var de=[].slice.call(fe.getElementsByClassName("rpv-attachment__item"));if(B.current=de,de.length>0){var K=de[0];K.focus(),K.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":O}),ref:H,tabIndex:-1,onKeyDown:function(fe){switch(fe.key){case"ArrowDown":fe.preventDefault(),ge(function(de,K){return de.indexOf(K)+1});break;case"ArrowUp":fe.preventDefault(),ge(function(de,K){return de.indexOf(K)-1});break;case"End":fe.preventDefault(),ge(function(de,K){return de.length-1});break;case"Home":fe.preventDefault(),ge(function(de,K){return 0})}}},$.map(function(fe){return n$e.createElement("button",{className:"rpv-attachment__item",key:fe.fileName,tabIndex:-1,title:Y,type:"button",onClick:function(){return de=fe.fileName,K=fe.data,Ee=typeof K=="string"?"":URL.createObjectURL(new Blob([K],{type:""})),(le=document.createElement("a")).style.display="none",le.href=Ee||de,le.setAttribute("download",function(ne){var re=ne.split("/").pop();return re?re.split("#")[0].split("?")[0]:ne}(de)),document.body.appendChild(le),le.click(),document.body.removeChild(le),void(Ee&&URL.revokeObjectURL(Ee));var de,K,Ee,le}},fe.fileName)}))},r$e=function(A){var $=A.doc,H=n$e.useContext(e$e.LocalizationContext).l10n,R=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,O=H&&H.attachment?H.attachment.noAttachment:"There is no attachment",B=n$e.useState({files:[],isLoaded:!1}),Y=B[0],ge=B[1];return n$e.useEffect(function(){$.getAttachments().then(function(fe){var de=fe?Object.keys(fe).map(function(K){return{data:fe[K].content,fileName:fe[K].filename}}):[];ge({files:de,isLoaded:!0})})},[$]),Y.isLoaded?Y.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":R})},O):n$e.createElement(a$e,{files:Y.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(A){var $=A.store,H=n$e.useState($.get("doc")),R=H[0],O=H[1],B=function(Y){O(Y)};return n$e.useEffect(function(){return $.subscribe("doc",B),function(){$.unsubscribe("doc",B)}},[]),R?n$e.createElement(r$e,{doc:R}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function($){A.update("doc",$.doc)},Attachments:function(){return n$e.createElement(c$e,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$d,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(A){var $=A.bookmark,H=A.depth,R=A.doc,O=A.index,B=A.isBookmarkExpanded,Y=A.numberOfSiblings,ge=A.pathFromRoot,fe=A.renderBookmarkItem,de=A.store,K=ge?"".concat(ge,".").concat(O):"".concat(O),Ee=o$d.useMemo(function(){return function(te){var _e=te.count,he=te.items;if(_e>=0)return!1;var Pe=he.length;if(Pe===0)return!1;for(var De=he.concat([]);De.length>0;){var be=De.shift(),Te=be.items;be.count&&Te&&be.count>0&&Te.length>0&&(Pe+=Te.length,De=De.concat(Te))}return Math.abs(_e)===Pe}($)},[$]),le=de.get("bookmarkExpandedMap"),ne=B?B({bookmark:$,doc:R,depth:H,index:O}):le.has(K)?le.get(K):!Ee,re=o$d.useState(ne),Q=re[0],q=re[1],oe=$.items&&$.items.length>0,se=function(){var te=!Q;de.updateCurrentValue("bookmarkExpandedMap",function(_e){return _e.set(K,te)}),q(te)},ue=function(){var te=$.dest,_e=de.get("jumpToDestination");e$d.getDestination(R,te).then(function(he){_e&&_e(n$d({label:$.title},he))})},pe=function(){oe&&$.dest&&ue()},ee=function(){!oe&&$.dest&&ue()},ae=function(te,_e){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*H,"rem")},onClick:te},_e)},Ae=function(te,_e){return oe?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(H,"-").concat(O),onClick:se},Q?te:_e):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},ve=function(te){return $.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:te},$.title)};return o$d.createElement("li",{"aria-expanded":Q?"true":"false","aria-label":$.title,"aria-level":H+1,"aria-posinset":O+1,"aria-setsize":Y,role:"treeitem",tabIndex:-1},fe?fe({bookmark:$,depth:H,hasSubItems:oe,index:O,isExpanded:Q,path:K,defaultRenderItem:ae,defaultRenderTitle:ve,defaultRenderToggle:Ae,onClickItem:ee,onClickTitle:pe,onToggleSubItems:se}):ae(ee,o$d.createElement(o$d.Fragment,null,Ae(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),ve(pe))),oe&&Q&&o$d.createElement(m$9,{bookmarks:$.items,depth:H+1,doc:R,isBookmarkExpanded:B,isRoot:!1,pathFromRoot:K,renderBookmarkItem:fe,store:de}))},m$9=function(A){var $=A.bookmarks,H=A.depth,R=H===void 0?0:H,O=A.doc,B=A.isBookmarkExpanded,Y=A.isRoot,ge=A.pathFromRoot,fe=A.renderBookmarkItem,de=A.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:Y?"tree":"group",tabIndex:-1},$.map(function(K,Ee){return o$d.createElement(c$d,{bookmark:K,depth:R,doc:O,index:Ee,isBookmarkExpanded:B,key:Ee,numberOfSiblings:$.length,pathFromRoot:ge,renderBookmarkItem:fe,store:de})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(A){var $=A.bookmarks,H=A.doc,R=A.isBookmarkExpanded,O=A.renderBookmarkItem,B=A.store,Y=o$d.useRef(),ge=function(Ee){var le=Y.current;if(le&&Ee.target instanceof HTMLElement&&le.contains(Ee.target))switch(Ee.key){case"ArrowDown":Ee.preventDefault(),de(function(ne,re){return ne.indexOf(re)+1});break;case"ArrowLeft":Ee.preventDefault(),K(r$d.Collapse);break;case"ArrowRight":Ee.preventDefault(),K(r$d.Expand);break;case"ArrowUp":Ee.preventDefault,de(function(ne,re){return ne.indexOf(re)-1});break;case"End":Ee.preventDefault(),de(function(ne,re){return ne.length-1});break;case" ":case"Enter":case"Space":Ee.preventDefault(),fe();break;case"Home":Ee.preventDefault(),de(function(ne,re){return 0})}},fe=function(){var Ee=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");Ee&&Ee.click()},de=function(Ee){var le=Y.current,ne=[].slice.call(le.getElementsByClassName("rpv-bookmark__item"));if(ne.length!==0){var re=document.activeElement,Q=ne[Math.min(ne.length-1,Math.max(0,Ee(ne,re)))];re.setAttribute("tabindex","-1"),Q.setAttribute("tabindex","0"),Q.focus()}},K=function(Ee){var le=Y.current;if([].slice.call(le.getElementsByClassName("rpv-bookmark__item")).length!==0){var ne=document.activeElement.closest(".rpv-bookmark__item"),re=Ee===r$d.Collapse?"true":"false";if(ne&&ne.parentElement.getAttribute("aria-expanded")===re){var Q=ne.querySelector(".rpv-bookmark__toggle");Q&&Q.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",ge),function(){document.removeEventListener("keydown",ge)}},[]),o$d.useEffect(function(){var Ee=Y.current;if(Ee){var le=[].slice.call(Ee.getElementsByClassName("rpv-bookmark__item"));le.length>0&&(le[0].focus(),le[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:Y},o$d.createElement(m$9,{bookmarks:$,depth:0,doc:H,isBookmarkExpanded:R,isRoot:!0,pathFromRoot:"",renderBookmarkItem:O,store:B}))},s$9=function(A){var $=A.doc,H=A.isBookmarkExpanded,R=A.renderBookmarkItem,O=A.store,B=o$d.useContext(e$d.LocalizationContext).l10n,Y=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,ge=o$d.useState({isLoaded:!1,items:[]}),fe=ge[0],de=ge[1];return o$d.useEffect(function(){de({isLoaded:!1,items:[]}),$.getOutline().then(function(K){de({isLoaded:!0,items:K||[]})})},[$]),fe.isLoaded?fe.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":Y})},B&&B.bookmark?B.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":Y})},o$d.createElement(l$d,{bookmarks:fe.items,doc:$,isBookmarkExpanded:H,renderBookmarkItem:R,store:O})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(A){var $=A.isBookmarkExpanded,H=A.renderBookmarkItem,R=A.store,O=o$d.useState(R.get("doc")),B=O[0],Y=O[1],ge=function(fe){Y(fe)};return o$d.useEffect(function(){return R.subscribe("doc",ge),function(){R.unsubscribe("doc",ge)}},[]),B?o$d.createElement(s$9,{doc:B,isBookmarkExpanded:$,renderBookmarkItem:H,store:R}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var A=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){A.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){A.update("doc",$.doc)},Bookmarks:function($){return o$d.createElement(u$d,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function(A){var $=libExports$h;function H(Q){var q=Object.create(null);return Q&&Object.keys(Q).forEach(function(oe){if(oe!=="default"){var se=Object.getOwnPropertyDescriptor(Q,oe);Object.defineProperty(q,oe,se.get?se:{enumerable:!0,get:function(){return Q[oe]}})}}),q.default=Q,Object.freeze(q)}var R,O=H(reactExports);A.ThumbnailDirection=void 0,(R=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",R.Vertical="Vertical";var B=function(){return B=Object.assign||function(Q){for(var q,oe=1,se=arguments.length;oe<se;oe++)for(var ue in q=arguments[oe])Object.prototype.hasOwnProperty.call(q,ue)&&(Q[ue]=q[ue]);return Q},B.apply(this,arguments)},Y=function(Q){var q=Q.doc,oe=Q.getPageIndex,se=Q.renderSpinner,ue=Q.store,pe=Q.width,ee=q.numPages,ae=oe?oe({numPages:ee}):0,Ae=Math.max(0,Math.min(ae,ee-1)),ve=ue.get("pagesRotation")||new Map,te=ve.has(Ae)?ve.get(Ae):0,_e=O.useState(""),he=_e[0],Pe=_e[1],De=$.useIsMounted(),be=O.useRef(),Te=O.useState(ue.get("rotation")||0),He=Te[0],Qe=Te[1],Fe=O.useState(te),nt=Fe[0],at=Fe[1],ht=O.useState(!1),yt=ht[0],we=ht[1],W=function(ie){var ce=ie.has(Ae)?ie.get(Ae):0;at(ce)},J=function(ie){Qe(ie)},G=$.useIntersectionObserver({onVisibilityChanged:function(ie){we(ie.isVisible)}});return O.useEffect(function(){if(yt){var ie=G.current;ie&&(Pe(""),$.getPage(q,Ae).then(function(ce){var ye=ce.getViewport({scale:1}),Ce=(ye.rotation+He+nt)%360,Re=Math.abs(He+nt)%180==0,Xe=Re?ye.width:ye.height,Ge=Re?ye.height:ye.width,tt=document.createElement("canvas"),st=tt.getContext("2d",{alpha:!1}),vt=ie.clientWidth,ut=ie.clientHeight,ft=pe?pe/Xe:Math.min(vt/Xe,ut/Ge),gt=ft*Xe,pt=ft*Ge;tt.height=pt,tt.width=gt,tt.style.opacity="0";var Ft=ce.getViewport({rotation:Ce,scale:ft});be.current=ce.render({canvasContext:st,viewport:Ft}),be.current.promise.then(function(){De.current&&Pe(tt.toDataURL()),tt.width=0,tt.height=0},function(){})}))}},[nt,yt]),O.useEffect(function(){return ue.subscribe("pagesRotation",W),ue.subscribe("rotation",J),function(){ue.unsubscribe("pagesRotation",W),ue.unsubscribe("rotation",J)}},[]),O.useEffect(function(){return function(){var ie;(ie=be.current)===null||ie===void 0||ie.cancel()}},[]),O.createElement("div",{ref:G,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},he?O.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:he}):O.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},se?se():O.createElement($.Spinner,null)))},ge=function(Q){var q=Q.getPageIndex,oe=Q.renderSpinner,se=Q.store,ue=Q.width,pe=O.useState(se.get("doc")),ee=pe[0],ae=pe[1],Ae=function(ve){ae(ve)};return O.useEffect(function(){return se.subscribe("doc",Ae),function(){se.unsubscribe("doc",Ae)}},[]),O.createElement("div",{className:"rpv-thumbnail__cover"},ee?O.createElement(Y,{doc:ee,getPageIndex:q,renderSpinner:oe,store:se,width:ue}):O.createElement("div",{className:"rpv-thumbnail__cover-loader"},oe?oe():O.createElement($.Spinner,null)))},fe=function(){return O.createElement($.Spinner,null)},de=O.createContext({renderSpinner:fe}),K=function(Q){var q=Q.children,oe=Q.doc,se=$.useIsMounted(),ue=O.useState({loading:!0,labels:[]}),pe=ue[0],ee=ue[1];return O.useEffect(function(){oe.getPageLabels().then(function(ae){se.current&&ee({loading:!1,labels:ae||[]})})},[oe.loadingTask.docId]),pe.loading?O.createElement(O.Fragment,null):q(pe.labels)},Ee=function(Q){var q=Q.page,oe=Q.pageHeight,se=Q.pageIndex,ue=Q.pageWidth,pe=Q.rotation,ee=Q.thumbnailHeight,ae=Q.thumbnailWidth,Ae=Q.onRenderCompleted,ve=O.useContext($.LocalizationContext).l10n,te=O.useRef(),_e=O.useState(""),he=_e[0],Pe=_e[1],De=ve&&ve.thumbnail?ve.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return O.useEffect(function(){var be=te.current;be&&be.cancel();var Te=document.createElement("canvas"),He=Te.getContext("2d",{alpha:!1}),Qe=ae,Fe=Qe/(ue/oe),nt=Qe/ue;Te.height=Fe,Te.width=Qe,Te.style.height="".concat(Fe,"px"),Te.style.width="".concat(Qe,"px");var at=q.getViewport({rotation:pe,scale:nt});return te.current=q.render({canvasContext:He,viewport:at}),te.current.promise.then(function(){Pe(Te.toDataURL()),Ae(se)},function(){Ae(se)}),function(){var ht;(ht=te.current)===null||ht===void 0||ht.cancel()}},[pe]),he?O.createElement("img",{"aria-label":De.replace("{{pageIndex}}","".concat(se+1)),src:he,height:"".concat(ee,"px"),width:"".concat(ae,"px")}):O.useContext(de).renderSpinner()},le=function(Q){var q=Q.doc,oe=Q.pageHeight,se=Q.pageIndex,ue=Q.pageRotation,pe=Q.pageWidth,ee=Q.rotation,ae=Q.shouldRender,Ae=Q.thumbnailWidth,ve=Q.onRenderCompleted,te=Q.onVisibilityChanged,_e=$.useIsMounted(),he=O.useState({height:oe,page:null,viewportRotation:0,width:pe}),Pe=he[0],De=he[1],be=Pe.page,Te=Pe.height,He=Pe.width,Qe=He/Te,Fe=Math.abs(ee+ue)%180==0,nt=Fe?Ae:Ae/Qe,at=Fe?Ae/Qe:Ae;O.useEffect(function(){ae&&$.getPage(q,se).then(function(we){var W=we.getViewport({scale:1});_e.current&&De({height:W.height,page:we,viewportRotation:W.rotation,width:W.width})})},[ae]);var ht=(Pe.viewportRotation+ee+ue)%360,yt=$.useIntersectionObserver({onVisibilityChanged:function(we){te(se,we)}});return O.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(se),ref:yt,style:{height:"".concat(at,"px"),width:"".concat(nt,"px")}},be?O.createElement(Ee,{page:be,pageHeight:Fe?Te:He,pageIndex:se,pageWidth:Fe?He:Te,rotation:ht,thumbnailHeight:at,thumbnailWidth:nt,onRenderCompleted:ve}):O.useContext(de).renderSpinner())},ne=function(Q){var q=Q.currentPage,oe=Q.doc,se=Q.labels,ue=Q.pagesRotation,pe=Q.pageHeight,ee=Q.pageWidth,ae=Q.renderCurrentPageLabel,Ae=Q.renderThumbnailItem,ve=Q.rotatedPage,te=Q.rotation,_e=Q.thumbnailDirection,he=Q.thumbnailWidth,Pe=Q.viewMode,De=Q.onJumpToPage,be=Q.onRotatePage,Te=oe.numPages,He=oe.loadingTask.docId,Qe=O.useRef(null),Fe=O.useRef([]),nt=O.useState(q),at=nt[0],ht=nt[1],yt=O.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,we=O.useState(-1),W=we[0],J=we[1],G=$.useIsMounted(),ie=$.usePrevious(Pe),ce=O.useRef(!1),ye=$.useRenderQueue({doc:oe}),Ce=O.useMemo(function(){return Array(Te).fill(0).map(function(ft,gt){return gt})},[He]),Re=O.useMemo(function(){switch(Pe){case $.ViewMode.DualPage:return $.chunk(Ce,2);case $.ViewMode.DualPageWithCover:return[[Ce[0]]].concat($.chunk(Ce.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(Ce,1)}},[He,Pe]),Xe=function(){if(Qe.current){var ft=Fe.current,gt=at+1;gt<ft.length&&(at>=0&&ft[at].setAttribute("tabindex","-1"),ht(gt))}},Ge=function(){if(Qe.current){var ft=Fe.current,gt=at-1;gt>=0&&(at>=0&&ft[at].setAttribute("tabindex","-1"),ht(gt))}},tt=function(){at>=0&&at<Te&&De(at)};$.useIsomorphicLayoutEffect(function(){var ft=Qe.current;ft&&(Fe.current=Array.from(ft.querySelectorAll(".rpv-thumbnail__item")))},[Pe]),O.useEffect(function(){var ft=Fe.current;if(!(ft.length===0||at<0||at>ft.length)){var gt=ft[at];gt.setAttribute("tabindex","0"),gt.focus()}},[at]),$.useIsomorphicLayoutEffect(function(){var ft=Qe.current,gt=Fe.current;if(!(!ft||gt.length===0||q<0||q>gt.length)){var pt=gt[q].closest(".rpv-thumbnail__items");pt&&(_e===A.ThumbnailDirection.Vertical?function(Ft,ot){var We=Ft.getBoundingClientRect().top-ot.getBoundingClientRect().top,Ue=Ft.clientHeight,ct=ot.clientHeight;We<0?ot.scrollTop+=We:We+Ue<=ct||(ot.scrollTop+=We+Ue-ct)}(pt,ft):function(Ft,ot){var We=Ft.getBoundingClientRect().left-ot.getBoundingClientRect().left,Ue=Ft.clientWidth,ct=ot.clientWidth;We<0?ot.scrollLeft+=We:We+Ue<=ct||(ot.scrollLeft+=We+Ue-ct)}(pt,ft))}},[q,_e]);var st=O.useCallback(function(ft){G.current&&(ye.markRendered(ft),ce.current=!1,ut())},[He]),vt=O.useCallback(function(ft,gt){gt.isVisible?ye.setVisibility(ft,gt.ratio):ye.setOutOfRange(ft),ut()},[He]),ut=O.useCallback(function(){if(!ce.current){var ft=ye.getHighestPriorityPage();ft>-1&&(ye.markRendering(ft),ce.current=!0,J(ft))}},[He]);return O.useEffect(function(){ve>=0&&(ye.markRendering(ve),ce.current=!0,J(ve))},[He,ve]),$.useIsomorphicLayoutEffect(function(){ie!==Pe&&(ye.markNotRendered(),ut())},[Pe]),O.createElement("div",{ref:Qe,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":_e===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":yt,"rpv-thumbnail__list--vertical":_e===A.ThumbnailDirection.Vertical}),onKeyDown:function(ft){switch(ft.key){case"ArrowDown":Xe();break;case"ArrowUp":Ge();break;case"Enter":tt()}}},Re.map(function(ft,gt){var pt=!1;switch(Pe){case $.ViewMode.DualPage:pt=q===2*gt||q===2*gt+1;break;case $.ViewMode.DualPageWithCover:pt=q===0&&gt===0||gt>0&&q===2*gt-1||gt>0&&q===2*gt;break;case $.ViewMode.SinglePage:default:pt=q===gt}return O.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":Pe===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":Pe===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":Pe===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":pt}),key:"".concat(gt,"___").concat(Pe)},ft.map(function(Ft){return function(ot){var We=Pe===$.ViewMode.DualPageWithCover&&(ot===0||Te%2==0&&ot===Te-1),Ue="".concat(oe.loadingTask.docId,"___").concat(ot),ct=se.length===Te?se[ot]:"".concat(ot+1),At=ae?ae({currentPage:q,pageIndex:ot,numPages:Te,pageLabel:ct}):ct,Ct=ue.has(ot)?ue.get(ot):0,Ht=O.createElement(le,{doc:oe,pageHeight:pe,pageIndex:ot,pageRotation:Ct,pageWidth:ee,rotation:te,shouldRender:W===ot,thumbnailWidth:he,onRenderCompleted:st,onVisibilityChanged:vt});return Ae?Ae({currentPage:q,key:Ue,numPages:Te,pageIndex:ot,renderPageLabel:O.createElement(O.Fragment,null,At),renderPageThumbnail:Ht,onJumpToPage:function(){return De(ot)},onRotatePage:function(Zt){return be(ot,Zt)}}):O.createElement("div",{key:Ue},O.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":Pe===$.ViewMode.DualPage&&ot%2==0,"rpv-thumbnail__item--dual-odd":Pe===$.ViewMode.DualPage&&ot%2==1,"rpv-thumbnail__item--dual-cover":We,"rpv-thumbnail__item--dual-cover-even":Pe===$.ViewMode.DualPageWithCover&&!We&&ot%2==0,"rpv-thumbnail__item--dual-cover-odd":Pe===$.ViewMode.DualPageWithCover&&!We&&ot%2==1,"rpv-thumbnail__item--single":Pe===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":q===ot}),role:"button",tabIndex:q===ot?0:-1,onClick:function(){return De(ot)}},Ht),O.createElement("div",{"data-testid":"thumbnail__label-".concat(ot),className:"rpv-thumbnail__label"},At))}(Ft)}))}))},re=function(Q){var q=Q.renderCurrentPageLabel,oe=Q.renderThumbnailItem,se=Q.store,ue=Q.thumbnailDirection,pe=Q.thumbnailWidth,ee=O.useState(se.get("doc")),ae=ee[0],Ae=ee[1],ve=O.useState(se.get("currentPage")||0),te=ve[0],_e=ve[1],he=O.useState(se.get("pageHeight")||0),Pe=he[0],De=he[1],be=O.useState(se.get("pageWidth")||0),Te=be[0],He=be[1],Qe=O.useState(se.get("rotation")||0),Fe=Qe[0],nt=Qe[1],at=O.useState(se.get("pagesRotation")||new Map),ht=at[0],yt=at[1],we=O.useState(se.get("rotatedPage")||-1),W=we[0],J=we[1],G=O.useState(se.get("viewMode")),ie=G[0],ce=G[1],ye=function(gt){_e(gt)},Ce=function(gt){Ae(gt)},Re=function(gt){De(gt)},Xe=function(gt){He(gt)},Ge=function(gt){nt(gt)},tt=function(gt){yt(gt)},st=function(gt){J(gt)},vt=function(gt){ce(gt)},ut=function(gt){var pt=se.get("jumpToPage");pt&&pt(gt)},ft=function(gt,pt){se.get("rotatePage")(gt,pt)};return O.useEffect(function(){return se.subscribe("doc",Ce),se.subscribe("pageHeight",Re),se.subscribe("pageWidth",Xe),se.subscribe("rotatedPage",st),se.subscribe("rotation",Ge),se.subscribe("pagesRotation",tt),se.subscribe("viewMode",vt),function(){se.unsubscribe("doc",Ce),se.unsubscribe("pageHeight",Re),se.unsubscribe("pageWidth",Xe),se.unsubscribe("rotatedPage",st),se.unsubscribe("rotation",Ge),se.unsubscribe("pagesRotation",tt),se.unsubscribe("viewMode",vt)}},[]),$.useIsomorphicLayoutEffect(function(){return se.subscribe("currentPage",ye),function(){se.unsubscribe("currentPage",ye)}},[]),ae?O.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},O.createElement(K,{doc:ae},function(gt){return O.createElement(ne,{currentPage:te,doc:ae,labels:gt,pagesRotation:ht,pageHeight:Pe,pageWidth:Te,renderCurrentPageLabel:q,renderThumbnailItem:oe,rotatedPage:W,rotation:Fe,thumbnailDirection:ue,thumbnailWidth:pe,viewMode:ie,onJumpToPage:ut,onRotatePage:ft})})):O.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},O.useContext(de).renderSpinner())};A.thumbnailPlugin=function(Q){var q=O.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),oe=O.useState(""),se=oe[0],ue=oe[1];return{install:function(pe){q.update("jumpToPage",pe.jumpToPage),q.update("rotatePage",pe.rotatePage)},onDocumentLoad:function(pe){ue(pe.doc.loadingTask.docId),q.update("doc",pe.doc)},onViewerStateChange:function(pe){return q.update("currentPage",pe.pageIndex),q.update("pagesRotation",pe.pagesRotation),q.update("pageHeight",pe.pageHeight),q.update("pageWidth",pe.pageWidth),q.update("rotation",pe.rotation),q.update("rotatedPage",pe.rotatedPage),q.update("viewMode",pe.viewMode),pe},Cover:function(pe){return O.createElement(ge,B({},pe,{renderSpinner:Q==null?void 0:Q.renderSpinner,store:q}))},Thumbnails:O.useCallback(function(pe){return O.createElement(de.Provider,{value:{renderSpinner:(Q==null?void 0:Q.renderSpinner)||fe}},O.createElement(re,{renderCurrentPageLabel:Q==null?void 0:Q.renderCurrentPageLabel,renderThumbnailItem:pe==null?void 0:pe.renderThumbnailItem,store:q,thumbnailDirection:(pe==null?void 0:pe.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(Q==null?void 0:Q.thumbnailWidth)||100}))},[se])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(A){var $=libExports$h;function H(re){var Q=Object.create(null);return re&&Object.keys(re).forEach(function(q){if(q!=="default"){var oe=Object.getOwnPropertyDescriptor(re,q);Object.defineProperty(Q,q,oe.get?oe:{enumerable:!0,get:function(){return re[q]}})}}),Q.default=re,Object.freeze(Q)}var R,O=H(reactExports),B=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},Y=function(){return Y=Object.assign||function(re){for(var Q,q=1,oe=arguments.length;q<oe;q++)for(var se in Q=arguments[q])Object.prototype.hasOwnProperty.call(Q,se)&&(re[se]=Q[se]);return re},Y.apply(this,arguments)};A.SelectionMode=void 0,(R=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",R.Text="Text";var ge=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},fe=function(re){var Q=re.children,q=re.mode,oe=re.onClick,se=O.useContext($.LocalizationContext).l10n,ue="",pe=O.createElement(ge,null);switch(q){case A.SelectionMode.Hand:ue=se&&se.selectionMode?se.selectionMode.handTool:"Hand tool",pe=O.createElement(B,null);break;case A.SelectionMode.Text:default:ue=se&&se.selectionMode?se.selectionMode.textSelectionTool:"Text selection tool",pe=O.createElement(ge,null)}return Q({icon:pe,label:ue,onClick:oe})},de={left:0,top:8},K=function(re){var Q=re.isSelected,q=re.mode,oe=re.onClick,se="";switch(q){case A.SelectionMode.Hand:se="selection-mode__hand-button";break;case A.SelectionMode.Text:default:se="selection-mode__text-button"}return O.createElement(fe,{mode:q,onClick:oe},function(ue){return O.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:O.createElement($.MinimalButton,{ariaLabel:ue.label,isSelected:Q,testId:se,onClick:ue.onClick},ue.icon),content:function(){return ue.label},offset:de})})},Ee=function(re){var Q=re.children,q=re.mode,oe=re.store,se=q===oe.get("selectionMode");return(Q||function(ue){return O.createElement(K,{isSelected:se,mode:ue.mode,onClick:ue.onClick})})({isSelected:se,mode:q,onClick:function(){return oe.update("selectionMode",q)}})},le=function(re){var Q=re.isSelected,q=re.mode,oe=re.onClick,se="";switch(q){case A.SelectionMode.Hand:se="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:se="selection-mode__text-menu"}return O.createElement(fe,{mode:q,onClick:oe},function(ue){return O.createElement($.MenuItem,{checked:Q,icon:ue.icon,testId:se,onClick:ue.onClick},ue.label)})},ne=function(re){var Q=re.store,q=O.useRef(null),oe=O.useState(A.SelectionMode.Text),se=oe[0],ue=oe[1],pe=O.useRef({top:0,left:0,x:0,y:0}),ee=function(_e){var he=q.current;he&&(he.scrollTop=pe.current.top-(_e.clientY-pe.current.y),he.scrollLeft=pe.current.left-(_e.clientX-pe.current.x))},ae=function(){var _e=q.current;_e&&(_e.classList.add("rpv-selection-mode__grab"),_e.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",ee),document.removeEventListener("mouseup",ae))},Ae=function(_e){var he=q.current;he&&se!==A.SelectionMode.Text&&(he.classList.remove("rpv-selection-mode__grab"),he.classList.add("rpv-selection-mode__grabbing"),_e.preventDefault(),_e.stopPropagation(),pe.current={left:he.scrollLeft,top:he.scrollTop,x:_e.clientX,y:_e.clientY},document.addEventListener("mousemove",ee),document.addEventListener("mouseup",ae))},ve=function(_e){q.current=_e()},te=function(_e){ue(_e)};return O.useEffect(function(){var _e=q.current;if(_e)return se===A.SelectionMode.Hand?_e.classList.add("rpv-selection-mode__grab"):_e.classList.remove("rpv-selection-mode__grab"),_e.addEventListener("mousedown",Ae),function(){_e.removeEventListener("mousedown",Ae)}},[se]),O.useEffect(function(){return Q.subscribe("getPagesContainer",ve),Q.subscribe("selectionMode",te),function(){Q.unsubscribe("getPagesContainer",ve),Q.unsubscribe("selectionMode",te)}},[]),O.createElement(O.Fragment,null)};A.HandToolIcon=B,A.TextSelectionIcon=ge,A.selectionModePlugin=function(re){var Q=O.useMemo(function(){return $.createStore()},[]),q=function(oe){return O.createElement(Ee,Y({},oe,{store:Q}))};return{install:function(oe){Q.update("selectionMode",re&&re.selectionMode?re.selectionMode:A.SelectionMode.Text),Q.update("getPagesContainer",oe.getPagesContainer)},renderViewer:function(oe){var se=oe.slot;return se.subSlot&&se.subSlot.children&&(se.subSlot.children=O.createElement(O.Fragment,null,O.createElement(ne,{store:Q}),se.subSlot.children)),se},SwitchSelectionMode:q,SwitchSelectionModeButton:function(oe){return O.createElement(q,{mode:oe.mode},function(se){return O.createElement(K,{isSelected:se.isSelected,mode:se.mode,onClick:function(){se.onClick()}})})},SwitchSelectionModeMenuItem:function(oe){return O.createElement(q,{mode:oe.mode},function(se){return O.createElement(le,{isSelected:se.isSelected,mode:se.mode,onClick:function(){se.onClick(),oe.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$c=t$c(reactExports),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$c.useContext(e$c.LocalizationContext).l10n,O=R&&R.fullScreen?R.fullScreen.enterFullScreen:"Full screen",B=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:H},n$c.createElement(l$c,null)),content:function(){return O},offset:u$c})},i$c={left:0,top:8},a$c=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:R,testId:"full-screen__exit-button-with-tooltip",onClick:$},n$c.createElement(r$c,null)),content:function(){return R},offset:i$c})},f$9=function(A,$){var H=n$c.useState($.get("fullScreenMode")),R=H[0],O=H[1],B=n$c.useCallback(function(Y){O(Y)},[]);return n$c.useEffect(function(){return $.subscribe("fullScreenMode",B),function(){$.unsubscribe("fullScreenMode",B)}},[]),{enterFullScreen:function(){var Y=$.get("getPagesContainer");if(Y){var ge=A(Y());$.get("enterFullScreenMode")(ge)}},exitFullScreen:function(){$.get("exitFullScreenMode")()},isFullScreen:R===e$c.FullScreenMode.Entering||R===e$c.FullScreenMode.EnteredCompletely}},s$8=function(A){var $=A.children,H=A.enableShortcuts,R=A.getFullScreenTarget,O=A.store,B=f$9(R,O),Y=B.enterFullScreen,ge=B.exitFullScreen,fe=B.isFullScreen;return($||function(de){return fe?n$c.createElement(a$c,{onClick:de.onClick}):n$c.createElement(o$c,{enableShortcuts:H,onClick:de.onClick})})({onClick:fe?ge:Y})},S$4=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=H&&H.fullScreen?H.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:$},R)},d$9=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,O=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!R,"rpv-full-screen__exit-button--rtl":R})},n$c.createElement(e$c.MinimalButton,{ariaLabel:O,testId:"full-screen__exit-button",onClick:$},n$c.createElement(r$c,null)))},m$8=function(A){var $=A.children,H=A.getFullScreenTarget,R=A.store,O=f$9(H,R),B=O.enterFullScreen,Y=O.exitFullScreen,ge=O.isFullScreen;return ge&&($||function(fe){return n$c.createElement(d$9,{onClick:fe.onClick})})({onClick:ge?Y:B})},E$5=function(A){var $=A.store,H=A.onEnterFullScreen,R=A.onExitFullScreen,O=n$c.useState($.get("fullScreenMode")),B=O[0],Y=O[1],ge=n$c.useCallback(function(fe){Y(fe)},[]);return n$c.useEffect(function(){switch(B){case e$c.FullScreenMode.EnteredCompletely:H($.get("zoom"));break;case e$c.FullScreenMode.Exited:R($.get("zoom"))}},[B]),n$c.useEffect(function(){return $.subscribe("fullScreenMode",ge),function(){$.unsubscribe("fullScreenMode",ge)}},[]),(B===e$c.FullScreenMode.Entering||B===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(A){var $=A.containerRef,H=A.getFullScreenTarget,R=A.store,O=f$9(H,R).enterFullScreen,B=function(Y){if(!Y.shiftKey&&!Y.altKey&&(e$c.isMac()?Y.metaKey&&Y.ctrlKey&&Y.key==="f":Y.key==="F11")){var ge=$.current;ge&&document.activeElement&&ge.contains(document.activeElement)&&(Y.preventDefault(),O())}};return n$c.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(A){var $=(A==null?void 0:A.getFullScreenTarget)||function(Y){return Y},H=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),R=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),O=function(Y){return n$c.createElement(s$8,c$c({},Y,{enableShortcuts:H.enableShortcuts,getFullScreenTarget:$,store:R}))},B=function(){return n$c.createElement(m$8,{getFullScreenTarget:$,store:R},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(Y){R.update("enterFullScreenMode",Y.enterFullScreenMode),R.update("exitFullScreenMode",Y.exitFullScreenMode),R.update("getPagesContainer",Y.getPagesContainer),R.update("zoom",Y.zoom)},onViewerStateChange:function(Y){return R.update("fullScreenMode",Y.fullScreenMode),Y},renderViewer:function(Y){var ge=Y.slot;return ge.subSlot&&(ge.subSlot.children=n$c.createElement(n$c.Fragment,null,H.enableShortcuts&&n$c.createElement(F,{containerRef:Y.containerRef,getFullScreenTarget:$,store:R}),n$c.createElement(E$5,{store:R,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen}),n$c.createElement(B,null),ge.subSlot.children)),ge},EnterFullScreen:O,EnterFullScreenButton:function(){return n$c.createElement(O,null,function(Y){return n$c.createElement(o$c,c$c({enableShortcuts:H.enableShortcuts},Y))})},EnterFullScreenMenuItem:function(Y){return n$c.createElement(O,null,function(ge){return n$c.createElement(S$4,{onClick:function(){ge.onClick(),Y.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,R=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:R,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return R},offset:i$b})},c$b=function(A,$){var H=document.createElement("a");H.style.display="none",H.href=A,H.setAttribute("download",$),document.body.appendChild(H),H.click(),document.body.removeChild(H)},l$b=function(A,$,H){var R=URL.createObjectURL(new Blob([A],{type:H}));c$b(R,$),R&&URL.revokeObjectURL(R)},u$b=function(A,$){A.getData().then(function(H){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(H,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(R){return btoa(Array(R.length).fill("").map(function(O,B){return String.fromCharCode(R[B])}).join(""))}(H)),$):l$b(H,$,"application/pdf")})},f$8=function(A){var $=A.children,H=A.fileNameGenerator,R=A.store,O=n$b.useState(R.get("file")),B=O[0],Y=O[1],ge=n$b.useState(R.get("doc")),fe=ge[0],de=ge[1],K=function(le){de(le)},Ee=function(le){Y(le)};return n$b.useEffect(function(){return R.subscribe("doc",K),R.subscribe("file",Ee),function(){R.subscribe("doc",K),R.unsubscribe("file",Ee)}},[]),($||function(le){return n$b.createElement(a$b,{onClick:le.onClick})})({onClick:function(){fe&&B&&u$b(fe,H(B))}})},d$8=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,R=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},R)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(A){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),H=function(O){return O.name?(B=O.name,(Y=B.split("/").pop())?Y.split("#")[0].split("?")[0]:B):"document.pdf";var B,Y},R=function(O){return n$b.createElement(f$8,r$b({},O,{fileNameGenerator:A&&A.fileNameGenerator||H,store:$}))};return{onDocumentLoad:function(O){$.update("doc",O.doc),$.update("file",O.file)},Download:R,DownloadButton:function(){return n$b.createElement(R,null,function(O){return n$b.createElement(a$b,r$b({},O))})},DownloadMenuItem:function(O){return n$b.createElement(R,null,function(B){return n$b.createElement(d$8,{onClick:function(){B.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$a.apply(this,arguments)},i$a=function(A){var $=n$a.useRef(),H=function(){var O=$.current;O&&(O.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},R=function(O){O&&H()};return n$a.useEffect(function(){return A.subscribe("triggerOpenFile",R),function(){A.unsubscribe("triggerOpenFile",R)}},[]),{inputRef:$,openFile:H}},c$a={left:0,top:8},u$a=function(A){var $=A.enableShortcuts,H=A.store,R=A.onClick,O=n$a.useContext(e$a.LocalizationContext).l10n,B=O&&O.open?O.open.openFile:"Open file",Y=i$a(H),ge=Y.inputRef,fe=Y.openFile,de=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:ge,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:R}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:de,ariaLabel:B,testId:"open__button",onClick:fe},n$a.createElement(r$a,null))),content:function(){return B},offset:c$a})},a$a=function(A){var $=A.children,H=A.enableShortcuts,R=A.store;return($||function(O){return n$a.createElement(u$a,{enableShortcuts:H,store:R,onClick:O.onClick})})({onClick:function(O){var B=O.target.files;if(B&&B.length){var Y=R.get("openFile");Y&&Y(B[0])}}})},l$a=function(A){var $=A.store,H=A.onClick,R=n$a.useContext(e$a.LocalizationContext).l10n,O=R&&R.open?R.open.openFile:"Open file",B=i$a($),Y=B.inputRef,ge=B.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:ge},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:Y,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:H}),O))},p$7=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="o"&&(e$a.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(O.preventDefault(),H.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(A){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$a.useMemo(function(){return e$a.createStore({})},[]),R=function(O){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},O,{store:H}))};return{install:function(O){H.update("openFile",O.openFile)},renderViewer:function(O){var B=O.slot,Y={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$7,{containerRef:O.containerRef,store:H}),B.children)};return o$a(o$a({},B),Y)},Open:R,OpenButton:function(){return n$a.createElement(R,null)},OpenMenuItem:function(){return n$a.createElement(R,null,function(O){return n$a.createElement(l$a,{store:H,onClick:O.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$9.apply(this,arguments)},i$9=function(A){var $=n$9.useState(A.get("currentPage")||0),H=$[0],R=$[1],O=function(B){R(B)};return e$9.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",O),function(){A.unsubscribe("currentPage",O)}},[]),{currentPage:H}},u$9=function(A){var $=n$9.useState(A.get("numberOfPages")||0),H=$[0],R=$[1],O=function(B){R(B)};return n$9.useEffect(function(){return A.subscribe("numberOfPages",O),function(){A.unsubscribe("numberOfPages",O)}},[]),{numberOfPages:H}},c$9=function(A){var $=A.store,H=n$9.useContext(e$9.LocalizationContext).l10n,R=n$9.useState("1"),O=R[0],B=R[1],Y=i$9($).currentPage,ge=u$9($).numberOfPages;n$9.useEffect(function(){return B("".concat(Y+1))},[Y]);var fe=function(K){var Ee=$.get("jumpToPage");Ee&&Ee(K)},de=H&&H.pageNavigation?H.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:de,testId:"page-navigation__current-page-input",type:"text",value:O,onChange:B,onKeyDown:function(K){switch(K.key){case"ArrowUp":(ne=Y-1)>=0&&(B("".concat(ne+1)),fe(ne));break;case"ArrowDown":(le=Y+1)<ge&&(B("".concat(le+1)),fe(le));break;case"Enter":Ee=parseInt(O,10),O===""||Ee<1||Ee>ge?B("".concat(Y+1)):fe(Ee-1)}var Ee,le,ne}}))},l$9=function(A){var $=A.children,H=A.doc,R=e$9.useIsMounted(),O=n$9.useState({loading:!0,labels:[]}),B=O[0],Y=O[1];return n$9.useEffect(function(){H.getPageLabels().then(function(ge){R.current&&Y({loading:!1,labels:ge||[]})})},[H.loadingTask.docId]),B.loading?n$9.createElement(n$9.Fragment,null):$(B.labels)},s$7=function(A){var $=A.children,H=A.store,R=function(ge){var fe=n$9.useState(ge.get("doc")),de=fe[0],K=fe[1],Ee=function(le){K(le)};return n$9.useEffect(function(){return ge.subscribe("doc",Ee),function(){ge.unsubscribe("doc",Ee)}},[]),de}(H),O=i$9(H).currentPage,B=u$9(H).numberOfPages,Y=$||function(ge){return n$9.createElement(n$9.Fragment,null,ge.currentPage+1)};return R?n$9.createElement(l$9,{doc:R},function(ge){var fe=ge.length===B&&B>0?ge[O]:"";return Y({currentPage:O,numberOfPages:B,pageLabel:fe})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__first-button",onClick:H},n$9.createElement(g$5,null)),content:function(){return O},offset:f$7})},p$6=function(A){var $=A.children,H=A.store;return($||function(R){return n$9.createElement(m$7,{isDisabled:R.isDisabled,onClick:R.onClick})})({isDisabled:i$9(H).currentPage===0,onClick:function(){var R=H.get("jumpToPage");R&&R(0)}})},v$5=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:H},O)},d$7={left:0,top:8},P$2=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__last-button",onClick:H},n$9.createElement(a$9,null)),content:function(){return O},offset:d$7})},b$4=function(A){var $=A.children,H=A.store,R=i$9(H).currentPage,O=u$9(H).numberOfPages;return($||function(B){return n$9.createElement(P$2,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:R+1>=O,onClick:function(){var B=H.get("jumpToPage");B&&B(O-1)}})},E$4=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:H},O)},C$3={left:0,top:8},D=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__next-button",onClick:H},n$9.createElement(r$9,null)),content:function(){return O},offset:C$3})},k$3=function(A){var $=A.children,H=A.store;return($||function(R){return n$9.createElement(D,{onClick:R.onClick,isDisabled:R.isDisabled})})({isDisabled:i$9(H).currentPage+1>=u$9(H).numberOfPages,onClick:function(){var R=H.get("jumpToNextPage");R&&R()}})},T=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:H},O)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__previous-button",onClick:H},n$9.createElement(x$1,null)),content:function(){return O},offset:L})},j=function(A){var $=A.store;return(A.children||function(H){return n$9.createElement(N,{isDisabled:H.isDisabled,onClick:H.onClick})})({isDisabled:i$9($).currentPage<=0,onClick:function(){var H=$.get("jumpToPreviousPage");H&&H()}})},I$2=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:H},O)},h$5=function(A){var $=A.children,H=A.store,R=u$9(H).numberOfPages;return $?$({numberOfPages:R}):n$9.createElement(n$9.Fragment,null,R)},y$1=function(A){var $=A.containerRef,H=A.numPages,R=A.store,O=i$9(R).currentPage,B=n$9.useRef(O);B.current=O;var Y=n$9.useRef(!1),ge=function(){Y.current=!0},fe=function(){Y.current=!1},de=function(K){var Ee=$.current,le=Y.current||document.activeElement&&Ee.contains(document.activeElement);if(Ee&&le){var ne,re,Q=K.altKey&&K.key==="ArrowDown"||!K.shiftKey&&!K.altKey&&K.key==="PageDown",q=K.altKey&&K.key==="ArrowUp"||!K.shiftKey&&!K.altKey&&K.key==="PageUp";if(Q)return K.preventDefault(),ne=R.get("jumpToPage"),re=B.current+1,void(ne&&re<H&&ne(re));if(q)return K.preventDefault(),void function(){var oe=R.get("jumpToPage"),se=B.current-1;oe&&se>=0&&oe(se)}();if(e$9.isMac()?K.metaKey&&!K.ctrlKey:K.altKey)switch(K.key){case"ArrowLeft":K.preventDefault(),function(){var oe=R.get("jumpToPreviousDestination");oe&&oe()}();break;case"ArrowRight":K.preventDefault(),function(){var oe=R.get("jumpToNextDestination");oe&&oe()}()}}};return n$9.useEffect(function(){var K=$.current;if(K)return document.addEventListener("keydown",de),K.addEventListener("mouseenter",ge),K.addEventListener("mouseleave",fe),function(){document.removeEventListener("keydown",de),K.removeEventListener("mouseenter",ge),K.removeEventListener("mouseleave",fe)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$9.useMemo(function(){return e$9.createStore()},[]),R=function(ge){return n$9.createElement(p$6,o$9({},ge,{store:H}))},O=function(ge){return n$9.createElement(b$4,o$9({},ge,{store:H}))},B=function(ge){return n$9.createElement(k$3,o$9({},ge,{store:H}))},Y=function(ge){return n$9.createElement(j,o$9({},ge,{store:H}))};return{install:function(ge){H.update("jumpToDestination",ge.jumpToDestination),H.update("jumpToNextDestination",ge.jumpToNextDestination),H.update("jumpToNextPage",ge.jumpToNextPage),H.update("jumpToPage",ge.jumpToPage),H.update("jumpToPreviousDestination",ge.jumpToPreviousDestination),H.update("jumpToPreviousPage",ge.jumpToPreviousPage)},renderViewer:function(ge){var fe=ge.slot;if(!$.enableShortcuts)return fe;var de={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:ge.containerRef,numPages:ge.doc.numPages,store:H}),fe.children)};return o$9(o$9({},fe),de)},onDocumentLoad:function(ge){H.update("doc",ge.doc),H.update("numberOfPages",ge.doc.numPages)},onViewerStateChange:function(ge){return H.update("currentPage",ge.pageIndex),ge},jumpToNextPage:function(){var ge=H.get("jumpToNextPage");ge&&ge()},jumpToPage:function(ge){var fe=H.get("jumpToPage");fe&&fe(ge)},jumpToPreviousPage:function(){var ge=H.get("jumpToPreviousPage");ge&&ge()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:H})},CurrentPageLabel:function(ge){return n$9.createElement(s$7,o$9({},ge,{store:H}))},GoToFirstPage:R,GoToFirstPageButton:function(){return n$9.createElement(R,null,function(ge){return n$9.createElement(m$7,o$9({},ge))})},GoToFirstPageMenuItem:function(ge){return n$9.createElement(R,null,function(fe){return n$9.createElement(v$5,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ge.onClick()}})})},GoToLastPage:O,GoToLastPageButton:function(){return n$9.createElement(O,null,function(ge){return n$9.createElement(P$2,o$9({},ge))})},GoToLastPageMenuItem:function(ge){return n$9.createElement(O,null,function(fe){return n$9.createElement(E$4,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ge.onClick()}})})},GoToNextPage:B,GoToNextPageButton:function(){return n$9.createElement(B,null,function(ge){return n$9.createElement(D,o$9({},ge))})},GoToNextPageMenuItem:function(ge){return n$9.createElement(B,null,function(fe){return n$9.createElement(T,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ge.onClick()}})})},GoToPreviousPage:Y,GoToPreviousPageButton:function(){return n$9.createElement(Y,null,function(ge){return n$9.createElement(N,o$9({},ge))})},GoToPreviousPageMenuItem:function(ge){return n$9.createElement(Y,null,function(fe){return n$9.createElement(I$2,{isDisabled:fe.isDisabled,onClick:function(){fe.onClick(),ge.onClick()}})})},NumberOfPages:function(ge){return n$9.createElement(h$5,o$9({},ge,{store:H}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(A){var $=A.enableShortcuts,H=A.onClick,R=a$8.useContext(e$8.LocalizationContext).l10n,O=R&&R.print?R.print.print:"Print",B=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"print__button",onClick:H},a$8.createElement(i$8,null)),content:function(){return O},offset:u$8})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$8||(o$8={}));var l$8=function(A){var $=A.children,H=A.enableShortcuts,R=A.store;return($||s$6)({enableShortcuts:H,onClick:function(){R.update("printStatus",o$8.CheckingPermission)}})},p$5=function(A){var $=A.doc,H=A.store,R=a$8.useContext(e$8.LocalizationContext).l10n,O=a$8.useState(!0),B=O[0],Y=O[1];return a$8.useEffect(function(){$.getPermissions().then(function(ge){ge===null||ge.includes(4)||ge.includes(2048)?H.update("printStatus",o$8.Preparing):Y(!1)})},[]),B?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(ge){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},R&&R.print?R.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){ge(),H.update("printStatus",o$8.Cancelled)}},R&&R.print?R.print.close:"Close")))},isOpened:!0})},m$6=function(A){var $=A.numLoadedPages,H=A.numPages,R=A.onCancel,O=a$8.useContext(e$8.LocalizationContext).l10n,B=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,Y=Math.floor(100*$/H);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":B})},a$8.createElement("div",{className:"rpv-print__progress-message"},O&&O.print?O.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:Y})),a$8.createElement(e$8.Button,{onClick:R},O&&O.print?O.print.cancel:"Cancel")))},d$6=function(A){var $=A.canvas,H=A.page,R=A.pageHeight,O=A.pageIndex,B=A.pageWidth,Y=A.rotation,ge=A.onLoad,fe=e$8.useIsMounted(),de=a$8.useRef(),K=a$8.useState(""),Ee=K[0],le=K[1],ne=a$8.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var re=de.current;re&&re.cancel();var Q=150/72;$.height=Math.floor(R*Q),$.width=Math.floor(B*Q);var q=$.getContext("2d");q.save(),q.fillStyle="rgb(255, 255, 255)",q.fillRect(0,0,$.width,$.height),q.restore();var oe=H.getViewport({rotation:Y,scale:1});de.current=H.render({canvasContext:q,intent:"print",transform:[Q,0,0,Q,0,0],viewport:oe}),de.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(se){fe.current&&le(URL.createObjectURL(se)),ne&&ge()}):(fe.current&&le($.toDataURL()),ne&&ge())},function(){})},[]),Ee&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(O),src:Ee,onLoad:function(){ne||ge()}}))},f$6=function(A){var $=A.canvas,H=A.doc,R=A.pageIndex,O=A.pageRotation,B=A.pageSize,Y=A.rotation,ge=A.shouldRender,fe=A.onLoad,de=e$8.useIsMounted(),K=a$8.useState(null),Ee=K[0],le=K[1],ne=Math.abs(Y+O)%180==0;a$8.useEffect(function(){ge&&e$8.getPage(H,R).then(function(Q){de.current&&le(Q)})},[ge]);var re=(B.rotation+Y+O)%360;return Ee&&a$8.createElement(d$6,{canvas:$,page:Ee,pageHeight:ne?B.pageHeight:B.pageWidth,pageIndex:R,pageWidth:ne?B.pageWidth:B.pageHeight,rotation:re,onLoad:fe})},g$4=function(A){var $=A.doc,H=A.numLoadedPages,R=A.pagesRotation,O=A.pageSizes,B=A.printPages,Y=A.printStatus,ge=A.rotation,fe=A.onCancel,de=A.onLoad,K=a$8.useMemo(function(){return document.createElement("canvas")},[]),Ee=a$8.useMemo(function(){var re=document.querySelector(".rpv-print__zone");if(re)return re;var Q=document.createElement("div");return Q.classList.add("rpv-print__zone"),Q.setAttribute("data-testid","print__zone"),document.body.appendChild(Q),Q},[]);a$8.useEffect(function(){Y===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var re=function(){if(Y===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var Q=document.querySelectorAll(".rpv-print__zone");Q&&Q.forEach(function(q){q.parentElement.removeChild(q)}),K.height=0,K.width=0,document.removeEventListener("mousemove",re),fe()}};return document.addEventListener("mousemove",re),function(){return document.removeEventListener("mousemove",re)}},[Y]);var le=O[0].pageHeight,ne=O[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,B.map(function(re,Q){return a$8.createElement(f$6,{key:re,canvas:K,doc:$,pageIndex:re,pageRotation:R.has(re)?R.get(re):0,pageSize:O[re],rotation:ge,shouldRender:Q===H,onLoad:de})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(ne,"pt ").concat(le,"pt }")}})),Ee)},v$4=function(A){var $=A.doc,H=A.pagesRotation,R=A.pageSizes,O=A.renderProgressBar,B=A.rotation,Y=A.setPages,ge=A.store,fe=a$8.useState(o$8.Inactive),de=fe[0],K=fe[1],Ee=a$8.useState(0),le=Ee[0],ne=Ee[1],re=a$8.useMemo(function(){var se=$.numPages;return Y($).filter(function(ue){return ue>=0&&ue<se})},[$,Y]),Q=re.length,q=function(){ne(0),K(o$8.Inactive)},oe=function(se){return K(se)};return a$8.useEffect(function(){return ge.subscribe("printStatus",oe),function(){ge.unsubscribe("printStatus",oe)}},[]),a$8.createElement(a$8.Fragment,null,de===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:$,store:ge}),de===o$8.Preparing&&(O?O(le,Q,q):a$8.createElement(m$6,{numLoadedPages:le,numPages:Q,onCancel:q})),(de===o$8.Preparing||de===o$8.Ready)&&le<=Q&&a$8.createElement(g$4,{doc:$,numLoadedPages:le,pagesRotation:H,pageSizes:R,printPages:re,printStatus:de,rotation:B,onCancel:q,onLoad:function(){var se=le+1;se<=Q&&(ne(se),se===Q&&K(o$8.Ready))}}))},h$4=function(A){var $=A.onClick,H=a$8.useContext(e$8.LocalizationContext).l10n,R=H&&H.print?H.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},R)},E$3=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="p"&&(e$8.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(O.preventDefault(),H.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H})},print_min.getCustomPagesNumbers=function(A){return function($){var H,R=[];return A.replace(/\s+/g,"").split(",").forEach(function(O){var B,Y,ge=O.split("-").map(function(fe){return parseInt(fe,10)}).filter(function(fe){return Number.isInteger(fe)});ge.length===1?R.push(ge[0]-1):ge.length===2&&R.push.apply(R,(B=ge[0]-1,Y=ge[1]-1,Array(Y-B+1).fill(0).map(function(fe,de){return B+de})))}),(H=R,H.filter(function(O){return H.indexOf(O)===H.lastIndexOf(O)})).filter(function(O){return O>=0&&O<$.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(A){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(O){return Array(O.numPages).fill(0).map(function(B,Y){return Y})}},A)},[]),H=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),R=function(O){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},O,{store:H}))};return{print:function(){H.update("printStatus",o$8.CheckingPermission)},renderViewer:function(O){var B=O.slot,Y={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:O.containerRef,store:H}),a$8.createElement(v$4,{doc:O.doc,pagesRotation:O.pagesRotation,pageSizes:O.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:O.rotation,setPages:$.setPages,store:H}),B.children)};return c$8(c$8({},B),Y)},Print:R,PrintButton:function(){return a$8.createElement(R,null,function(O){return a$8.createElement(s$6,c$8({},O))})},PrintMenuItem:function(O){return a$8.createElement(R,null,function(B){return a$8.createElement(h$4,{onClick:function(){B.onClick(),O.onClick()}})})},setPages:function(O){$.setPages=O}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$7.apply(this,arguments)},a$7=function(A){var $=A.doc,H=A.render,R=r$7.useState(),O=R[0],B=R[1];return r$7.useEffect(function(){$.getMetadata().then(function(Y){return Promise.resolve(Y)}).then(function(Y){return $.getDownloadInfo().then(function(ge){return Promise.resolve({fileName:Y.contentDispositionFilename||"",info:Y.info,length:ge.length})})}).then(function(Y){B(Y)})},[]),O?H(O):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(A){var $=A.label,H=A.value,R=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":R})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},H||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(A,$,H,R){var O=parseInt(A,10);return O>=$&&O<=H?O:R},p$4=function(A){var $=A.doc,H=A.fileName,R=A.onToggle,O=r$7.useContext(e$7.LocalizationContext).l10n,B=function(Y){var ge=function(fe){var de=l$7.exec(fe);if(!de)return null;var K=parseInt(de[1],10),Ee=c$7(de[2],1,12,1)-1,le=c$7(de[3],1,31,1),ne=c$7(de[4],0,23,0),re=c$7(de[5],0,59,0),Q=c$7(de[6],0,59,0),q=de[7]||"Z",oe=c$7(de[8],0,23,0),se=c$7(de[9],0,59,0);switch(q){case"-":ne+=oe,re+=se;break;case"+":ne-=oe,re-=se}return new Date(Date.UTC(K,Ee,le,ne,re,Q))}(Y);return ge?"".concat(ge.toLocaleDateString(),", ").concat(ge.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(Y){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileName:"File name",value:Y.fileName||(de=H,K=de.split("/").pop(),K?K.split("#")[0].split("?")[0]:de)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileSize:"File size",value:(ge=Y.length,fe=Math.floor(Math.log(ge)/Math.log(1024)),"".concat((ge/Math.pow(1024,fe)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][fe]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.title:"Title",value:Y.info.Title}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.author:"Author",value:Y.info.Author}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.subject:"Subject",value:Y.info.Subject}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.keywords:"Keywords",value:Y.info.Keywords}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creator:"Creator",value:Y.info.Creator}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creationDate:"Creation date",value:B(Y.info.CreationDate)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.modificationDate:"Modification date",value:B(Y.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfProducer:"PDF producer",value:Y.info.Producer}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfVersion:"PDF version",value:Y.info.PDFFormatVersion}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pageCount:"Page count",value:"".concat($.numPages)})));var ge,fe,de,K}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:R},O&&O.properties?O.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,R=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:R,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return R},offset:s$5})},m$5=function(A){var $=A.children,H=A.store,R=function(Y){var ge=r$7.useState(Y.get("doc")),fe=ge[0],de=ge[1],K=function(Ee){de(Ee)};return r$7.useEffect(function(){return Y.subscribe("doc",K),function(){Y.unsubscribe("doc",K)}},[]),{currentDoc:fe}}(H).currentDoc,O=H.get("fileName")||"",B=$||function(Y){return r$7.createElement(u$7,o$7({},Y))};return R?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(Y){return B({onClick:Y})},content:function(Y){return r$7.createElement(p$4,{doc:R,fileName:O,onToggle:Y})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,R=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},R)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var A=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(H){return r$7.createElement(m$5,o$7({},H,{store:A}))};return{onDocumentLoad:function(H){A.update("doc",H.doc)},onViewerStateChange:function(H){return A.update("fileName",H.file.name),H},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:A})},ShowPropertiesMenuItem:function(H){return r$7.createElement($,null,function(R){return r$7.createElement(f$5,o$7({},R))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(A){var $=A.direction,H=A.onClick,R=r$6.useContext(t$6.LocalizationContext).l10n,O=R&&R.rotate?R.rotate.rotateBackward:"Rotate counterclockwise",B=R&&R.rotate?R.rotate.rotateForward:"Rotate clockwise",Y=$===t$6.RotateDirection.Backward?O:B,ge=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:Y,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:H},ge),content:function(){return Y},offset:a$6})},u$6=function(A){var $=A.children,H=A.direction,R=A.store;return($||function(O){return r$6.createElement(i$6,{direction:O.direction,onClick:O.onClick})})({direction:H,onClick:function(){var O=R.get("rotate");O&&O(H)}})},l$6=function(A){var $=A.direction,H=A.onClick,R=r$6.useContext(t$6.LocalizationContext).l10n,O=R&&R.rotate?R.rotate.rotateBackward:"Rotate counterclockwise",B=R&&R.rotate?R.rotate.rotateForward:"Rotate clockwise",Y=$===t$6.RotateDirection.Backward?O:B,ge=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:ge,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:H},Y)},d$5=function(A){var $=A.children,H=A.store;return $({onRotatePage:function(R,O){var B=H.get("rotatePage");B&&B(R,O)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var A=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(H){return r$6.createElement(u$6,c$6({},H,{store:A}))};return{install:function(H){A.update("rotate",H.rotate),A.update("rotatePage",H.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateBackwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(R){return r$6.createElement(l$6,{direction:R.direction,onClick:function(){R.onClick(),H.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateForwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(R){return r$6.createElement(l$6,{direction:R.direction,onClick:function(){R.onClick(),H.onClick()}})})},RotatePage:function(H){return r$6.createElement(d$5,c$6({},H,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i$5.apply(this,arguments)},a$5=function(A,$){A.get("switchScrollMode")($);var H=A.get("viewMode");$!==e$5.ScrollMode.Horizontal&&$!==e$5.ScrollMode.Wrapped||H===e$5.ViewMode.SinglePage||A.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function(A){var $=A.children,H=A.mode,R=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,B="",Y=t$5.createElement(d$4,null);switch(H){case e$5.ScrollMode.Horizontal:B=O&&O.scrollMode?O.scrollMode.horizontalScrolling:"Horizontal scrolling",Y=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:B=O&&O.scrollMode?O.scrollMode.pageScrolling:"Page scrolling",Y=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:B=O&&O.scrollMode?O.scrollMode.wrappedScrolling:"Wrapped scrolling",Y=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:B=O&&O.scrollMode?O.scrollMode.verticalScrolling:"Vertical scrolling",Y=t$5.createElement(d$4,null)}return $({icon:Y,label:B,onClick:R})},m$4={left:0,top:8},M$2=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:B="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:R,onClick:O},function(Y){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:Y.label,isDisabled:$,isSelected:H,testId:B,onClick:Y.onClick},Y.icon),content:function(){return Y.label},offset:m$4})})},f$4=function(A){var $=t$5.useState(A.get("scrollMode")||e$5.ScrollMode.Vertical),H=$[0],R=$[1],O=function(B){R(B)};return t$5.useEffect(function(){return A.subscribe("scrollMode",O),function(){A.unsubscribe("scrollMode",O)}},[]),{scrollMode:H}},w$1=function(A){var $=t$5.useState(A.get("viewMode")||e$5.ViewMode.SinglePage),H=$[0],R=$[1],O=function(B){R(B)};return t$5.useEffect(function(){return A.subscribe("viewMode",O),function(){A.unsubscribe("viewMode",O)}},[]),{viewMode:H}},S$3=function(A){var $=A.children,H=A.mode,R=A.store,O=w$1(R).viewMode,B=f$4(R).scrollMode===H,Y=(H===e$5.ScrollMode.Horizontal||H===e$5.ScrollMode.Wrapped)&&O!==e$5.ViewMode.SinglePage;return($||function(ge){return t$5.createElement(M$2,{isDisabled:Y,isSelected:B,mode:ge.mode,onClick:ge.onClick})})({isDisabled:Y,isSelected:B,mode:H,onClick:function(){a$5(R,H)}})},g$3=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:B="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:R,onClick:O},function(Y){return t$5.createElement(e$5.MenuItem,{checked:H,icon:Y.icon,isDisabled:$,testId:B,onClick:Y.onClick},Y.label)})},h$3=function(A,$){A.get("switchViewMode")($);var H=A.get("scrollMode");H!==e$5.ScrollMode.Horizontal&&H!==e$5.ScrollMode.Wrapped||$===e$5.ViewMode.SinglePage||A.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(A){var $=A.children,H=A.mode,R=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,B="",Y=t$5.createElement(r$5,null);switch(H){case e$5.ViewMode.DualPage:B=O&&O.scrollMode?O.scrollMode.dualPage:"Dual page",Y=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:B=O&&O.scrollMode?O.scrollMode.dualPageCover:"Dual page with cover",Y=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:B=O&&O.scrollMode?O.scrollMode.singlePage:"Single page",Y=t$5.createElement(r$5,null)}return $({icon:Y,label:B,onClick:R})},p$3={left:0,top:8},v$3=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ViewMode.DualPage:B="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-button"}return t$5.createElement(b$3,{mode:R,onClick:O},function(Y){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:Y.label,isDisabled:$,isSelected:H,testId:B,onClick:Y.onClick},Y.icon),content:function(){return Y.label},offset:p$3})})},k$2=function(A){var $=A.children,H=A.mode,R=A.store,O=w$1(R).viewMode,B=f$4(R).scrollMode,Y=O===H,ge=(B===e$5.ScrollMode.Horizontal||B===e$5.ScrollMode.Wrapped)&&H!==e$5.ViewMode.SinglePage;return($||function(fe){return t$5.createElement(v$3,{isDisabled:ge,isSelected:Y,mode:fe.mode,onClick:fe.onClick})})({isDisabled:ge,isSelected:Y,mode:H,onClick:function(){h$3(R,H)}})},C$2=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ViewMode.DualPage:B="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-menu"}return t$5.createElement(b$3,{mode:R,onClick:O},function(Y){return t$5.createElement(e$5.MenuItem,{checked:H,icon:Y.icon,isDisabled:$,testId:B,onClick:Y.onClick},Y.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var A=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(R){return t$5.createElement(S$3,i$5({},R,{store:A}))},H=function(R){return t$5.createElement(k$2,i$5({},R,{store:A}))};return{install:function(R){A.update("switchScrollMode",R.switchScrollMode),A.update("switchViewMode",R.switchViewMode)},onViewerStateChange:function(R){return A.update("scrollMode",R.scrollMode),A.update("viewMode",R.viewMode),R},switchScrollMode:function(R){a$5(A,R)},switchViewMode:function(R){h$3(A,R)},SwitchScrollMode:$,SwitchScrollModeButton:function(R){return t$5.createElement($,{mode:R.mode},function(O){return t$5.createElement(M$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchScrollModeMenuItem:function(R){return t$5.createElement($,{mode:R.mode},function(O){return t$5.createElement(g$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),R.onClick()}})})},SwitchViewMode:H,SwitchViewModeButton:function(R){return t$5.createElement(H,{mode:R.mode},function(O){return t$5.createElement(v$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchViewModeMenuItem:function(R){return t$5.createElement(H,{mode:R.mode},function(O){return t$5.createElement(C$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),R.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$3=function(A){var $=A.index,H=A.area,R=A.onHighlightKeyword,O=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var B=O.current;R&&B&&R({highlightEle:B,keyword:H.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:O,style:i$4(H),title:H.keywordStr.trim()})},l$4=function(A){var $=A.parentNode;$&&$.removeChild(A)},h$2=function(A){var $=A.parentNode;if($){var H=document.createRange();H.selectNodeContents(A),function(R,O){l$4(R);var B=O.parentNode;B&&B.insertBefore(R,O),l$4(O)}(H.extractContents(),A),$.normalize()}},d$3=function(A,$){return A.top<$.top?-1:A.top>$.top?1:A.left<$.left?-1:A.left>$.left?1:0},f$3=function(A){var $=A.numPages,H=A.pageIndex,R=A.renderHighlights,O=A.store,B=A.onHighlightKeyword,Y=r$4.useRef(),ge=r$4.useCallback(function(be){return r$4.createElement(r$4.Fragment,null,be.highlightAreas.map(function(Te,He){return r$4.createElement(s$3,{index:He,key:He,area:Te,onHighlightKeyword:B})}))},[]),fe=R||ge,de=r$4.useState(O.get("matchPosition")),K=de[0],Ee=de[1],le=r$4.useState(O.get("keyword")||[u$4]),ne=le[0],re=le[1],Q=r$4.useState({pageIndex:H,scale:1,status:e$4.LayerRenderStatus.PreRender}),q=Q[0],oe=Q[1],se=r$4.useRef(null),ue=r$4.useRef([]),pe=r$4.useState([]),ee=pe[0],ae=pe[1],Ae=function(){return!0},ve=r$4.useCallback(function(){return O.get("targetPageFilter")||Ae},[O.get("targetPageFilter")]),te=function(be){var Te=ue.current;if(Te.length===0)return[];var He=[],Qe=[].slice.call(be.querySelectorAll(".rpv-core__text-layer-text")),Fe=Te.map(function(nt){return nt.char}).join("");return ne.forEach(function(nt){var at=nt.keyword;if(at.trim()){for(var ht,yt=nt.regExp.flags.indexOf("g")===-1?new RegExp(nt.regExp,"".concat(nt.regExp.flags,"g")):nt.regExp,we=[];(ht=yt.exec(Fe))!==null;)we.push({keyword:yt,startIndex:ht.index,endIndex:yt.lastIndex});we.map(function(W){return{keyword:W.keyword,indexes:Te.slice(W.startIndex,W.endIndex)}}).forEach(function(W){var J=W.indexes.reduce(function(G,ie){return G[ie.spanIndex]=(G[ie.spanIndex]||[]).concat([ie]),G},{});Object.values(J).forEach(function(G){if(G.length!==1||G[0].char.trim()!==""){var ie=nt.wholeWords?G.slice(1,-1):G,ce=function(ye,Ce,Re,Xe,Ge){var tt=document.createRange(),st=Xe.firstChild;if(!st||st.nodeType!==Node.TEXT_NODE)return null;var vt=st.textContent.length,ut=Ge[0].charIndexInSpan,ft=Ge.length===1?ut:Ge[Ge.length-1].charIndexInSpan;if(ut>vt||ft+1>vt)return null;tt.setStart(st,ut),tt.setEnd(st,ft+1);var gt=document.createElement("span");tt.surroundContents(gt);var pt=gt.getBoundingClientRect(),Ft=Re.getBoundingClientRect(),ot=Ft.height,We=Ft.width,Ue=100*(pt.left-Ft.left)/We,ct=100*(pt.top-Ft.top)/ot,At=100*pt.height/ot,Ct=100*pt.width/We;return h$2(gt),{keyword:Ce,keywordStr:ye,numPages:$,pageIndex:H,left:Ue,top:ct,height:At,width:Ct,pageHeight:ot,pageWidth:We}}(at,W.keyword,be,Qe[ie[0].spanIndex],ie);ce&&He.push(ce)}})})}}),He.sort(d$3)},_e=function(be){be&&be.length>0&&re(be)},he=function(be){return Ee(be)},Pe=function(be){if(be.has(H)){var Te=be.get(H);Te&&oe({ele:Te.ele,pageIndex:H,scale:Te.scale,status:Te.status})}},De=function(){return ne.length===0||ne.length===1&&ne[0].keyword.trim()===""};return r$4.useEffect(function(){if(!De()&&q.status===e$4.LayerRenderStatus.DidRender&&!ue.current.length){var be=q.ele,Te=[].slice.call(be.querySelectorAll(".rpv-core__text-layer-text")).map(function(He){return He.textContent}).reduce(function(He,Qe,Fe){return He.concat(Qe.split("").map(function(nt,at){return{char:nt,charIndexInSpan:at,spanIndex:Fe}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);ue.current=Te}},[ne,q.status]),r$4.useEffect(function(){if(!De()&&q.ele&&q.status===e$4.LayerRenderStatus.DidRender&&ve()({pageIndex:H,numPages:$})){var be=q.ele,Te=te(be);ae(Te)}},[ne,K,q.status,ue.current]),r$4.useEffect(function(){De()&&q.ele&&q.status===e$4.LayerRenderStatus.DidRender&&ae([])},[ne,q.status]),r$4.useEffect(function(){if(ee.length!==0){var be=Y.current;if(K.pageIndex===H&&be&&q.status===e$4.LayerRenderStatus.DidRender){var Te=be.querySelector('.rpv-search__highlight[data-index="'.concat(K.matchIndex,'"]'));if(Te){var He=function(at,ht){for(var yt=at.offsetTop,we=at.offsetLeft,W=at.parentElement;W&&W!==ht;)yt+=W.offsetTop,we+=W.offsetLeft,W=W.parentElement;return{left:we,top:yt}}(Te,be),Qe=He.left,Fe=He.top,nt=O.get("jumpToDestination");nt&&(nt({pageIndex:H,bottomOffset:(be.getBoundingClientRect().height-Fe)/q.scale,leftOffset:Qe/q.scale,scaleTo:q.scale}),se.current&&se.current.classList.remove("rpv-search__highlight--current"),se.current=Te,Te.classList.add("rpv-search__highlight--current"))}}}},[ee,K]),r$4.useEffect(function(){return O.subscribe("keyword",_e),O.subscribe("matchPosition",he),O.subscribe("renderStatus",Pe),function(){O.unsubscribe("keyword",_e),O.unsubscribe("matchPosition",he),O.unsubscribe("renderStatus",Pe)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(H),ref:Y},fe({getCssProperties:i$4,highlightAreas:ee}))},p$2=function(A){var $,H=A.wholeWords?" ".concat(A.keyword," "):A.keyword,R=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp(($=H,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),R),wholeWords:A.wholeWords||!1}},g$2=function(A,$,H){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:H||!1}:typeof A=="string"?A===""?u$4:p$2({keyword:A,matchCase:$||!1,wholeWords:H||!1}):($!==void 0&&(A.matchCase=$),H!==void 0&&(A.wholeWords=H),p$2(A))},m$3=function(A){var $,H=A.get("initialKeyword"),R=r$4.useMemo(function(){if(H&&H.length===1){var he=g$2(H[0]);return{matchCase:he.regExp.flags.indexOf("i")===-1,wholeWords:he.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),O=function(he){var Pe=r$4.useRef(he.get("doc")),De=function(be){Pe.current=be};return r$4.useEffect(function(){return he.subscribe("doc",De),function(){he.unsubscribe("doc",De)}},[]),Pe}(A),B=r$4.useState(H),Y=B[0],ge=B[1],fe=r$4.useState([]),de=fe[0],K=fe[1],Ee=r$4.useState(0),le=Ee[0],ne=Ee[1],re=r$4.useState(R.matchCase),Q=re[0],q=re[1],oe=r$4.useRef([]),se=r$4.useState(R.wholeWords),ue=se[0],pe=se[1],ee=function(){return!0},ae=r$4.useCallback(function(){return A.get("targetPageFilter")||ee},[A.get("targetPageFilter")]),Ae=function(he){var Pe=de.length;if(Y.length===0||Pe===0)return null;var De=he===Pe+1?1:Math.max(1,Math.min(Pe,he));return ne(De),te(de[De-1])},ve=function(he){return ge(he===""?[]:[he])},te=function(he){var Pe=A.get("jumpToPage");return Pe&&Pe(he.pageIndex),A.update("matchPosition",{matchIndex:he.matchIndex,pageIndex:he.pageIndex}),he},_e=function(he,Pe,De){var be=O.current;if(!be)return Promise.resolve([]);var Te=be.numPages,He=he.map(function(Qe){return g$2(Qe,Pe,De)});return A.update("keyword",He),ne(0),K([]),new Promise(function(Qe,Fe){var nt=oe.current.length===0?function(){var at=O.current;if(!at)return Promise.resolve([]);var ht=Array(at.numPages).fill(0).map(function(yt,we){return e$4.getPage(at,we).then(function(W){return W.getTextContent()}).then(function(W){var J=W.items.map(function(G){return G.str||""}).join("");return Promise.resolve({pageContent:J,pageIndex:we})})});return Promise.all(ht).then(function(yt){return yt.sort(function(we,W){return we.pageIndex-W.pageIndex}),Promise.resolve(yt.map(function(we){return we.pageContent}))})}().then(function(at){return oe.current=at,Promise.resolve(at)}):Promise.resolve(oe.current);nt.then(function(at){var ht=[];at.forEach(function(yt,we){ae()({pageIndex:we,numPages:Te})&&He.forEach(function(W){for(var J,G=0;(J=W.regExp.exec(yt))!==null;)ht.push({keyword:W.regExp,matchIndex:G,pageIndex:we,pageText:yt,startIndex:J.index,endIndex:W.regExp.lastIndex}),G++})}),K(ht),ht.length>0&&(ne(1),te(ht[0])),Qe(ht)})})};return r$4.useEffect(function(){oe.current=[]},[O.current]),{clearKeyword:function(){A.update("keyword",[u$4]),ve(""),ne(0),K([]),q(!1),pe(!1)},changeMatchCase:function(he){q(he),Y.length>0&&_e(Y,he,ue)},changeWholeWords:function(he){pe(he),Y.length>0&&_e(Y,Q,he)},currentMatch:le,jumpToMatch:Ae,jumpToNextMatch:function(){return Ae(le+1)},jumpToPreviousMatch:function(){return Ae(le-1)},keywords:Y,matchCase:Q,numberOfMatches:de.length,wholeWords:ue,search:function(){return _e(Y,Q,ue)},searchFor:_e,setKeywords:ge,keyword:Y.length===0?"":($=Y[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:ve,setTargetPages:function(he){A.update("targetPageFilter",he)}}},v$2=function(A){var $=A.children,H=A.store,R=m$3(H),O=r$4.useState(!1),B=O[0],Y=O[1],ge=function(fe){return Y(!0)};return r$4.useEffect(function(){return H.subscribe("doc",ge),function(){H.unsubscribe("doc",ge)}},[]),$(c$4(c$4({},R),{isDocumentLoaded:B}))},x=function(A){var $=A.containerRef,H=A.store,R=r$4.useRef(!1),O=function(){R.current=!0},B=function(){R.current=!1},Y=function(ge){var fe=$.current;fe&&(ge.shiftKey||ge.altKey||ge.key!=="f"||(e$4.isMac()?ge.metaKey&&!ge.ctrlKey:ge.ctrlKey)&&(R.current||document.activeElement&&fe.contains(document.activeElement))&&(ge.preventDefault(),H.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var ge=$.current;if(ge)return document.addEventListener("keydown",Y),ge.addEventListener("mouseenter",O),ge.addEventListener("mouseleave",B),function(){document.removeEventListener("keydown",Y),ge.removeEventListener("mouseenter",O),ge.removeEventListener("mouseleave",B)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(A){var $=A.store,H=A.onToggle,R=r$4.useContext(e$4.LocalizationContext).l10n,O=r$4.useContext(e$4.ThemeContext).direction,B=r$4.useState(!1),Y=B[0],ge=B[1],fe=r$4.useState(!1),de=fe[0],K=fe[1],Ee=O===e$4.TextDirection.RightToLeft,le=m$3($),ne=le.clearKeyword,re=le.changeMatchCase,Q=le.changeWholeWords,q=le.currentMatch,oe=le.jumpToNextMatch,se=le.jumpToPreviousMatch,ue=le.keyword,pe=le.matchCase,ee=le.numberOfMatches,ae=le.wholeWords,Ae=le.search,ve=le.setKeyword,te=function(be){ge(!0),Ae().then(function(Te){ge(!1),K(!0),be&&be()})};r$4.useEffect(function(){var be=$.get("initialKeyword");be&&be.length===1&&ue&&te(function(){$.update("initialKeyword",[])})},[]);var _e=R&&R.search?R.search.enterToSearch:"Enter to search",he=R&&R.search?R.search.previousMatch:"Previous match",Pe=R&&R.search?R.search.nextMatch:"Next match",De=R&&R.search?R.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:_e,autoFocus:!0,placeholder:_e,type:"text",value:ue,onChange:function(be){K(!1),ve(be)},onKeyDown:function(be){be.key==="Enter"&&ue&&(de?oe():te())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!Ee,"rpv-search__popover-counter--rtl":Ee})},Y&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!Y&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},q,"/",ee))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:pe,type:"checkbox",onChange:function(be){K(!1),re(be.target.checked)}})," ",R&&R.search?R.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:ae,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(be){K(!1),Q(be.target.checked)}})," ",R&&R.search?R.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:Ee?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:he,isDisabled:q<=1,onClick:se},r$4.createElement(o$4,null)),content:function(){return he},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:Pe,isDisabled:q>ee-1,onClick:oe},r$4.createElement(n$4,null)),content:function(){return Pe},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!Ee,"rpv-search__popover-footer-button--rtl":Ee})},r$4.createElement(e$4.Button,{onClick:function(){H(),ne()}},De))))},w=function(A){var $=A.children,H=A.onClick,R=r$4.useContext(e$4.LocalizationContext).l10n,O=R&&R.search?R.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:O,onClick:H})},b$2={left:0,top:8},k$1=function(A){var $=A.enableShortcuts,H=A.store,R=A.onClick,O=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",B=function(Y){Y&&R()};return r$4.useEffect(function(){return H.subscribe("areShortcutsPressed",B),function(){H.unsubscribe("areShortcutsPressed",B)}},[]),r$4.createElement(w,{onClick:R},function(Y){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:Y.label,testId:"search__popover-button",onClick:R},Y.icon),content:function(){return Y.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,B=$||function(Y){return r$4.createElement(k$1,c$4({enableShortcuts:H,store:R},Y))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:O,target:function(Y){return B({onClick:Y})},content:function(Y){return r$4.createElement(E$2,{store:R,onToggle:Y})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function($){return g$2($)}):[g$2(A)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(A){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),H=r$4.useMemo(function(){return e$4.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),R=m$3(H),O=R.clearKeyword,B=R.jumpToMatch,Y=R.jumpToNextMatch,ge=R.jumpToPreviousMatch,fe=R.searchFor,de=R.setKeywords,K=R.setTargetPages,Ee=function(le){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},le,{store:H}))};return{install:function(le){var ne=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],re=A&&A.keyword?P$1(A.keyword):[u$4];H.update("initialKeyword",ne),H.update("jumpToDestination",le.jumpToDestination),H.update("jumpToPage",le.jumpToPage),H.update("keyword",re)},renderPageLayer:function(le){return r$4.createElement(f$3,{key:le.pageIndex,numPages:le.doc.numPages,pageIndex:le.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:H,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(le){var ne=le.slot;return ne.subSlot&&(ne.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:le.containerRef,store:H}),ne.subSlot.children)),ne},uninstall:function(le){var ne=H.get("renderStatus");ne&&ne.clear()},onDocumentLoad:function(le){H.update("doc",le.doc)},onTextLayerRender:function(le){var ne=H.get("renderStatus");ne&&(ne=ne.set(le.pageIndex,le),H.update("renderStatus",ne))},Search:function(le){return r$4.createElement(v$2,c$4({},le,{store:H}))},ShowSearchPopover:Ee,ShowSearchPopoverButton:function(){return r$4.createElement(Ee,null,function(le){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:H},le))})},clearHighlights:function(){O()},highlight:function(le){var ne=Array.isArray(le)?le:[le];return de(ne),fe(ne)},jumpToMatch:B,jumpToNextMatch:Y,jumpToPreviousMatch:ge,setTargetPages:K}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),R=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",B=R&&R.theme?O?R.theme.switchLightTheme:R.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:B,testId:"theme__switch-button",onClick:$},O?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return B},offset:a$3})},l$3=function(A){var $=A.children,H=n$3.useContext(e$3.ThemeContext);return($||function(R){return n$3.createElement(i$3,{onClick:R.onClick})})({onClick:function(){return H.setCurrentTheme(H.currentTheme==="dark"?"light":"dark")}})},u$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),R=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",B=R&&R.theme?O?R.theme.switchLightTheme:R.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:O?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},B)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var A=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$3.createElement(A,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(A,null,function(H){return n$3.createElement(u$3,{onClick:function(){H.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$2.apply(this,arguments)},a$2=function(A){var $=n$2.useState(A.get("scale")||0),H=$[0],R=$[1],O=function(B){R(B)};return n$2.useEffect(function(){return A.subscribe("scale",O),function(){A.unsubscribe("scale",O)}},[]),{scale:H}},u$2=function(A){var $=A.children,H=A.store;return($||function(R){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*R.scale),"%"))})({scale:a$2(H).scale})},l$2={passive:!1},i$2=null,s$2=function(A){var $=A.pagesContainerRef,H=A.store,R=e$2.useDebounceCallback(function(B){var Y=H.get("zoom");Y&&Y(B)},40),O=function(B){if(B.ctrlKey){B.preventDefault();var Y=B.target.getBoundingClientRect(),ge=1-B.deltaY/100,fe=B.clientX-Y.left,de=B.clientY-Y.top,K=H.get("scale"),Ee=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(fe,de).scale(ge).translate(-fe,-de).scale(K);R(Ee.a)}};return e$2.useIsomorphicLayoutEffect(function(){var B=$.current;if(B)return B.addEventListener("wheel",O,l$2),function(){B.removeEventListener("wheel",O)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(A){return m$2.find(function($){return $>A})||A},v$1=function(A){var $=m$2.findIndex(function(H){return H>=A});return $===-1||$===0?A:m$2[$-1]},p$1=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&(e$2.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;if(B&&document.activeElement&&B.contains(document.activeElement)){var Y=H.get("zoom");if(Y){var ge=H.get("scale")||1,fe=1;switch(O.key){case"-":fe=v$1(ge);break;case"=":fe=f$2(ge);break;case"0":fe=1;break;default:fe=ge}fe!==ge&&(O.preventDefault(),Y(fe))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(A){var $=A.levels,H=$===void 0?z:$,R=A.scale,O=A.onZoom,B=n$2.useContext(e$2.LocalizationContext).l10n,Y=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,ge=B&&B.zoom?B.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(fe){return n$2.createElement(e$2.MinimalButton,{ariaLabel:ge,testId:"zoom__popover-target",onClick:function(){fe()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!Y,"rpv-zoom__popover-target-scale--rtl":Y})},Math.round(100*R),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(fe){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(de){var K=de;return n$2.createElement(e$2.MenuItem,{key:K,onClick:function(){fe(),O(K)}},function(Ee){switch(Ee){case e$2.SpecialZoomLevel.ActualSize:return B&&B.zoom?B.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return B&&B.zoom?B.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return B&&B.zoom?B.zoom.pageWidth:"Page width"}}(K))}),n$2.createElement(e$2.MenuDivider,null),H.map(function(de){return n$2.createElement(e$2.MenuItem,{key:de,onClick:function(){fe(),O(de)}},"".concat(Math.round(100*de),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(A){var $=A.children,H=A.levels,R=A.store;return($||function(O){return n$2.createElement(d$2,{levels:H,scale:O.scale,onZoom:O.onZoom})})({scale:a$2(R).scale,onZoom:function(O){var B=R.get("zoom");B&&B(O)}})},C={left:0,top:8},h$1=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$2.useContext(e$2.LocalizationContext).l10n,O=R&&R.zoom?R.zoom.zoomIn:"Zoom in",B=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"zoom__in-button",onClick:H},n$2.createElement(o$2,null)),content:function(){return O},offset:C})},b$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=a$2(R).scale;return($||h$1)({enableShortcuts:H,onClick:function(){var B=R.get("zoom");B&&B(f$2(O))}})},k=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,R=H&&H.zoom?H.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},R)},S$1={left:0,top:8},M$1=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$2.useContext(e$2.LocalizationContext).l10n,O=R&&R.zoom?R.zoom.zoomOut:"Zoom out",B=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"zoom__out-button",onClick:H},n$2.createElement(r$2,null)),content:function(){return O},offset:S$1})},I$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=a$2(R).scale;return($||M$1)({enableShortcuts:H,onClick:function(){var B=R.get("zoom");B&&B(v$1(O))}})},Z=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,R=H&&H.zoom?H.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},R)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(A){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$2.useMemo(function(){return e$2.createStore({})},[]),R=function(Y){return n$2.createElement(b$1,c$2({enableShortcuts:$.enableShortcuts},Y,{store:H}))},O=function(Y){return n$2.createElement(I$1,c$2({enableShortcuts:$.enableShortcuts},Y,{store:H}))},B=function(Y){return n$2.createElement(g$1,c$2({},Y,{store:H}))};return{renderViewer:function(Y){var ge=Y.slot;if(!$.enableShortcuts)return ge;var fe={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:Y.containerRef,store:H}),n$2.createElement(s$2,{pagesContainerRef:Y.pagesContainerRef,store:H}),ge.children)};return c$2(c$2({},ge),fe)},install:function(Y){H.update("zoom",Y.zoom)},onViewerStateChange:function(Y){return H.update("scale",Y.scale),Y},zoomTo:function(Y){var ge=H.get("zoom");ge&&ge(Y)},CurrentScale:function(Y){return n$2.createElement(u$2,c$2({},Y,{store:H}))},ZoomIn:R,ZoomInButton:function(){return n$2.createElement(R,null,function(Y){return n$2.createElement(h$1,c$2({},Y))})},ZoomInMenuItem:function(Y){return n$2.createElement(R,null,function(ge){return n$2.createElement(k,{onClick:function(){ge.onClick(),Y.onClick()}})})},ZoomOut:O,ZoomOutButton:function(){return n$2.createElement(O,null,function(Y){return n$2.createElement(M$1,c$2({},Y))})},ZoomOutMenuItem:function(Y){return n$2.createElement(O,null,function(ge){return n$2.createElement(Z,{onClick:function(){ge.onClick(),Y.onClick()}})})},Zoom:B,ZoomPopover:function(Y){return n$2.createElement(B,null,function(ge){return n$2.createElement(d$2,c$2({levels:Y==null?void 0:Y.levels},ge))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$1=reactExports,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$1=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p=libExports$2;function v(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(A){var $=A.toolbarSlot,H=_.useContext(e$1.LocalizationContext).l10n,R=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,O=$.DownloadMenuItem,B=$.EnterFullScreenMenuItem,Y=$.GoToFirstPageMenuItem,ge=$.GoToLastPageMenuItem,fe=$.GoToNextPageMenuItem,de=$.GoToPreviousPageMenuItem,K=$.OpenMenuItem,Ee=$.PrintMenuItem,le=$.RotateBackwardMenuItem,ne=$.RotateForwardMenuItem,re=$.ShowPropertiesMenuItem,Q=$.SwitchScrollModeMenuItem,q=$.SwitchSelectionModeMenuItem,oe=$.SwitchViewModeMenuItem,se=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:R,target:function(ue,pe){var ee=H&&H.toolbar?H.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:R,target:_.createElement(e$1.MinimalButton,{ariaLabel:ee,isSelected:pe,testId:"toolbar__more-actions-popover-target",onClick:ue},_.createElement(E,null)),content:function(){return ee},offset:g})},content:function(ue){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(se,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(B,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(K,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(Ee,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(O,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(Y,{onClick:ue}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(de,{onClick:ue})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(fe,{onClick:ue})),_.createElement(ge,{onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement(ne,{onClick:ue}),_.createElement(le,{onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement(q,{mode:t$1.SelectionMode.Text,onClick:ue}),_.createElement(q,{mode:t$1.SelectionMode.Hand,onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement(Q,{mode:e$1.ScrollMode.Page,onClick:ue}),_.createElement(Q,{mode:e$1.ScrollMode.Vertical,onClick:ue}),_.createElement(Q,{mode:e$1.ScrollMode.Horizontal,onClick:ue}),_.createElement(Q,{mode:e$1.ScrollMode.Wrapped,onClick:ue}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(oe,{mode:e$1.ViewMode.SinglePage,onClick:ue})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(oe,{mode:e$1.ViewMode.DualPage,onClick:ue})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(oe,{mode:e$1.ViewMode.DualPageWithCover,onClick:ue})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(re,{onClick:ue}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},M.apply(this,arguments)},h=function(A){return function($){var H=_.useMemo(function(){return A($)},[]),R=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,O=H.CurrentPageInput,B=H.Download,Y=H.EnterFullScreen,ge=H.GoToNextPage,fe=H.GoToPreviousPage,de=H.NumberOfPages,K=H.Open,Ee=H.Print,le=H.ShowSearchPopover,ne=H.SwitchTheme,re=H.Zoom,Q=H.ZoomIn,q=H.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":R}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(le,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(fe,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(O,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(de,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ge,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(q,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(re,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Q,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ne,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Y,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(K,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(B,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Ee,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:H}))))}},f$1=function(A){var $=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var $=A.children,H=A.slot;return($||S)(H)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var $=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),H=o$1.getFilePlugin(A?A.getFilePlugin:{}),R=a$1.openPlugin(A?A.openPlugin:{}),O=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),B=i$1.printPlugin(A?A.printPlugin:{}),Y=c$1.propertiesPlugin(),ge=m$1.rotatePlugin(),fe=u$1.scrollModePlugin(),de=s$1.searchPlugin(A?A.searchPlugin:{}),K=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),Ee=d$1.themePlugin(),le=p.zoomPlugin(A?A.zoomPlugin:{}),ne=[$,H,R,O,B,Y,ge,fe,de,K,Ee,le],re=_.useCallback(function(Q){var q=$.EnterFullScreen,oe=$.EnterFullScreenMenuItem,se=H.Download,ue=H.DownloadMenuItem,pe=R.Open,ee=R.OpenMenuItem,ae=O.CurrentPageInput,Ae=O.CurrentPageLabel,ve=O.GoToFirstPage,te=O.GoToFirstPageMenuItem,_e=O.GoToLastPage,he=O.GoToLastPageMenuItem,Pe=O.GoToNextPage,De=O.GoToNextPageMenuItem,be=O.GoToPreviousPage,Te=O.GoToPreviousPageMenuItem,He=O.NumberOfPages,Qe=B.Print,Fe=B.PrintMenuItem,nt=Y.ShowProperties,at=Y.ShowPropertiesMenuItem,ht=ge.Rotate,yt=ge.RotateBackwardMenuItem,we=ge.RotateForwardMenuItem,W=fe.SwitchScrollMode,J=fe.SwitchScrollModeMenuItem,G=fe.SwitchViewMode,ie=fe.SwitchViewModeMenuItem,ce=de.Search,ye=de.ShowSearchPopover,Ce=K.SwitchSelectionMode,Re=K.SwitchSelectionModeMenuItem,Xe=Ee.SwitchTheme,Ge=Ee.SwitchThemeMenuItem,tt=le.CurrentScale,st=le.Zoom,vt=le.ZoomIn,ut=le.ZoomInMenuItem,ft=le.ZoomOut,gt=le.ZoomOutMenuItem;return _.createElement(I,M({},Q,{slot:{CurrentPageInput:ae,CurrentPageLabel:Ae,CurrentScale:tt,Download:se,DownloadMenuItem:ue,EnterFullScreen:q,EnterFullScreenMenuItem:oe,GoToFirstPage:ve,GoToFirstPageMenuItem:te,GoToLastPage:_e,GoToLastPageMenuItem:he,GoToNextPage:Pe,GoToNextPageMenuItem:De,GoToPreviousPage:be,GoToPreviousPageMenuItem:Te,NumberOfPages:He,Open:pe,OpenMenuItem:ee,Print:Qe,PrintMenuItem:Fe,Rotate:ht,RotateBackwardMenuItem:yt,RotateForwardMenuItem:we,Search:ce,ShowProperties:nt,ShowPropertiesMenuItem:at,ShowSearchPopover:ye,SwitchScrollMode:W,SwitchScrollModeMenuItem:J,SwitchSelectionMode:Ce,SwitchSelectionModeMenuItem:Re,SwitchViewMode:G,SwitchViewModeMenuItem:ie,SwitchTheme:Xe,SwitchThemeMenuItem:Ge,Zoom:st,ZoomIn:vt,ZoomInMenuItem:ut,ZoomOut:ft,ZoomOutMenuItem:gt}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:H,openPluginInstance:R,pageNavigationPluginInstance:O,printPluginInstance:B,propertiesPluginInstance:Y,rotatePluginInstance:ge,scrollModePluginInstance:fe,searchPluginInstance:de,selectionModePluginInstance:K,themePluginInstance:Ee,zoomPluginInstance:le,install:function(Q){ne.forEach(function(q){q.install&&q.install(Q)})},renderPageLayer:function(Q){return _.createElement(_.Fragment,null,ne.map(function(q,oe){return q.renderPageLayer?_.createElement(_.Fragment,{key:oe},q.renderPageLayer(Q)):_.createElement(_.Fragment,{key:oe})}))},renderViewer:function(Q){var q=Q.slot;return ne.forEach(function(oe){oe.renderViewer&&(q=oe.renderViewer(M(M({},Q),{slot:q})))}),q},uninstall:function(Q){ne.forEach(function(q){q.uninstall&&q.uninstall(Q)})},onDocumentLoad:function(Q){ne.forEach(function(q){q.onDocumentLoad&&q.onDocumentLoad(Q)})},onAnnotationLayerRender:function(Q){ne.forEach(function(q){q.onAnnotationLayerRender&&q.onAnnotationLayerRender(Q)})},onTextLayerRender:function(Q){ne.forEach(function(q){q.onTextLayerRender&&q.onTextLayerRender(Q)})},onViewerStateChange:function(Q){var q=Q;return ne.forEach(function(oe){oe.onViewerStateChange&&(q=oe.onViewerStateChange(q))}),q},renderDefaultToolbar:h,Toolbar:re}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=reactExports,n=libExports$g,a=libExports$f,r=libExports$e,o=libExports$1;function l(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var $=A.attachmentTabContent,H=A.bookmarkTabContent,R=A.store,O=A.thumbnailTabContent,B=A.tabs,Y=u.useRef(),ge=u.useContext(e.LocalizationContext).l10n,fe=u.useState(R.get("isCurrentTabOpened")||!1),de=fe[0],K=fe[1],Ee=u.useState(Math.max(R.get("currentTab")||0,0)),le=Ee[0],ne=Ee[1],re=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,Q=[{content:O,icon:u.createElement(d,null),title:ge&&ge.defaultLayout?ge.defaultLayout.thumbnail:"Thumbnail"},{content:H,icon:u.createElement(c,null),title:ge&&ge.defaultLayout?ge.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:ge&&ge.defaultLayout?ge.defaultLayout.attachment:"Attachment"}],q=B?B(Q):Q,oe=function(ue){ue>=0&&ue<=q.length-1&&(R.update("isCurrentTabOpened",!0),ne(ue))},se=function(ue){K(ue)};return u.useEffect(function(){return R.subscribe("currentTab",oe),R.subscribe("isCurrentTabOpened",se),function(){R.unsubscribe("currentTab",oe),R.unsubscribe("isCurrentTabOpened",se)}},[]),q.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":de,"rpv-default-layout__sidebar--ltr":!re,"rpv-default-layout__sidebar--rtl":re}),ref:Y},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},q.map(function(ue,pe){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":le===pe,key:pe,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(pe),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(pe),position:re?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:ue.title,isSelected:le===pe,onClick:function(){return function(ee){if(le===ee){R.update("isCurrentTabOpened",!R.get("isCurrentTabOpened"));var ae=Y.current;ae&&ae.style.width&&ae.style.removeProperty("width")}else R.update("currentTab",ee)}(pe)}},ue.icon),content:function(){return ue.title},offset:re?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(le),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":de,"rpv-default-layout__sidebar-content--ltr":!re,"rpv-default-layout__sidebar-content--rtl":re}),role:"tabpanel",tabIndex:-1},q[le].content))),de&&u.createElement(e.Splitter,{constrain:function(ue){return ue.firstHalfPercentage>=20&&ue.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),H=n.attachmentPlugin(),R=a.bookmarkPlugin(),O=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),B=o.toolbarPlugin(A?A.toolbarPlugin:{}),Y=H.Attachments,ge=R.Bookmarks,fe=O.Thumbnails,de=B.Toolbar,K=A?A.sidebarTabs:function(le){return le},Ee=[H,R,O,B];return{attachmentPluginInstance:H,bookmarkPluginInstance:R,thumbnailPluginInstance:O,toolbarPluginInstance:B,activateTab:function(le){$.update("currentTab",le)},toggleTab:function(le){var ne=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),ne!==le&&$.update("currentTab",le)},install:function(le){Ee.forEach(function(ne){ne.install&&ne.install(le)})},renderPageLayer:function(le){return u.createElement(u.Fragment,null,Ee.map(function(ne,re){return ne.renderPageLayer?u.createElement(u.Fragment,{key:re},ne.renderPageLayer(le)):u.createElement(u.Fragment,{key:re},u.createElement(u.Fragment,null))}))},renderViewer:function(le){var ne=le.slot;Ee.forEach(function(Q){Q.renderViewer&&(ne=Q.renderViewer(i(i({},le),{slot:ne})))});var re=ne.subSlot&&ne.subSlot.attrs?{className:ne.subSlot.attrs.className,"data-testid":ne.subSlot.attrs["data-testid"],ref:ne.subSlot.attrs.ref,style:ne.subSlot.attrs.style}:{};return ne.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":le.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(Y,null),bookmarkTabContent:u.createElement(ge,null),store:$,thumbnailTabContent:u.createElement(fe,null),tabs:K}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(de):u.createElement(de,null)),u.createElement("div",i({},re),ne.subSlot.children))),ne.children),ne.subSlot.attrs={},ne.subSlot.children=u.createElement(u.Fragment,null),ne},uninstall:function(le){Ee.forEach(function(ne){ne.uninstall&&ne.uninstall(le)})},onDocumentLoad:function(le){Ee.forEach(function(ne){ne.onDocumentLoad&&ne.onDocumentLoad(le)}),A&&A.setInitialTab&&A.setInitialTab(le.doc).then(function(ne){$.update("currentTab",ne),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(le){Ee.forEach(function(ne){ne.onAnnotationLayerRender&&ne.onAnnotationLayerRender(le)})},onTextLayerRender:function(le){Ee.forEach(function(ne){ne.onTextLayerRender&&ne.onTextLayerRender(le)})},onViewerStateChange:function(le){var ne=le;return Ee.forEach(function(re){re.onViewerStateChange&&(ne=re.onViewerStateChange(ne))}),ne}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function($,H){A.getPageMode().then(function(R){if(R)switch(R){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=defaultLayout_min;var libExports=lib$g.exports;const getPdfFile=async A=>{const{data:$}=await tsmAxios.get(`/projects/${A}/document`,{responseType:"blob"});return $},useGetPdf=A=>{const{data:$,isLoading:H,refetch:R}=useQuery({queryKey:["tsm/project/pdf",A],queryFn:()=>getPdfFile(A),enabled:!!A});return{data:$,isLoading:H,refetch:R}};function ViewDoc(){const{projectId:A}=useParams(),$=libExports.defaultLayoutPlugin(),{data:H,isLoading:R}=useGetPdf(A),[O,B]=reactExports.useState(null),{btnColor:Y}=useSelector(ge=>ge.theme);return reactExports.useEffect(()=>{if(H){const ge=URL.createObjectURL(H);return B(ge),()=>{URL.revokeObjectURL(ge)}}},[H]),R?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx(Loading.Page,{size:"full"})}):O?jsxRuntimeExports.jsx("div",{style:{border:`1px solid ${Y}`},className:"h-screen",children:jsxRuntimeExports.jsx(libExports$h.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports$h.Viewer,{fileUrl:O,enableSmoothScroll:!0,plugins:[$]})})}):null}const MailFeature=reactExports.lazy(()=>__vitePreload(()=>import("./index-CsvwqChe.js"),__vite__mapDeps([0,1,2]))),WorkspaceDetailFeature=reactExports.lazy(()=>__vitePreload(()=>import("./index-B5WIQYNX.js"),__vite__mapDeps([3,1,2]))),WorkspaceFeature=reactExports.lazy(()=>__vitePreload(()=>import("./workspace-B7rzdioy.js"),__vite__mapDeps([4,1,2]))),ProfileMember=reactExports.lazy(()=>__vitePreload(()=>import("./index-BShxYbw6.js"),__vite__mapDeps([5,1,2]))),TemplateFeature=reactExports.lazy(()=>__vitePreload(()=>import("./index-Bbbt0fU1.js"),__vite__mapDeps([6,1,2]))),InviteFeature=reactExports.lazy(()=>__vitePreload(()=>import("./index-BRemLqNi.js"),__vite__mapDeps([7,1,2]))),tsmRoutes=createRouters([{index:!0,element:jsxRuntimeExports.jsx(Navigate,{replace:!0,to:"home"})},{path:"home/*",element:jsxRuntimeExports.jsx(WorkspaceFeature,{})},{path:"mail/*",element:jsxRuntimeExports.jsx(MailFeature,{})},{path:"invite/*",element:jsxRuntimeExports.jsx(InviteFeature,{})},{path:"profile/:memberId/*",element:jsxRuntimeExports.jsx(ProfileMember,{})},{path:"template/*",element:jsxRuntimeExports.jsx(TemplateFeature,{})},{path:"workspaces/:workspaceId/*",element:jsxRuntimeExports.jsx(WorkspaceFeature,{})},{path:"workspace/:workspaceId/*",element:jsxRuntimeExports.jsx(WorkspaceDetailFeature,{})},{path:"source/doc/:projectId/*",element:jsxRuntimeExports.jsx(ViewDoc,{})},{path:"project/:projectId/*",element:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}]);function TSMModule(){return useRoutes(tsmRoutes)}export{TSMModule as default};
