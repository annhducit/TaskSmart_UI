import{c as m,a as M,ad as P,h as z,x as w,n as g,j as e,T as n,l as u,B as d,k as U,N as x,ae as B,I as T,z as C,af as A,r as f,J as D,K as I,ag as E,ah as F,ai as L,aj as q,H as v,ak as R,p as Z,al as H,E as V,q as b,t as $}from"./index-bcifMYEQ.js";import{F as _,s as p}from"./file-warning-CuLDAtVk.js";import{I as G}from"./image-AIOiPcV4.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=m("Component",[["path",{d:"M5.5 8.5 9 12l-3.5 3.5L2 12l3.5-3.5Z",key:"1kciei"}],["path",{d:"m12 2 3.5 3.5L12 9 8.5 5.5 12 2Z",key:"1ome0g"}],["path",{d:"M18.5 8.5 22 12l-3.5 3.5L15 12l3.5-3.5Z",key:"vbupec"}],["path",{d:"m12 15 3.5 3.5L12 22l-3.5-3.5L12 15Z",key:"16csic"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=m("FileInput",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=m("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=m("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=m("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function le(){const t=M(),[,c]=P(z.MODAL),{data:s}=w(),{btnColor:l}=g(i=>i.theme);return e.jsxs("div",{className:"mx-4 flex h-[calc(100vh-130px)]  flex-col gap-y-6 overflow-y-scroll rounded  bg-[#f8f9fc] p-6 text-black",children:[e.jsxs("div",{className:"flex justify-between px-[100px]",children:[e.jsxs("div",{className:"flex justify-start",children:[e.jsx("div",{children:s!=null&&s.backgroundUnsplash?e.jsx("img",{className:"h-[80px] w-[80px] rounded object-cover",src:s.backgroundUnsplash.urls.small,alt:""}):e.jsx("div",{style:{backgroundColor:s==null?void 0:s.backgroundColor},className:"h-[80px] w-[80px]"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-x-4",children:[e.jsx(n.Text,{className:"ml-3 text-center text-2xl leading-[50px]",children:s==null?void 0:s.name}),e.jsx(u,{title:"Rename",children:e.jsx(K,{className:"cursor-pointer transition-all hover:opacity-25",style:{color:l},size:16})})]}),e.jsxs("div",{className:"ml-3 flex items-center align-middle text-2xl text-sm",children:[e.jsx(O,{size:13,color:l}),e.jsx("span",{className:"ml-2",children:s==null?void 0:s.workspace.name})]})]})]}),e.jsx("div",{children:e.jsx(d,{icon:e.jsx(Q,{className:"color-white h-4 w-4"}),type:"text",className:"flex items-center text-white",style:{backgroundColor:l},onClick:()=>c(U.ADD_MEMBER),children:"Share"})})]}),e.jsx(x,{style:{backgroundColor:l,opacity:.3}}),e.jsxs("div",{className:"px-24",children:[e.jsx("div",{className:"text-xl font-semibold",children:"Project Settings"}),e.jsxs("div",{className:"mt-3 align-middle",children:[e.jsxs("div",{className:"my-3 flex items-center gap-x-2 font-semibold",children:[e.jsx(B,{size:15,color:l}),e.jsx(n.Text,{className:"text-sm",children:"Description"})]}),e.jsxs("div",{children:[e.jsx(T.TextArea,{className:"h-[100px]",defaultValue:s==null?void 0:s.description}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(d,{icon:e.jsx(C,{className:"h-4 w-4"}),className:"my-2 flex items-center text-white",type:"text",size:"middle",style:{backgroundColor:l},children:"Save"})})]})]}),e.jsx(x,{className:"my-7",style:{backgroundColor:l,opacity:.3}}),e.jsxs("div",{className:"mt-3 align-middle",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"my-3 flex items-center gap-x-2 font-semibold",children:[e.jsx(W,{size:15,color:l}),e.jsx(n.Text,{className:"text-sm",children:"Project document"})]}),s!=null&&s.speDocPath?e.jsx("div",{className:"flex items-center gap-x-2",children:e.jsx(u,{title:"View file",children:e.jsx(d,{icon:e.jsx(A,{className:"h-4 w-4"}),type:"primary",size:"small",className:"flex items-center text-white",style:{backgroundColor:l},onClick:()=>t(`/tsm/source/doc/${s==null?void 0:s.id}`)})})}):e.jsx(u,{title:"Please upload document file!",children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(_,{size:15,color:"red"}),e.jsx(n.Text,{className:"text-sm",children:"No document"})]})})]}),e.jsx("div",{className:"mt-3",children:e.jsx(X,{project:s})})]}),e.jsx(x,{className:"my-7",style:{backgroundColor:l,opacity:.3}}),e.jsxs("div",{className:"mt-3 align-middle",children:[e.jsxs("div",{className:"my-3 flex items-center gap-x-2 font-semibold",children:[e.jsx(G,{size:15,color:l}),e.jsx(n.Text,{className:"text-sm",children:"Background"})]}),e.jsx(Y,{})]}),e.jsx(x,{style:{backgroundColor:l,opacity:.3}})]})]})}const X=({project:t})=>{const{btnColor:c}=g(o=>o.theme),[s,l]=f.useState(null),i={name:"file",multiple:!1,beforeUpload:()=>!1,onChange(o){l(o.file)},onDrop(o){console.log("Dropped files",o.dataTransfer.files)}},h=()=>{s?(async()=>{try{const r=new FormData;r.append("file",s),(await $.post(`/projects/${t==null?void 0:t.id}/document`,r,{headers:{"Content-Type":"multipart/form-data"}})).data&&p.success("Upload success")}catch(r){p.error(r)}})():p.error("Please select a file")};return e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{style:{borderColor:c},className:"flex w-[90%] flex-col gap-y-4  rounded-xl border-2 border-solid  bg-white p-4",children:[e.jsx("div",{className:"flex items-center justify-start",children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(J,{size:22,color:c,className:"opacity-100 "}),e.jsx(n.Text,{className:"font-bold",children:"Upload file"})]})}),e.jsx(D,{...i,style:{backgroundColor:"#eff4f8"},children:e.jsxs("div",{className:"flex justify-center gap-5",children:[e.jsx("div",{className:"ant-upload-drag-icon",children:e.jsx("div",{style:{borderColor:c},className:"mx-auto flex h-20 w-20 items-center justify-center rounded-lg border-2 border-dashed bg-transparent",children:e.jsx(I,{size:24,className:"",style:{color:c}})})}),e.jsxs("div",{className:"flex flex-col gap-y-4 py-4 text-left",children:[e.jsx(n.Text,{className:"block font-semibold ",style:{color:c},children:"Select files on your computer"}),e.jsx(n.Text,{className:"block text-slate-400",children:"Or transfer files by dragging and dropping them into the area"})]})]})}),e.jsxs("div",{className:"ml-auto flex items-center gap-x-2",children:[e.jsx(d,{danger:!0,children:"Cancel"}),e.jsx(d,{icon:e.jsx(E,{size:14}),type:"text",className:"flex items-center",style:{backgroundColor:c,color:"#fff"},onClick:h,children:"Upload"})]})]})})},Y=()=>{var k;const[t,c]=f.useState("#00aecc"),[s,l]=f.useState(),{data:i}=F(),{mutate:h,isPending:o}=L(),{data:r}=w(),j=()=>{if(t.startsWith("#")&&t.length===7){const a=t.replace("#","");h({image:a,projectId:b()})}else h({image:s==null?void 0:s.id,projectId:b()})},y=a=>{l(a),c(a.urls.small)},N=a=>{c(a),l(void 0)},S=g(a=>a.theme.btnColor);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex w-full flex-col items-center gap-x-6 gap-y-2",children:[e.jsx("div",{className:"relative flex w-full justify-center",children:e.jsx("div",{style:{backgroundImage:`url(${s?s.urls.regular:(k=r==null?void 0:r.backgroundUnsplash)==null?void 0:k.urls.regular})`,background:`${t||(r==null?void 0:r.backgroundColor)}`,backgroundSize:"cover",backgroundPosition:"center"},className:"h-[150px] w-[222px] rounded",children:e.jsx("div",{className:"mx-auto mt-2 h-[110px] w-[167px] rounded",children:e.jsx("img",{src:q,alt:"dashboard",className:"h-full w-full rounded"})})})}),e.jsxs("div",{className:"mt-3 flex flex-col gap-y-1",children:[e.jsx("div",{className:"flex items-center gap-x-2",children:i==null?void 0:i.map(a=>e.jsxs("div",{className:"relative h-[60px] w-[110px] cursor-pointer rounded transition-all hover:brightness-125",onClick:()=>y(a),children:[e.jsx("img",{src:a.urls.small,alt:"background",className:`h-full w-full rounded object-cover object-center ${a.id===(s==null?void 0:s.id)?"border-2 border-solid border-blue-500":""}`}),a.id===(s==null?void 0:s.id)&&e.jsx(v,{className:"absolute right-11 top-4 h-5 w-5 text-white"})]},a.id))}),e.jsx(x,{className:"my-4"}),e.jsxs("div",{className:"flex items-center justify-center gap-x-2",children:[R.slice(0,10).map(a=>e.jsx("div",{onClick:()=>N(a.color),style:{background:a.color},className:"relative h-[45px] w-[76px] cursor-pointer rounded transition-all hover:brightness-125",children:a.color===t&&e.jsx(v,{className:"absolute right-7 top-3 h-4 w-4 text-white"})},a.id)),e.jsx(u,{color:"black",title:"More",children:e.jsx(Z,{trigger:"click",placement:"right",content:e.jsx(H,{color:t,handleChangeBackground:y,handleChangeBackgroundColor:N,defaultBackgrounds:i||[]}),children:e.jsx(d,{className:"flex items-center justify-center",style:{width:"76px",height:"45px"},children:e.jsx(V,{className:"h-5 w-5 "})})})})]})]}),e.jsx(d,{onClick:j,type:"text",icon:e.jsx(C,{className:"h-4 w-4"}),style:{backgroundColor:S,color:"#fff"},className:"float-right ml-auto mt-6 flex w-[120px] items-center justify-center text-white",size:"middle",disabled:!t||!s,loading:o,children:"Update"})]})})};export{le as default};
