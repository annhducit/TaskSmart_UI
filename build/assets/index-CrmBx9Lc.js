import{aH as o,aI as Ce,aJ as je,aK as ye,aL as Ie,aM as we,aN as Te,r as f,aO as Ne,at as ze,aP as qe,aQ as Ae,aR as pe,aS as Ee,aT as Oe,aU as De,a7 as ue,j as i,h as ie,k as Me,T as _,l as Q,R as Be,m as ge,n as he,I as U,p as ne,B as j,E as He,P as xe,a as Pe,d as We,i as Le,A as ae,t as J,aB as Re,F as D,a8 as Xe,aw as Fe,N as _e,a4 as Ue,aV as Ge,aD as Ve,S as Ke,O as re,aF as Ye,aW as le,aX as O,U as P,C as Qe}from"./index-bcifMYEQ.js";import{u as fe,C as be,P as Je,S as $e,T as Ze,a as ke,b as et,D as tt,d as it,e as nt,f as V,c as at}from"./popover-BSl-E8wt.js";import{u as rt}from"./use-search-params-Bty0Q4Dj.js";import{T as lt}from"./text-BZj7_MT7.js";import{L as se}from"./list-checks-Cf6GYYLu.js";const st=e=>{const{componentCls:t,customIconTop:n,customIconSize:a,customIconFontSize:r}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:n,width:a,height:a,fontSize:r,lineHeight:`${o(a)}`}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},ot=e=>{const{componentCls:t}=e,n=`${t}-item`;return{[`${t}-horizontal`]:{[`${n}-tail`]:{transform:"translateY(-50%)"}}}},ct=e=>{const{componentCls:t,inlineDotSize:n,inlineTitleColor:a,inlineTailColor:r}=e,l=e.calc(e.paddingXS).add(e.lineWidth).equal(),c={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:a}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${o(l)} ${o(e.paddingXXS)} 0`,margin:`0 ${o(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:n,height:n,marginInlineStart:`calc(50% - ${o(e.calc(n).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:a,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(n).div(2).add(l).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:r}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${o(e.lineWidth)} ${e.lineType} ${r}`}},c),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:r},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:r,border:`${o(e.lineWidth)} ${e.lineType} ${r}`}},c),"&-error":c,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:n,height:n,marginInlineStart:`calc(50% - ${o(e.calc(n).div(2).equal())})`,top:0}},c),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:a}}}}}},dt=e=>{const{componentCls:t,iconSize:n,lineHeight:a,iconSizeSM:r}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(n).div(2).add(e.controlHeightLG).equal(),padding:`0 ${o(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(n).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:a}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(n).sub(r).div(2).add(e.controlHeightLG).equal()}}}}}},mt=e=>{const{componentCls:t,navContentMaxWidth:n,navArrowColor:a,stepsNavActiveColor:r,motionDurationSlow:l}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${l}`,[`${t}-item-content`]:{maxWidth:n},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},Ce),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${o(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${o(e.lineWidth)} ${e.lineType} ${a}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${o(e.lineWidth)} ${e.lineType} ${a}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:r,transition:`width ${l}, inset-inline-start ${l}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${o(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},pt=e=>{const{antCls:t,componentCls:n,iconSize:a,iconSizeSM:r,processIconColor:l,marginXXS:c,lineWidthBold:b,lineWidth:$,paddingXXS:p}=e,g=e.calc(a).add(e.calc(b).mul(4).equal()).equal(),S=e.calc(r).add(e.calc(e.lineWidth).mul(4).equal()).equal();return{[`&${n}-with-progress`]:{[`${n}-item`]:{paddingTop:p,[`&-process ${n}-item-container ${n}-item-icon ${n}-icon`]:{color:l}},[`&${n}-vertical > ${n}-item `]:{paddingInlineStart:p,[`> ${n}-item-container > ${n}-item-tail`]:{top:c,insetInlineStart:e.calc(a).div(2).sub($).add(p).equal()}},[`&, &${n}-small`]:{[`&${n}-horizontal ${n}-item:first-child`]:{paddingBottom:p,paddingInlineStart:p}},[`&${n}-small${n}-vertical > ${n}-item > ${n}-item-container > ${n}-item-tail`]:{insetInlineStart:e.calc(r).div(2).sub($).add(p).equal()},[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:e.calc(a).div(2).add(p).equal()},[`${n}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${o(g)} !important`,height:`${o(g)} !important`}}},[`&${n}-small`]:{[`&${n}-label-vertical ${n}-item ${n}-item-tail`]:{top:e.calc(r).div(2).add(p).equal()},[`${n}-item-icon ${t}-progress-inner`]:{width:`${o(S)} !important`,height:`${o(S)} !important`}}}}},ut=e=>{const{componentCls:t,descriptionMaxWidth:n,lineHeight:a,dotCurrentSize:r,dotSize:l,motionDurationSlow:c}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:a},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${o(e.calc(n).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${o(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:l,height:l,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(l).div(2).equal(),paddingInlineEnd:0,lineHeight:`${o(l)}`,background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${c}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(l).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:n},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(l).sub(r).div(2).equal(),width:r,height:r,lineHeight:`${o(r)}`,background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(r).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(l).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(r).div(2).equal(),top:0,insetInlineStart:e.calc(l).sub(r).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(l).div(2).equal(),insetInlineStart:0,margin:0,padding:`${o(e.calc(l).add(e.paddingXS).equal())} 0 ${o(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(l).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(l).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(r).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(l).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},gt=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},ht=e=>{const{componentCls:t,iconSizeSM:n,fontSizeSM:a,fontSize:r,colorTextDescription:l}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:n,height:n,marginTop:0,marginBottom:0,marginInline:`0 ${o(e.marginXS)}`,fontSize:a,lineHeight:`${o(n)}`,textAlign:"center",borderRadius:n},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:r,lineHeight:`${o(n)}`,"&::after":{top:e.calc(n).div(2).equal()}},[`${t}-item-description`]:{color:l,fontSize:r},[`${t}-item-tail`]:{top:e.calc(n).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:n,lineHeight:`${o(n)}`,transform:"none"}}}}},xt=e=>{const{componentCls:t,iconSizeSM:n,iconSize:a}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:`${o(a)}`},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(a).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${o(e.calc(e.marginXXS).mul(1.5).add(a).equal())} 0 ${o(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(n).div(2).sub(e.lineWidth).equal(),padding:`${o(e.calc(e.marginXXS).mul(1.5).add(n).equal())} 0 ${o(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:`${o(n)}`}}}}},ft="wait",bt="process",$t="finish",St="error",K=(e,t)=>{const n=`${t.componentCls}-item`,a=`${e}IconColor`,r=`${e}TitleColor`,l=`${e}DescriptionColor`,c=`${e}TailColor`,b=`${e}IconBgColor`,$=`${e}IconBorderColor`,p=`${e}DotColor`;return{[`${n}-${e} ${n}-icon`]:{backgroundColor:t[b],borderColor:t[$],[`> ${t.componentCls}-icon`]:{color:t[a],[`${t.componentCls}-icon-dot`]:{background:t[p]}}},[`${n}-${e}${n}-custom ${n}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[p]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-title`]:{color:t[r],"&::after":{backgroundColor:t[c]}},[`${n}-${e} > ${n}-container > ${n}-content > ${n}-description`]:{color:t[l]},[`${n}-${e} > ${n}-container > ${n}-tail::after`]:{backgroundColor:t[c]}}},vt=e=>{const{componentCls:t,motionDurationSlow:n}=e,a=`${t}-item`,r=`${a}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[a]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${a}-container > ${a}-tail, > ${a}-container >  ${a}-content > ${a}-title::after`]:{display:"none"}}},[`${a}-container`]:{outline:"none","&:focus-visible":{[r]:Object.assign({},we(e))}},[`${r}, ${a}-content`]:{display:"inline-block",verticalAlign:"top"},[r]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:`${o(e.iconSize)}`,textAlign:"center",borderRadius:e.iconSize,border:`${o(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${n}, border-color ${n}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${a}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${n}`,content:'""'}},[`${a}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:`${o(e.titleLineHeight)}`,"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${a}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${a}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},K(ft,e)),K(bt,e)),{[`${a}-process > ${a}-container > ${a}-title`]:{fontWeight:e.fontWeightStrong}}),K($t,e)),K(St,e)),{[`${a}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${a}-disabled`]:{cursor:"not-allowed"}})},Ct=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${n}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},jt=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ie(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),vt(e)),Ct(e)),st(e)),ht(e)),xt(e)),ot(e)),dt(e)),ut(e)),mt(e)),gt(e)),pt(e)),ct(e))}},yt=e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"auto",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive}),It=je("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:n,colorTextLightSolid:a,colorText:r,colorPrimary:l,colorTextDescription:c,colorTextQuaternary:b,colorError:$,colorBorderSecondary:p,colorSplit:g}=e,S=ye(e,{processIconColor:a,processTitleColor:r,processDescriptionColor:r,processIconBgColor:l,processIconBorderColor:l,processDotColor:l,processTailColor:g,waitTitleColor:c,waitDescriptionColor:c,waitTailColor:g,waitDotColor:t,finishIconColor:l,finishTitleColor:r,finishDescriptionColor:c,finishTailColor:l,finishDotColor:l,errorIconColor:a,errorTitleColor:$,errorDescriptionColor:$,errorTailColor:g,errorIconBgColor:$,errorIconBorderColor:$,errorDotColor:$,stepsNavActiveColor:l,stepsProgressSize:n,inlineDotSize:6,inlineTitleColor:b,inlineTailColor:p});return[jt(S)]},yt);function wt(e){return e.filter(t=>t)}function Tt(e,t){if(e)return e;const n=Te(t).map(a=>{if(f.isValidElement(a)){const{props:r}=a;return Object.assign({},r)}return null});return wt(n)}var Nt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const Se=e=>{const{percent:t,size:n,className:a,rootClassName:r,direction:l,items:c,responsive:b=!0,current:$=0,children:p,style:g}=e,S=Nt(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:T}=Ne(b),{getPrefixCls:u,direction:m,steps:d}=f.useContext(ze),N=f.useMemo(()=>b&&T?"vertical":l,[T,l]),h=qe(n),y=u("steps",e.prefixCls),[W,C,L]=It(y),G=e.type==="inline",Z=u("",e.iconPrefix),k=Tt(c,p),R=G?void 0:t,s=Object.assign(Object.assign({},d==null?void 0:d.style),g),v=Ae(d==null?void 0:d.className,{[`${y}-rtl`]:m==="rtl",[`${y}-with-progress`]:R!==void 0},a,r,C,L),x={finish:f.createElement(Ee,{className:`${y}-finish-icon`}),error:f.createElement(Oe,{className:`${y}-error-icon`})},w=q=>{let{node:A,status:X}=q;if(X==="process"&&R!==void 0){const M=h==="small"?32:40;return f.createElement("div",{className:`${y}-progress-icon`},f.createElement(De,{type:"circle",percent:R,size:M,strokeWidth:4,format:()=>null}),A)}return A},z=(q,A)=>q.description?f.createElement(ue,{title:q.description},A):A;return W(f.createElement(pe,Object.assign({icons:x},S,{style:s,current:$,size:h,items:k,itemRender:G?z:void 0,stepIcon:w,direction:N,prefixCls:y,iconPrefix:Z,className:v})))};Se.Step=pe.Step;var I=[];for(var te=0;te<256;++te)I.push((te+256).toString(16).slice(1));function zt(e,t=0){return(I[e[t+0]]+I[e[t+1]]+I[e[t+2]]+I[e[t+3]]+"-"+I[e[t+4]]+I[e[t+5]]+"-"+I[e[t+6]]+I[e[t+7]]+"-"+I[e[t+8]]+I[e[t+9]]+"-"+I[e[t+10]]+I[e[t+11]]+I[e[t+12]]+I[e[t+13]]+I[e[t+14]]+I[e[t+15]]).toLowerCase()}var Y,qt=new Uint8Array(16);function At(){if(!Y&&(Y=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Y(qt)}var Et=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const oe={randomUUID:Et};function ce(e,t,n){if(oe.randomUUID&&!t&&!e)return oe.randomUUID();e=e||{};var a=e.random||(e.rng||At)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,zt(a)}function ve({card:e}){const t=rt(),{setNodeRef:n,attributes:a,listeners:r,transform:l,transition:c,isDragging:b}=fe({id:e.id,data:{type:"Task",card:e}}),$={transition:c,transform:be.Transform.toString(l)};return b?i.jsx("div",{ref:n,style:$,className:"relative flex h-[100px] min-h-[170px] cursor-grab items-start rounded-xl bg-black/50 p-2.5 text-left opacity-30 hover:ring-2 hover:ring-inset hover:ring-primary-default"}):i.jsx(i.Fragment,{children:i.jsxs("div",{ref:n,style:$,...a,...r,onClick:()=>t.set({[ie.DIALOG]:Me.CARD,[ie.ID]:e.id}),className:"flex cursor-pointer flex-col rounded-lg border border-solid border-slate-300 shadow-lg transition-all hover:border-[2px] hover:border-primary-default",children:[i.jsx("div",{className:"h-[115px] w-full rounded-t-[6px]",style:{backgroundColor:"#1677ff"}}),i.jsx("div",{className:"flex items-center justify-between p-2 bg-white rounded-b-xl",children:i.jsx("div",{className:"flex flex-col gap-y-1",children:i.jsxs("div",{className:"flex flex-col gap-y-1",children:[i.jsx(_.Text,{className:"w-[140px] truncate text-xs font-semibold",children:e.name}),i.jsxs("div",{className:"flex items-center gap-x-1",children:[i.jsx(Q,{title:"The card already has a description",color:"black",placement:"bottom",children:i.jsx("div",{className:"flex items-center rounded-sm  p-1 transition-all hover:bg-[#091E4224]",children:i.jsx(lt,{className:"w-3 h-3 text-slate-500"})})}),i.jsx(Q,{color:"black",title:"Followed",placement:"bottom",children:i.jsx("div",{className:"flex items-center rounded-sm p-1 transition-all hover:bg-[#091E4224]",children:i.jsx(Be,{className:"w-3 h-3 text-slate-500"})})}),i.jsx(Q,{color:"black",title:"Attactments",className:"text-[10px]",placement:"bottom",children:i.jsxs("div",{className:"flex items-center rounded-sm p-[2px] transition-all hover:bg-[#091E4224]",children:[i.jsx(Je,{className:"w-3 h-3 text-slate-500"}),i.jsx(_.Text,{className:"ml-[1px] text-xs",children:"3"})]})})]})]})})})]})})}const de=({column:e,cards:t,updateColumn:n,deleteColumn:a,createCard:r})=>{const l=f.useMemo(()=>t.map(C=>C.id),[t]),c={id:"",name:"",description:"",listCardId:"",checkLists:[]},[b,$]=f.useState(c),[p,g]=ge(!1),S=C=>{$({...b,name:C})},{setNodeRef:T,attributes:u,listeners:m,transform:d,transition:N,isDragging:h}=fe({id:e.id,data:{type:"Column",column:e}}),y={transition:N,transform:be.Transform.toString(d)};if(h)return i.jsx("div",{ref:T,style:y,className:"flex h-[520px] w-[275px] flex-col items-center rounded-xl border-none bg-[#ffffff3d]"});const W=he(C=>C.theme.btnColor);return i.jsxs("div",{ref:T,style:y,className:"flex max-h-[520px] w-[275px] cursor-move flex-col gap-y-2 rounded-xl bg-white p-2 shadow-lg",children:[i.jsxs("div",{...u,...m,className:"flex items-center justify-between",children:[i.jsx("div",{children:i.jsx(U,{allowClear:!0,type:"text",defaultValue:e.name,className:"cursor-pointer rounded-xl border-none text-base font-bold transition-all",onPressEnter:C=>{n&&n({...e,name:C.currentTarget.value})},onBlur:C=>{n&&n({...e,name:C.target.value})}})}),i.jsx(ne,{placement:"rightTop",trigger:"click",title:i.jsx("div",{className:"text-center font-semibold",children:"Behavior"}),content:i.jsxs("div",{className:"flex flex-col gap-y-2",children:[i.jsx(j,{type:"default",className:"text-left text-xs",children:"Add Card"}),i.jsx(j,{type:"default",className:"text-left text-xs ",children:"Add List"}),i.jsx(j,{type:"default",className:"text-left text-xs ",children:"Copy List"}),i.jsx(j,{type:"default",className:"text-left text-xs ",children:"Move List"}),i.jsx(j,{type:"default",className:"text-left text-xs ",children:"Archive List"})]}),children:i.jsx("div",{className:"rounded px-1 transition-all hover:bg-[#091E4224]",children:i.jsx(He,{className:"mt-1 h-5 w-5 text-slate-500"})})})]}),i.jsx("div",{className:"flex max-h-[420px] flex-col gap-y-2 overflow-y-scroll",children:i.jsx($e,{items:l,children:t.map(C=>i.jsx(ve,{card:C},C.id))})}),i.jsxs("div",{className:"flex items-center gap-x-2",children:[i.jsx(ne,{trigger:"click",onOpenChange:g,open:p,content:i.jsxs("div",{className:"flex flex-col gap-y-2",children:[i.jsx(_.Text,{className:"text-xs",children:"Create new card"}),i.jsx(U,{onChange:C=>S(C.target.value),value:b.name,placeholder:"Enter card title",onPressEnter:r&&(()=>{r(e.id,b),g(!1),S("")})}),i.jsx(j,{type:"primary",size:"small",className:"w-full text-white",onClick:r&&(()=>{r(e.id,b),g(!1),S("")}),style:{backgroundColor:W,color:"#fff"},children:"Add Card"})]}),children:i.jsx(j,{type:"dashed",icon:i.jsx(xe,{className:"h-4 w-4"}),className:"flex w-full items-center rounded-xl",children:"Add Card"})}),i.jsx(Q,{title:"Remove card",children:i.jsx("div",{className:"cursor-pointer rounded px-1 transition-all hover:bg-[#091E4224]",children:i.jsx(Ze,{onClick:a&&(()=>{a(e.id)}),className:"mt-1 h-4 w-4 text-slate-500"})})})]})]})},Ot=async e=>await J.post("/templates",e),Dt=()=>{const e=Re(),t=Pe();return We({mutationFn:Ot,onSuccess:n=>{Le(n.status)?(ae.success("Template created successfully"),e(),t("/admin/template",{replace:!0})):ae.error("Failed to create template")}})},Mt=({setTemplate:e,setBackgroundImage:t})=>{const[n,a]=f.useState([]),[r,l]=f.useState(""),[c,b]=f.useState(1);f.useEffect(()=>{(async()=>{try{const{data:d}=await J.get("unsplash/photos?page=1&per_page=6");a(d)}catch(d){console.log(d)}})()},[]);const $=async()=>{try{const m=await J.get("unsplash/photos?page=1&per_page=6");a(d=>[...d,...m.data])}catch(m){console.log(m)}},p=async m=>{try{const d=await J.get(`unsplash/photos?query=${m}&page=${c}&per_page=6`);a(c===1?d.data:N=>[...N,...d.data])}catch(d){console.log(d)}},g=()=>{r?(p(r),b(m=>m+1)):$()},S=i.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:i.jsx(j,{onClick:g,children:"Load more"})}),T=(m,d,N)=>{m&&(p(m),b(2))},u=m=>{t(m.urls.regular),e(d=>({...d,imageUnsplashId:"wrsa2XI8OhM",project:{...d.project,background:m.id}}))};return i.jsxs("div",{className:"my-4 w-full",children:[i.jsx("div",{className:"mx-auto mb-2 w-full transition-transform",children:i.jsx(_.Text,{className:"text-base font-semibold",children:"Choose a background for your project"})}),i.jsxs("div",{className:"w-full",children:[i.jsx(D,{layout:"vertical",children:i.jsx(D.Item,{label:"Wallpaper",children:i.jsx("div",{children:i.jsx(Xe.Input.Search,{value:r,onChange:m=>{l(m.target.value)},placeholder:"Nature, building, ...",onSearch:T})})})}),i.jsx(Fe,{className:"w-full",grid:{gutter:16,column:6},loadMore:S,dataSource:n,renderItem:m=>i.jsx("div",{className:"relative h-52 w-full cursor-pointer hover:brightness-125",onClick:()=>u(m),children:i.jsx("img",{src:m.urls.small,alt:"background",className:"h-full w-full rounded object-cover"})})}),i.jsx(_e,{className:"my-1"})]})]})},Rt=()=>{var N;const[e,t]=f.useState(0),[n]=D.useForm(),[a,r]=f.useState({name:"",description:"",categoryId:"",imageUnsplashId:"",project:{name:"Project sample",background:"",description:"",listCards:[]},createdDate:Ue().format(Ge)}),[l,c]=f.useState(""),b=()=>{t(e+1)},$=()=>{t(e-1)},{data:p}=Ve(),g=()=>{e===0?n.validateFields().then(h=>{h.name&&h.description&&h.categoryId?(r(y=>({...y,...h})),b()):n.setFields([{name:"name",errors:["Name is required"]},{name:"description",errors:["Description is required"]},{name:"categoryId",errors:["Category is required"]}])}):b()},S=[{title:"Overview",content:i.jsx(i.Fragment,{children:i.jsxs(D,{layout:"vertical",className:"my-4 rounded bg-slate-100 p-10",form:n,onFinish:g,children:[i.jsx(D.Item,{label:"Name",name:"name",children:i.jsx(U,{placeholder:"Name",allowClear:!0})}),i.jsx(D.Item,{label:"Description",name:"description",children:i.jsx(U.TextArea,{rows:4,placeholder:"Name",allowClear:!0})}),i.jsx(D.Item,{name:"categoryId",label:"Category",children:i.jsx(Ke,{allowClear:!0,className:"w-[150px]",placeholder:"Select category",options:[...(p==null?void 0:p.map(h=>({label:h.name,value:h.id})))||[]]})})]})})},{title:"Detail",content:i.jsxs("div",{children:[i.jsx("div",{children:i.jsx(Mt,{setTemplate:r,setBackgroundImage:c})}),i.jsxs("section",{className:"relative mx-auto my-4 h-[600px]  w-[calc(100vw-400px)] rounded-lg bg-cover bg-center bg-no-repeat",style:{backgroundPosition:"center",backgroundImage:`url(${l})`},children:[i.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-40"}),i.jsxs("div",{className:"flex items-start gap-x-2",children:[i.jsx("div",{children:i.jsx(re,{tabBarGutter:20,className:"custom-tabs-template mb-0 w-[calc(100vw-400px)] text-white",items:[{key:"project",label:"Project",children:i.jsx(me,{template:a,setTemplate:r})},{key:"Kaban",label:"Kaban",children:i.jsx("div",{className:"px-6",children:"Overview"})}],tabBarExtraContent:{left:i.jsx("div",{className:"mr-8 flex items-center",children:i.jsxs("div",{className:"flex max-w-[180px] items-center gap-x-2 truncate",children:[i.jsx(ue,{title:"Edit name",children:i.jsx("div",{className:"cursor-pointer p-1 hover:brightness-200",onClick:()=>{const h=document.querySelector("#input-name");h&&h.focus()},children:i.jsx(Ye,{size:"16",color:"#fff",className:"text-white "})})}),i.jsx("input",{id:"input-name",value:(N=a.project)==null?void 0:N.name,onChange:h=>r(y=>({...y,project:{...y.project,name:h.target.value}})),className:"border-none bg-transparent p-2 text-lg font-semibold text-white outline-none"})]})})}})}),i.jsxs("div",{className:"absolute right-6 top-[10px] flex items-center gap-x-4 rounded-lg",children:[i.jsx(j,{size:"middle",className:"flex items-center",type:"default",icon:i.jsx(le,{size:"14"}),children:"Search"}),i.jsx(j,{type:"primary",size:"middle",className:"flex items-center gap-x-2",icon:i.jsx(se,{size:"14"}),children:"Add task"}),i.jsxs(O.Group,{maxCount:2,className:"flex items-center",children:[i.jsx(O,{style:{backgroundColor:"#f56a00"},icon:i.jsx(P,{size:"12"})}),i.jsx(O,{style:{backgroundColor:"#7265e6"},icon:i.jsx(P,{size:"12"})}),i.jsx(O,{style:{backgroundColor:"#ffbf00"},icon:i.jsx(P,{size:"12"})})]})]})]})]})]})},{title:"Preview",content:i.jsxs("section",{className:"relative mx-auto my-4 h-[600px]  w-[calc(100vw-400px)] rounded-lg bg-cover bg-center bg-no-repeat",style:{backgroundPosition:"center",backgroundImage:`url(${l})`},children:[i.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-40"}),i.jsxs("div",{className:"flex items-start gap-x-2",children:[i.jsx("div",{children:i.jsx(re,{tabBarGutter:20,className:"custom-tabs-template mb-0 w-[calc(100vw-400px)] text-white",items:[{key:"project",label:"Project",disabled:!0,children:i.jsx(me,{template:a,setTemplate:r})},{key:"Kaban",label:"Kaban",children:i.jsx("div",{className:"px-6",children:"Overview"})}],tabBarExtraContent:{left:i.jsx("div",{className:"mr-8 flex items-center",children:i.jsx("p",{className:"mr-4 max-w-48 truncate text-[18px] font-bold",children:a==null?void 0:a.project.name})})}})}),i.jsxs("div",{className:"absolute right-6 top-[10px] flex items-center gap-x-4 rounded-lg",children:[i.jsx(j,{size:"middle",className:"flex items-center",type:"default",icon:i.jsx(le,{size:"14"}),children:"Search"}),i.jsx(j,{type:"primary",size:"middle",className:"flex items-center gap-x-2",icon:i.jsx(se,{size:"14"}),children:"Add task"}),i.jsxs(O.Group,{maxCount:2,className:"flex items-center",children:[i.jsx(O,{style:{backgroundColor:"#f56a00"},icon:i.jsx(P,{size:"12"})}),i.jsx(O,{style:{backgroundColor:"#7265e6"},icon:i.jsx(P,{size:"12"})}),i.jsx(O,{style:{backgroundColor:"#ffbf00"},icon:i.jsx(P,{size:"12"})})]})]})]})]})}],T=S.map(h=>({key:h.title,title:h.title})),{mutate:u,isPending:m}=Dt(),d=()=>{u(a)};return i.jsxs(i.Fragment,{children:[i.jsx(_.Title,{level:3,children:"Create Template"}),i.jsxs("div",{className:"p-6 px-10",children:[i.jsx(Se,{current:e,items:T}),i.jsx("div",{children:S[e].content}),i.jsxs("div",{style:{marginTop:24},children:[e<S.length-1&&i.jsx(j,{type:"primary",onClick:g,children:"Next"}),e===S.length-1&&i.jsx(j,{loading:m,type:"primary",onClick:d,children:"Done"}),e>0&&i.jsx(j,{style:{margin:"0 8px"},onClick:()=>$(),children:"Previous"})]})]})]})},me=({template:e,setTemplate:t})=>{const n=ke(et(at,{activationConstraint:{distance:10}})),[a,r]=f.useState(null),[l,c]=f.useState(null),[b,$]=ge(!1),p=s=>{$(s)},[g,S]=f.useState(e.project.listCards),T=f.useMemo(()=>g.map(s=>s==null?void 0:s.id),[g]),[u,m]=f.useState(e.project.listCards.flatMap(s=>s.cards)),[d,N]=f.useState({id:"",name:"",cards:[]}),h=s=>{const v=g.map(x=>({...x,cards:s.filter(w=>w.listCardId===x.id)}));t(x=>({...x,project:{...x.project,listCards:v}}))},y=()=>{S(s=>[...s,d]),t(s=>({...s,project:{...s.project,listCards:[...s.project.listCards,d]}}))},W=async(s,v)=>{v.listCardId=s,v.id=ce(),m(x=>[...x,v]),h([...u,v])},C=s=>{S(s),h(u)},L=s=>{m(s),h(s)},G=he(s=>s.theme.btnColor);return i.jsxs(tt,{sensors:n,onDragStart:Z,onDragEnd:k,onDragOver:R,children:[i.jsx("div",{className:"inline-block min-h-screen px-6 ",children:i.jsxs("div",{className:"flex items-start gap-x-3",children:[i.jsx($e,{items:T,children:g.map((s,v)=>i.jsx(de,{createCard:W,column:s,cards:(u==null?void 0:u.filter(x=>x.listCardId===s.id))||[],deleteColumn:x=>{S(w=>w.filter(z=>z.id!==x))}},v))}),i.jsx(it,{visible:b,onOpenChange:p,content:i.jsxs("div",{className:"flex w-[250px] flex-col gap-4",children:[i.jsx(U,{placeholder:"Enter list title",allowClear:!0,size:"large",className:"rounded text-sm font-semibold ",value:d.name,onChange:s=>{N(v=>({...v,id:ce(),name:s.target.value}))}}),i.jsxs("div",{className:"ml-auto flex items-center gap-x-2",children:[i.jsx(j,{onClick:y,type:"text",style:{backgroundColor:G,color:"#fff"},className:"rounded text-xs font-semibold text-white",children:"Add list"}),i.jsx(j,{type:"default",className:"w-16 rounded text-xs font-semibold",children:"Cancel"})]})]}),children:i.jsx(j,{icon:i.jsx(xe,{className:"h-4 w-4 opacity-65"}),size:"large",className:"flex w-[275px] items-center rounded-xl border-none bg-[#ffffff3d] text-sm font-semibold text-white",children:"Add new list"})})]})}),Qe.createPortal(i.jsxs(nt,{children:[a&&i.jsx(de,{column:a,cards:u.filter(s=>s.listCardId===a.id)}),l&&i.jsx(ve,{card:l})]}),document.body)]});function Z(s){var v,x;if(((v=s.active.data.current)==null?void 0:v.type)==="Column"){r(s.active.data.current.column);return}if(((x=s.active.data.current)==null?void 0:x.type)==="Task"){c(s.active.data.current.task);return}}function k(s){var F;r(null),c(null);const{active:v,over:x}=s;if(!x)return;const w=v.id,z=x.id;if(w===z||!(((F=v.data.current)==null?void 0:F.type)==="Column"))return;const A=g.findIndex(B=>B.id===w),X=g.findIndex(B=>B.id===z),M=V(g,A,X);C(M)}function R(s){var M,F,B;const{active:v,over:x}=s;if(!x)return;const w=v.id,z=x.id;if(w===z)return;const q=((M=v.data.current)==null?void 0:M.type)==="Task",A=((F=x.data.current)==null?void 0:F.type)==="Task";if(!q)return;if(q&&A){const E=u.findIndex(ee=>ee.id===w),H=u.findIndex(ee=>ee.id===z);u[E].listCardId!=u[H].listCardId&&(u[E].listCardId=u[H].listCardId,L(V(u,E,H-1))),L(V(u,E,H))}const X=((B=x.data.current)==null?void 0:B.type)==="Column";if(q&&X){const E=u.findIndex(H=>H.id===w);u[E].listCardId=z.toString(),L(V(u,E,E))}}};export{Rt as default};
