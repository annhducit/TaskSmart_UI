import{ay as y,t as u,a as v,bY as f,bZ as N,aY as k,j as s,ak as d,T as n,b_ as i,N as b,b$ as w,a9 as A}from"./index-bcifMYEQ.js";const R=async()=>{const{data:l}=await u.get("/projects/recent");return l},T=()=>y({queryKey:["tsm/recent-activity"],queryFn:R}),G=()=>{const l=v();function x(e,o,g,m){return{key:o,icon:g,children:m,label:e}}const{data:t}=f(),{data:a,isPending:p}=N(),{data:c}=k(),{data:r}=T(),j=[{key:"all",label:"All workspace",icon:s.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl text-lg font-bold text-white",children:"All"})},...(t==null?void 0:t.map(e=>{const o=d[Math.floor(Math.random()*d.length)].color;return x(e.name,e.id.toString(),s.jsx("div",{style:{backgroundColor:o,color:"white"},className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl text-lg font-bold text-white",children:e==null?void 0:e.name.charAt(0).toUpperCase()}))}))||[]],h=e=>{e.key==="all"?l("../../tsm/home"):l(`../../../tsm/workspaces/${e.key}`)};return s.jsxs("div",{className:"mb-10 flex flex-col gap-y-2",children:[s.jsx(n.Title,{level:3,children:"Recent viewed"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:r==null?void 0:r.map(e=>s.jsx(i,{project:e,type:"RECENT",recent:e.lastAccessed},e.id))}),s.jsx(b,{className:"my-[4px]"}),s.jsx(n.Title,{level:3,children:"Your workspace"}),s.jsxs("div",{className:"grid grid-cols-4 gap-x-6",children:[s.jsx("div",{className:"col-span-1 h-[calc(100vh-200px)] overflow-y-scroll",children:s.jsx(w,{mode:"inline",onClick:h,activeKey:"1",className:"flex flex-col gap-y-1",style:{width:280},defaultSelectedKeys:["all"],items:j})}),a!=null&&a.projects?s.jsxs("div",{className:"col-span-3",children:[p&&s.jsx(A,{}),s.jsx("div",{className:"grid grid-cols-2 gap-4 ",children:a==null?void 0:a.projects.map(e=>s.jsx(i,{project:e},e.id))})]}):s.jsxs("div",{className:"col-span-3 h-[calc(100vh-200px)] overflow-y-scroll",children:[s.jsx(n.Title,{level:4,children:"All projects"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:c==null?void 0:c.projects.map(e=>s.jsx(i,{project:e},e.id))})]})]})]})};export{G as default};
